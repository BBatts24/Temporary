(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();var Af={exports:{}},cl={};var l_;function OT(){if(l_)return cl;l_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(l,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var m in o)m!=="key"&&(f[m]=o[m])}else f=o;return o=f.ref,{$$typeof:s,type:l,key:h,ref:o!==void 0?o:null,props:f}}return cl.Fragment=t,cl.jsx=i,cl.jsxs=i,cl}var r_;function IT(){return r_||(r_=1,Af.exports=OT()),Af.exports}var he=IT(),Rf={exports:{}},Q={};var o_;function DT(){if(o_)return Q;o_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),E=Symbol.iterator;function M(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,ue={};function me(C,L,H){this.props=C,this.context=L,this.refs=ue,this.updater=H||U}me.prototype.isReactComponent={},me.prototype.setState=function(C,L){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,L,"setState")},me.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Le(){}Le.prototype=me.prototype;function we(C,L,H){this.props=C,this.context=L,this.refs=ue,this.updater=H||U}var ge=we.prototype=new Le;ge.constructor=we,j(ge,me.prototype),ge.isPureReactComponent=!0;var oe=Array.isArray;function Ue(){}var X={H:null,A:null,T:null,S:null},ht=Object.prototype.hasOwnProperty;function nn(C,L,H){var G=H.ref;return{$$typeof:s,type:C,key:L,ref:G!==void 0?G:null,props:H}}function cs(C,L){return nn(C.type,L,C.props)}function sn(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function dt(C){var L={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(H){return L[H]})}var Ii=/\/+/g;function dn(C,L){return typeof C=="object"&&C!==null&&C.key!=null?dt(""+C.key):L.toString(36)}function Pt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Ue,Ue):(C.status="pending",C.then(function(L){C.status==="pending"&&(C.status="fulfilled",C.value=L)},function(L){C.status==="pending"&&(C.status="rejected",C.reason=L)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function I(C,L,H,G,Z){var ee=typeof C;(ee==="undefined"||ee==="boolean")&&(C=null);var _e=!1;if(C===null)_e=!0;else switch(ee){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(C.$$typeof){case s:case t:_e=!0;break;case S:return _e=C._init,I(_e(C._payload),L,H,G,Z)}}if(_e)return Z=Z(C),_e=G===""?"."+dn(C,0):G,oe(Z)?(H="",_e!=null&&(H=_e.replace(Ii,"$&/")+"/"),I(Z,L,H,"",function(_a){return _a})):Z!=null&&(sn(Z)&&(Z=cs(Z,H+(Z.key==null||C&&C.key===Z.key?"":(""+Z.key).replace(Ii,"$&/")+"/")+_e)),L.push(Z)),1;_e=0;var ot=G===""?".":G+":";if(oe(C))for(var Be=0;Be<C.length;Be++)G=C[Be],ee=ot+dn(G,Be),_e+=I(G,L,H,ee,Z);else if(Be=M(C),typeof Be=="function")for(C=Be.call(C),Be=0;!(G=C.next()).done;)G=G.value,ee=ot+dn(G,Be++),_e+=I(G,L,H,ee,Z);else if(ee==="object"){if(typeof C.then=="function")return I(Pt(C),L,H,G,Z);throw L=String(C),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return _e}function z(C,L,H){if(C==null)return C;var G=[],Z=0;return I(C,G,"","",function(ee){return L.call(H,ee,Z++)}),G}function F(C){if(C._status===-1){var L=C._result;L=L(),L.then(function(H){(C._status===0||C._status===-1)&&(C._status=1,C._result=H)},function(H){(C._status===0||C._status===-1)&&(C._status=2,C._result=H)}),C._status===-1&&(C._status=0,C._result=L)}if(C._status===1)return C._result.default;throw C._result}var Ee=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Ae={map:z,forEach:function(C,L,H){z(C,function(){L.apply(this,arguments)},H)},count:function(C){var L=0;return z(C,function(){L++}),L},toArray:function(C){return z(C,function(L){return L})||[]},only:function(C){if(!sn(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Q.Activity=y,Q.Children=Ae,Q.Component=me,Q.Fragment=i,Q.Profiler=o,Q.PureComponent=we,Q.StrictMode=l,Q.Suspense=g,Q.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Q.__COMPILER_RUNTIME={__proto__:null,c:function(C){return X.H.useMemoCache(C)}},Q.cache=function(C){return function(){return C.apply(null,arguments)}},Q.cacheSignal=function(){return null},Q.cloneElement=function(C,L,H){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var G=j({},C.props),Z=C.key;if(L!=null)for(ee in L.key!==void 0&&(Z=""+L.key),L)!ht.call(L,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&L.ref===void 0||(G[ee]=L[ee]);var ee=arguments.length-2;if(ee===1)G.children=H;else if(1<ee){for(var _e=Array(ee),ot=0;ot<ee;ot++)_e[ot]=arguments[ot+2];G.children=_e}return nn(C.type,Z,G)},Q.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},Q.createElement=function(C,L,H){var G,Z={},ee=null;if(L!=null)for(G in L.key!==void 0&&(ee=""+L.key),L)ht.call(L,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(Z[G]=L[G]);var _e=arguments.length-2;if(_e===1)Z.children=H;else if(1<_e){for(var ot=Array(_e),Be=0;Be<_e;Be++)ot[Be]=arguments[Be+2];Z.children=ot}if(C&&C.defaultProps)for(G in _e=C.defaultProps,_e)Z[G]===void 0&&(Z[G]=_e[G]);return nn(C,ee,Z)},Q.createRef=function(){return{current:null}},Q.forwardRef=function(C){return{$$typeof:m,render:C}},Q.isValidElement=sn,Q.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:F}},Q.memo=function(C,L){return{$$typeof:p,type:C,compare:L===void 0?null:L}},Q.startTransition=function(C){var L=X.T,H={};X.T=H;try{var G=C(),Z=X.S;Z!==null&&Z(H,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Ue,Ee)}catch(ee){Ee(ee)}finally{L!==null&&H.types!==null&&(L.types=H.types),X.T=L}},Q.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Q.use=function(C){return X.H.use(C)},Q.useActionState=function(C,L,H){return X.H.useActionState(C,L,H)},Q.useCallback=function(C,L){return X.H.useCallback(C,L)},Q.useContext=function(C){return X.H.useContext(C)},Q.useDebugValue=function(){},Q.useDeferredValue=function(C,L){return X.H.useDeferredValue(C,L)},Q.useEffect=function(C,L){return X.H.useEffect(C,L)},Q.useEffectEvent=function(C){return X.H.useEffectEvent(C)},Q.useId=function(){return X.H.useId()},Q.useImperativeHandle=function(C,L,H){return X.H.useImperativeHandle(C,L,H)},Q.useInsertionEffect=function(C,L){return X.H.useInsertionEffect(C,L)},Q.useLayoutEffect=function(C,L){return X.H.useLayoutEffect(C,L)},Q.useMemo=function(C,L){return X.H.useMemo(C,L)},Q.useOptimistic=function(C,L){return X.H.useOptimistic(C,L)},Q.useReducer=function(C,L,H){return X.H.useReducer(C,L,H)},Q.useRef=function(C){return X.H.useRef(C)},Q.useState=function(C){return X.H.useState(C)},Q.useSyncExternalStore=function(C,L,H){return X.H.useSyncExternalStore(C,L,H)},Q.useTransition=function(){return X.H.useTransition()},Q.version="19.2.4",Q}var u_;function fh(){return u_||(u_=1,Rf.exports=DT()),Rf.exports}var un=fh(),Nf={exports:{}},fl={},wf={exports:{}},Of={};var c_;function MT(){return c_||(c_=1,(function(s){function t(I,z){var F=I.length;I.push(z);e:for(;0<F;){var Ee=F-1>>>1,Ae=I[Ee];if(0<o(Ae,z))I[Ee]=z,I[F]=Ae,F=Ee;else break e}}function i(I){return I.length===0?null:I[0]}function l(I){if(I.length===0)return null;var z=I[0],F=I.pop();if(F!==z){I[0]=F;e:for(var Ee=0,Ae=I.length,C=Ae>>>1;Ee<C;){var L=2*(Ee+1)-1,H=I[L],G=L+1,Z=I[G];if(0>o(H,F))G<Ae&&0>o(Z,H)?(I[Ee]=Z,I[G]=F,Ee=G):(I[Ee]=H,I[L]=F,Ee=L);else if(G<Ae&&0>o(Z,F))I[Ee]=Z,I[G]=F,Ee=G;else break e}}return z}function o(I,z){var F=I.sortIndex-z.sortIndex;return F!==0?F:I.id-z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var g=[],p=[],S=1,y=null,E=3,M=!1,U=!1,j=!1,ue=!1,me=typeof setTimeout=="function"?setTimeout:null,Le=typeof clearTimeout=="function"?clearTimeout:null,we=typeof setImmediate<"u"?setImmediate:null;function ge(I){for(var z=i(p);z!==null;){if(z.callback===null)l(p);else if(z.startTime<=I)l(p),z.sortIndex=z.expirationTime,t(g,z);else break;z=i(p)}}function oe(I){if(j=!1,ge(I),!U)if(i(g)!==null)U=!0,Ue||(Ue=!0,dt());else{var z=i(p);z!==null&&Pt(oe,z.startTime-I)}}var Ue=!1,X=-1,ht=5,nn=-1;function cs(){return ue?!0:!(s.unstable_now()-nn<ht)}function sn(){if(ue=!1,Ue){var I=s.unstable_now();nn=I;var z=!0;try{e:{U=!1,j&&(j=!1,Le(X),X=-1),M=!0;var F=E;try{t:{for(ge(I),y=i(g);y!==null&&!(y.expirationTime>I&&cs());){var Ee=y.callback;if(typeof Ee=="function"){y.callback=null,E=y.priorityLevel;var Ae=Ee(y.expirationTime<=I);if(I=s.unstable_now(),typeof Ae=="function"){y.callback=Ae,ge(I),z=!0;break t}y===i(g)&&l(g),ge(I)}else l(g);y=i(g)}if(y!==null)z=!0;else{var C=i(p);C!==null&&Pt(oe,C.startTime-I),z=!1}}break e}finally{y=null,E=F,M=!1}z=void 0}}finally{z?dt():Ue=!1}}}var dt;if(typeof we=="function")dt=function(){we(sn)};else if(typeof MessageChannel<"u"){var Ii=new MessageChannel,dn=Ii.port2;Ii.port1.onmessage=sn,dt=function(){dn.postMessage(null)}}else dt=function(){me(sn,0)};function Pt(I,z){X=me(function(){I(s.unstable_now())},z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(I){I.callback=null},s.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ht=0<I?Math.floor(1e3/I):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_next=function(I){switch(E){case 1:case 2:case 3:var z=3;break;default:z=E}var F=E;E=z;try{return I()}finally{E=F}},s.unstable_requestPaint=function(){ue=!0},s.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var F=E;E=I;try{return z()}finally{E=F}},s.unstable_scheduleCallback=function(I,z,F){var Ee=s.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Ee+F:Ee):F=Ee,I){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=F+Ae,I={id:S++,callback:z,priorityLevel:I,startTime:F,expirationTime:Ae,sortIndex:-1},F>Ee?(I.sortIndex=F,t(p,I),i(g)===null&&I===i(p)&&(j?(Le(X),X=-1):j=!0,Pt(oe,F-Ee))):(I.sortIndex=Ae,t(g,I),U||M||(U=!0,Ue||(Ue=!0,dt()))),I},s.unstable_shouldYield=cs,s.unstable_wrapCallback=function(I){var z=E;return function(){var F=E;E=z;try{return I.apply(this,arguments)}finally{E=F}}}})(Of)),Of}var f_;function xT(){return f_||(f_=1,wf.exports=MT()),wf.exports}var If={exports:{}},at={};var h_;function LT(){if(h_)return at;h_=1;var s=fh();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(g,p,S){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:g,containerInfo:p,implementation:S}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return at.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,at.createPortal=function(g,p){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return f(g,p,null,S)},at.flushSync=function(g){var p=h.T,S=l.p;try{if(h.T=null,l.p=2,g)return g()}finally{h.T=p,l.p=S,l.d.f()}},at.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},at.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},at.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var S=p.as,y=m(S,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;S==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:M}):S==="script"&&l.d.X(g,{crossOrigin:y,integrity:E,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},at.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var S=m(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},at.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var S=p.as,y=m(S,p.crossOrigin);l.d.L(g,S,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},at.preloadModule=function(g,p){if(typeof g=="string")if(p){var S=m(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},at.requestFormReset=function(g){l.d.r(g)},at.unstable_batchedUpdates=function(g,p){return g(p)},at.useFormState=function(g,p,S){return h.H.useFormState(g,p,S)},at.useFormStatus=function(){return h.H.useHostTransitionStatus()},at.version="19.2.4",at}var d_;function UT(){if(d_)return If.exports;d_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),If.exports=LT(),If.exports}var m_;function kT(){if(m_)return fl;m_=1;var s=xT(),t=fh(),i=UT();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(l(188))}function p(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(l(188));return n!==e?null:e}for(var a=e,r=n;;){var u=a.return;if(u===null)break;var c=u.alternate;if(c===null){if(r=u.return,r!==null){a=r;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===a)return g(u),e;if(c===r)return g(u),n;c=c.sibling}throw Error(l(188))}if(a.return!==r.return)a=u,r=c;else{for(var d=!1,_=u.child;_;){if(_===a){d=!0,a=u,r=c;break}if(_===r){d=!0,r=u,a=c;break}_=_.sibling}if(!d){for(_=c.child;_;){if(_===a){d=!0,a=c,r=u;break}if(_===r){d=!0,r=c,a=u;break}_=_.sibling}if(!d)throw Error(l(189))}}if(a.alternate!==r)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),Le=Symbol.for("react.consumer"),we=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ht=Symbol.for("react.lazy"),nn=Symbol.for("react.activity"),cs=Symbol.for("react.memo_cache_sentinel"),sn=Symbol.iterator;function dt(e){return e===null||typeof e!="object"?null:(e=sn&&e[sn]||e["@@iterator"],typeof e=="function"?e:null)}var Ii=Symbol.for("react.client.reference");function dn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ii?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case me:return"Profiler";case ue:return"StrictMode";case oe:return"Suspense";case Ue:return"SuspenseList";case nn:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case we:return e.displayName||"Context";case Le:return(e._context.displayName||"Context")+".Consumer";case ge:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return n=e.displayName||null,n!==null?n:dn(e.type)||"Memo";case ht:n=e._payload,e=e._init;try{return dn(e(n))}catch{}}return null}var Pt=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},Ee=[],Ae=-1;function C(e){return{current:e}}function L(e){0>Ae||(e.current=Ee[Ae],Ee[Ae]=null,Ae--)}function H(e,n){Ae++,Ee[Ae]=e.current,e.current=n}var G=C(null),Z=C(null),ee=C(null),_e=C(null);function ot(e,n){switch(H(ee,n),H(Z,e),H(G,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Og(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Og(n),e=Ig(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(G),H(G,e)}function Be(){L(G),L(Z),L(ee)}function _a(e){e.memoizedState!==null&&H(_e,e);var n=G.current,a=Ig(n,e.type);n!==a&&(H(Z,e),H(G,a))}function Xl(e){Z.current===e&&(L(G),L(Z)),_e.current===e&&(L(_e),ll._currentValue=F)}var lu,ad;function Di(e){if(lu===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);lu=n&&n[1]||"",ad=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lu+e+ad}var ru=!1;function ou(e,n){if(!e||ru)return"";ru=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var x=function(){throw Error()};if(Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(w){var N=w}Reflect.construct(e,[],x)}else{try{x.call()}catch(w){N=w}e.call(x.prototype)}}else{try{throw Error()}catch(w){N=w}(x=e())&&typeof x.catch=="function"&&x.catch(function(){})}}catch(w){if(w&&N&&typeof w.stack=="string")return[w.stack,N.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=r.DetermineComponentFrameRoot(),d=c[0],_=c[1];if(d&&_){var v=d.split(`
`),R=_.split(`
`);for(u=r=0;r<v.length&&!v[r].includes("DetermineComponentFrameRoot");)r++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(r===v.length||u===R.length)for(r=v.length-1,u=R.length-1;1<=r&&0<=u&&v[r]!==R[u];)u--;for(;1<=r&&0<=u;r--,u--)if(v[r]!==R[u]){if(r!==1||u!==1)do if(r--,u--,0>u||v[r]!==R[u]){var O=`
`+v[r].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=r&&0<=u);break}}}finally{ru=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Di(a):""}function lS(e,n){switch(e.tag){case 26:case 27:case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return e.child!==n&&n!==null?Di("Suspense Fallback"):Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return ou(e.type,!1);case 11:return ou(e.type.render,!1);case 1:return ou(e.type,!0);case 31:return Di("Activity");default:return""}}function ld(e){try{var n="",a=null;do n+=lS(e,a),a=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var uu=Object.prototype.hasOwnProperty,cu=s.unstable_scheduleCallback,fu=s.unstable_cancelCallback,rS=s.unstable_shouldYield,oS=s.unstable_requestPaint,bt=s.unstable_now,uS=s.unstable_getCurrentPriorityLevel,rd=s.unstable_ImmediatePriority,od=s.unstable_UserBlockingPriority,Zl=s.unstable_NormalPriority,cS=s.unstable_LowPriority,ud=s.unstable_IdlePriority,fS=s.log,hS=s.unstable_setDisableYieldValue,ya=null,At=null;function Yn(e){if(typeof fS=="function"&&hS(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(ya,e)}catch{}}var Rt=Math.clz32?Math.clz32:pS,dS=Math.log,mS=Math.LN2;function pS(e){return e>>>=0,e===0?32:31-(dS(e)/mS|0)|0}var Wl=256,Jl=262144,$l=4194304;function Mi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function er(e,n,a){var r=e.pendingLanes;if(r===0)return 0;var u=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~c,r!==0?u=Mi(r):(d&=_,d!==0?u=Mi(d):a||(a=_&~e,a!==0&&(u=Mi(a))))):(_=r&~c,_!==0?u=Mi(_):d!==0?u=Mi(d):a||(a=r&~e,a!==0&&(u=Mi(a)))),u===0?0:n!==0&&n!==u&&(n&c)===0&&(c=u&-u,a=n&-n,c>=a||c===32&&(a&4194048)!==0)?n:u}function va(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function gS(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cd(){var e=$l;return $l<<=1,($l&62914560)===0&&($l=4194304),e}function hu(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Ea(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _S(e,n,a,r,u,c){var d=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,v=e.expirationTimes,R=e.hiddenUpdates;for(a=d&~a;0<a;){var O=31-Rt(a),x=1<<O;_[O]=0,v[O]=-1;var N=R[O];if(N!==null)for(R[O]=null,O=0;O<N.length;O++){var w=N[O];w!==null&&(w.lane&=-536870913)}a&=~x}r!==0&&fd(e,r,0),c!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~n))}function fd(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-Rt(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function hd(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var r=31-Rt(a),u=1<<r;u&n|e[r]&n&&(e[r]|=n),a&=~u}}function dd(e,n){var a=n&-n;return a=(a&42)!==0?1:du(a),(a&(e.suspendedLanes|n))!==0?0:a}function du(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function md(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:$g(e.type))}function pd(e,n){var a=z.p;try{return z.p=e,n()}finally{z.p=a}}var Pn=Math.random().toString(36).slice(2),et="__reactFiber$"+Pn,mt="__reactProps$"+Pn,fs="__reactContainer$"+Pn,pu="__reactEvents$"+Pn,yS="__reactListeners$"+Pn,vS="__reactHandles$"+Pn,gd="__reactResources$"+Pn,Sa="__reactMarker$"+Pn;function gu(e){delete e[et],delete e[mt],delete e[pu],delete e[yS],delete e[vS]}function hs(e){var n=e[et];if(n)return n;for(var a=e.parentNode;a;){if(n=a[fs]||a[et]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=zg(e);e!==null;){if(a=e[et])return a;e=zg(e)}return n}e=a,a=e.parentNode}return null}function ds(e){if(e=e[et]||e[fs]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ta(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function ms(e){var n=e[gd];return n||(n=e[gd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Xe(e){e[Sa]=!0}var _d=new Set,yd={};function xi(e,n){ps(e,n),ps(e+"Capture",n)}function ps(e,n){for(yd[e]=n,e=0;e<n.length;e++)_d.add(n[e])}var ES=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vd={},Ed={};function SS(e){return uu.call(Ed,e)?!0:uu.call(vd,e)?!1:ES.test(e)?Ed[e]=!0:(vd[e]=!0,!1)}function tr(e,n,a){if(SS(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function nr(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function mn(e,n,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+r)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function TS(e,n,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,c=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(d){a=""+d,c.call(this,d)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function _u(e){if(!e._valueTracker){var n=Sd(e)?"checked":"value";e._valueTracker=TS(e,n,""+e[n])}}function Td(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),r="";return e&&(r=Sd(e)?e.checked?"true":"false":e.value),e=r,e!==a?(n.setValue(e),!0):!1}function ir(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var CS=/[\n"\\]/g;function kt(e){return e.replace(CS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function yu(e,n,a,r,u,c,d,_){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),n!=null?d==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ut(n)):e.value!==""+Ut(n)&&(e.value=""+Ut(n)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),n!=null?vu(e,d,Ut(n)):a!=null?vu(e,d,Ut(a)):r!=null&&e.removeAttribute("value"),u==null&&c!=null&&(e.defaultChecked=!!c),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Ut(_):e.removeAttribute("name")}function Cd(e,n,a,r,u,c,d,_){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),n!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||n!=null)){_u(e);return}a=a!=null?""+Ut(a):"",n=n!=null?""+Ut(n):a,_||n===e.value||(e.value=n),e.defaultValue=n}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),_u(e)}function vu(e,n,a){n==="number"&&ir(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function gs(e,n,a,r){if(e=e.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=n.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&r&&(e[a].defaultSelected=!0)}else{for(a=""+Ut(a),n=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function bd(e,n,a){if(n!=null&&(n=""+Ut(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ut(a):""}function Ad(e,n,a,r){if(n==null){if(r!=null){if(a!=null)throw Error(l(92));if(Pt(r)){if(1<r.length)throw Error(l(93));r=r[0]}a=r}a==null&&(a=""),n=a}a=Ut(n),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),_u(e)}function _s(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var bS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rd(e,n,a){var r=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,a):typeof a!="number"||a===0||bS.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Nd(e,n,a){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in n)r=n[u],n.hasOwnProperty(u)&&a[u]!==r&&Rd(e,u,r)}else for(var c in n)n.hasOwnProperty(c)&&Rd(e,c,n[c])}function Eu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),RS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sr(e){return RS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function pn(){}var Su=null;function Tu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ys=null,vs=null;function wd(e){var n=ds(e);if(n&&(e=n.stateNode)){var a=e[mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(yu(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var r=a[n];if(r!==e&&r.form===e.form){var u=r[mt]||null;if(!u)throw Error(l(90));yu(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<a.length;n++)r=a[n],r.form===e.form&&Td(r)}break e;case"textarea":bd(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&gs(e,!!a.multiple,n,!1)}}}var Cu=!1;function Od(e,n,a){if(Cu)return e(n,a);Cu=!0;try{var r=e(n);return r}finally{if(Cu=!1,(ys!==null||vs!==null)&&(Pr(),ys&&(n=ys,e=vs,vs=ys=null,wd(n),e)))for(n=0;n<e.length;n++)wd(e[n])}}function Ca(e,n){var a=e.stateNode;if(a===null)return null;var r=a[mt]||null;if(r===null)return null;a=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,n,typeof a));return a}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bu=!1;if(gn)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){bu=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{bu=!1}var Fn=null,Au=null,ar=null;function Id(){if(ar)return ar;var e,n=Au,a=n.length,r,u="value"in Fn?Fn.value:Fn.textContent,c=u.length;for(e=0;e<a&&n[e]===u[e];e++);var d=a-e;for(r=1;r<=d&&n[a-r]===u[c-r];r++);return ar=u.slice(e,1<r?1-r:void 0)}function lr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function rr(){return!0}function Dd(){return!1}function pt(e){function n(a,r,u,c,d){this._reactName=a,this._targetInst=u,this.type=r,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(c):c[_]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?rr:Dd,this.isPropagationStopped=Dd,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),n}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},or=pt(Li),Aa=y({},Li,{view:0,detail:0}),NS=pt(Aa),Ru,Nu,Ra,ur=y({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ou,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ra&&(Ra&&e.type==="mousemove"?(Ru=e.screenX-Ra.screenX,Nu=e.screenY-Ra.screenY):Nu=Ru=0,Ra=e),Ru)},movementY:function(e){return"movementY"in e?e.movementY:Nu}}),Md=pt(ur),wS=y({},ur,{dataTransfer:0}),OS=pt(wS),IS=y({},Aa,{relatedTarget:0}),wu=pt(IS),DS=y({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),MS=pt(DS),xS=y({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LS=pt(xS),US=y({},Li,{data:0}),xd=pt(US),kS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BS(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=HS[e])?!!n[e]:!1}function Ou(){return BS}var GS=y({},Aa,{key:function(e){if(e.key){var n=kS[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=lr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ou,charCode:function(e){return e.type==="keypress"?lr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qS=pt(GS),jS=y({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ld=pt(jS),VS=y({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ou}),YS=pt(VS),PS=y({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),FS=pt(PS),KS=y({},ur,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QS=pt(KS),XS=y({},Li,{newState:0,oldState:0}),ZS=pt(XS),WS=[9,13,27,32],Iu=gn&&"CompositionEvent"in window,Na=null;gn&&"documentMode"in document&&(Na=document.documentMode);var JS=gn&&"TextEvent"in window&&!Na,Ud=gn&&(!Iu||Na&&8<Na&&11>=Na),kd=" ",zd=!1;function Hd(e,n){switch(e){case"keyup":return WS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function $S(e,n){switch(e){case"compositionend":return Bd(n);case"keypress":return n.which!==32?null:(zd=!0,kd);case"textInput":return e=n.data,e===kd&&zd?null:e;default:return null}}function e0(e,n){if(Es)return e==="compositionend"||!Iu&&Hd(e,n)?(e=Id(),ar=Au=Fn=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ud&&n.locale!=="ko"?null:n.data;default:return null}}var t0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!t0[e.type]:n==="textarea"}function qd(e,n,a,r){ys?vs?vs.push(r):vs=[r]:ys=r,n=Jr(n,"onChange"),0<n.length&&(a=new or("onChange","change",null,a,r),e.push({event:a,listeners:n}))}var wa=null,Oa=null;function n0(e){Cg(e,0)}function cr(e){var n=Ta(e);if(Td(n))return e}function jd(e,n){if(e==="change")return n}var Vd=!1;if(gn){var Du;if(gn){var Mu="oninput"in document;if(!Mu){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),Mu=typeof Yd.oninput=="function"}Du=Mu}else Du=!1;Vd=Du&&(!document.documentMode||9<document.documentMode)}function Pd(){wa&&(wa.detachEvent("onpropertychange",Fd),Oa=wa=null)}function Fd(e){if(e.propertyName==="value"&&cr(Oa)){var n=[];qd(n,Oa,e,Tu(e)),Od(n0,n)}}function i0(e,n,a){e==="focusin"?(Pd(),wa=n,Oa=a,wa.attachEvent("onpropertychange",Fd)):e==="focusout"&&Pd()}function s0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cr(Oa)}function a0(e,n){if(e==="click")return cr(n)}function l0(e,n){if(e==="input"||e==="change")return cr(n)}function r0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nt=typeof Object.is=="function"?Object.is:r0;function Ia(e,n){if(Nt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),r=Object.keys(n);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var u=a[r];if(!uu.call(n,u)||!Nt(e[u],n[u]))return!1}return!0}function Kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qd(e,n){var a=Kd(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=n&&r>=n)return{node:a,offset:n-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kd(a)}}function Xd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Zd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ir(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ir(e.document)}return n}function xu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var o0=gn&&"documentMode"in document&&11>=document.documentMode,Ss=null,Lu=null,Da=null,Uu=!1;function Wd(e,n,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uu||Ss==null||Ss!==ir(r)||(r=Ss,"selectionStart"in r&&xu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Da&&Ia(Da,r)||(Da=r,r=Jr(Lu,"onSelect"),0<r.length&&(n=new or("onSelect","select",null,n,a),e.push({event:n,listeners:r}),n.target=Ss)))}function Ui(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ts={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionrun:Ui("Transition","TransitionRun"),transitionstart:Ui("Transition","TransitionStart"),transitioncancel:Ui("Transition","TransitionCancel"),transitionend:Ui("Transition","TransitionEnd")},ku={},Jd={};gn&&(Jd=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function ki(e){if(ku[e])return ku[e];if(!Ts[e])return e;var n=Ts[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Jd)return ku[e]=n[a];return e}var $d=ki("animationend"),em=ki("animationiteration"),tm=ki("animationstart"),u0=ki("transitionrun"),c0=ki("transitionstart"),f0=ki("transitioncancel"),nm=ki("transitionend"),im=new Map,zu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zu.push("scrollEnd");function Ft(e,n){im.set(e,n),xi(n,[e])}var fr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zt=[],Cs=0,Hu=0;function hr(){for(var e=Cs,n=Hu=Cs=0;n<e;){var a=zt[n];zt[n++]=null;var r=zt[n];zt[n++]=null;var u=zt[n];zt[n++]=null;var c=zt[n];if(zt[n++]=null,r!==null&&u!==null){var d=r.pending;d===null?u.next=u:(u.next=d.next,d.next=u),r.pending=u}c!==0&&sm(a,u,c)}}function dr(e,n,a,r){zt[Cs++]=e,zt[Cs++]=n,zt[Cs++]=a,zt[Cs++]=r,Hu|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Bu(e,n,a,r){return dr(e,n,a,r),mr(e)}function zi(e,n){return dr(e,null,null,n),mr(e)}function sm(e,n,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var u=!1,c=e.return;c!==null;)c.childLanes|=a,r=c.alternate,r!==null&&(r.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(u=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,u&&n!==null&&(u=31-Rt(a),e=c.hiddenUpdates,r=e[u],r===null?e[u]=[n]:r.push(n),n.lane=a|536870912),c):null}function mr(e){if(50<$a)throw $a=0,Qc=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var bs={};function h0(e,n,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,n,a,r){return new h0(e,n,a,r)}function Gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _n(e,n){var a=e.alternate;return a===null?(a=wt(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function am(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function pr(e,n,a,r,u,c){var d=0;if(r=e,typeof e=="function")Gu(e)&&(d=1);else if(typeof e=="string")d=_T(e,a,G.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case nn:return e=wt(31,a,n,u),e.elementType=nn,e.lanes=c,e;case j:return Hi(a.children,u,c,n);case ue:d=8,u|=24;break;case me:return e=wt(12,a,n,u|2),e.elementType=me,e.lanes=c,e;case oe:return e=wt(13,a,n,u),e.elementType=oe,e.lanes=c,e;case Ue:return e=wt(19,a,n,u),e.elementType=Ue,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case we:d=10;break e;case Le:d=9;break e;case ge:d=11;break e;case X:d=14;break e;case ht:d=16,r=null;break e}d=29,a=Error(l(130,e===null?"null":typeof e,"")),r=null}return n=wt(d,a,n,u),n.elementType=e,n.type=r,n.lanes=c,n}function Hi(e,n,a,r){return e=wt(7,e,r,n),e.lanes=a,e}function qu(e,n,a){return e=wt(6,e,null,n),e.lanes=a,e}function lm(e){var n=wt(18,null,null,0);return n.stateNode=e,n}function ju(e,n,a){return n=wt(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var rm=new WeakMap;function Ht(e,n){if(typeof e=="object"&&e!==null){var a=rm.get(e);return a!==void 0?a:(n={value:e,source:n,stack:ld(n)},rm.set(e,n),n)}return{value:e,source:n,stack:ld(n)}}var As=[],Rs=0,gr=null,Ma=0,Bt=[],Gt=0,Kn=null,an=1,ln="";function yn(e,n){As[Rs++]=Ma,As[Rs++]=gr,gr=e,Ma=n}function om(e,n,a){Bt[Gt++]=an,Bt[Gt++]=ln,Bt[Gt++]=Kn,Kn=e;var r=an;e=ln;var u=32-Rt(r)-1;r&=~(1<<u),a+=1;var c=32-Rt(n)+u;if(30<c){var d=u-u%5;c=(r&(1<<d)-1).toString(32),r>>=d,u-=d,an=1<<32-Rt(n)+u|a<<u|r,ln=c+e}else an=1<<c|a<<u|r,ln=e}function Vu(e){e.return!==null&&(yn(e,1),om(e,1,0))}function Yu(e){for(;e===gr;)gr=As[--Rs],As[Rs]=null,Ma=As[--Rs],As[Rs]=null;for(;e===Kn;)Kn=Bt[--Gt],Bt[Gt]=null,ln=Bt[--Gt],Bt[Gt]=null,an=Bt[--Gt],Bt[Gt]=null}function um(e,n){Bt[Gt++]=an,Bt[Gt++]=ln,Bt[Gt++]=Kn,an=n.id,ln=n.overflow,Kn=e}var tt=null,Ie=null,re=!1,Qn=null,qt=!1,Pu=Error(l(519));function Xn(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xa(Ht(n,e)),Pu}function cm(e){var n=e.stateNode,a=e.type,r=e.memoizedProps;switch(n[et]=e,n[mt]=r,a){case"dialog":ne("cancel",n),ne("close",n);break;case"iframe":case"object":case"embed":ne("load",n);break;case"video":case"audio":for(a=0;a<tl.length;a++)ne(tl[a],n);break;case"source":ne("error",n);break;case"img":case"image":case"link":ne("error",n),ne("load",n);break;case"details":ne("toggle",n);break;case"input":ne("invalid",n),Cd(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ne("invalid",n);break;case"textarea":ne("invalid",n),Ad(n,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||r.suppressHydrationWarning===!0||Ng(n.textContent,a)?(r.popover!=null&&(ne("beforetoggle",n),ne("toggle",n)),r.onScroll!=null&&ne("scroll",n),r.onScrollEnd!=null&&ne("scrollend",n),r.onClick!=null&&(n.onclick=pn),n=!0):n=!1,n||Xn(e,!0)}function fm(e){for(tt=e.return;tt;)switch(tt.tag){case 5:case 31:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:tt=tt.return}}function Ns(e){if(e!==tt)return!1;if(!re)return fm(e),re=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||cf(e.type,e.memoizedProps)),a=!a),a&&Ie&&Xn(e),fm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ie=kg(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ie=kg(e)}else n===27?(n=Ie,ui(e.type)?(e=pf,pf=null,Ie=e):Ie=n):Ie=tt?Vt(e.stateNode.nextSibling):null;return!0}function Bi(){Ie=tt=null,re=!1}function Fu(){var e=Qn;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),Qn=null),e}function xa(e){Qn===null?Qn=[e]:Qn.push(e)}var Ku=C(null),Gi=null,vn=null;function Zn(e,n,a){H(Ku,n._currentValue),n._currentValue=a}function En(e){e._currentValue=Ku.current,L(Ku)}function Qu(e,n,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===a)break;e=e.return}}function Xu(e,n,a,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var c=u.dependencies;if(c!==null){var d=u.child;c=c.firstContext;e:for(;c!==null;){var _=c;c=u;for(var v=0;v<n.length;v++)if(_.context===n[v]){c.lanes|=a,_=c.alternate,_!==null&&(_.lanes|=a),Qu(c.return,a,e),r||(d=null);break e}c=_.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(l(341));d.lanes|=a,c=d.alternate,c!==null&&(c.lanes|=a),Qu(d,a,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function ws(e,n,a,r){e=null;for(var u=n,c=!1;u!==null;){if(!c){if((u.flags&524288)!==0)c=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(l(387));if(d=d.memoizedProps,d!==null){var _=u.type;Nt(u.pendingProps.value,d.value)||(e!==null?e.push(_):e=[_])}}else if(u===_e.current){if(d=u.alternate,d===null)throw Error(l(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}u=u.return}e!==null&&Xu(n,e,a,r),n.flags|=262144}function _r(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qi(e){Gi=e,vn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return hm(Gi,e)}function yr(e,n){return Gi===null&&qi(e),hm(e,n)}function hm(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},vn===null){if(e===null)throw Error(l(308));vn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else vn=vn.next=n;return a}var d0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},m0=s.unstable_scheduleCallback,p0=s.unstable_NormalPriority,je={$$typeof:we,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zu(){return{controller:new d0,data:new Map,refCount:0}}function La(e){e.refCount--,e.refCount===0&&m0(p0,function(){e.controller.abort()})}var Ua=null,Wu=0,Os=0,Is=null;function g0(e,n){if(Ua===null){var a=Ua=[];Wu=0,Os=ef(),Is={status:"pending",value:void 0,then:function(r){a.push(r)}}}return Wu++,n.then(dm,dm),n}function dm(){if(--Wu===0&&Ua!==null){Is!==null&&(Is.status="fulfilled");var e=Ua;Ua=null,Os=0,Is=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function _0(e,n){var a=[],r={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var u=0;u<a.length;u++)(0,a[u])(n)},function(u){for(r.status="rejected",r.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),r}var mm=I.S;I.S=function(e,n){Wp=bt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&g0(e,n),mm!==null&&mm(e,n)};var ji=C(null);function Ju(){var e=ji.current;return e!==null?e:Re.pooledCache}function vr(e,n){n===null?H(ji,ji.current):H(ji,n.pool)}function pm(){var e=Ju();return e===null?null:{parent:je._currentValue,pool:e}}var Ds=Error(l(460)),$u=Error(l(474)),Er=Error(l(542)),Sr={then:function(){}};function gm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _m(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(pn,pn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,vm(e),e;default:if(typeof n.status=="string")n.then(pn,pn);else{if(e=Re,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=r}},function(r){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,vm(e),e}throw Yi=n,Ds}}function Vi(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Yi=a,Ds):a}}var Yi=null;function ym(){if(Yi===null)throw Error(l(459));var e=Yi;return Yi=null,e}function vm(e){if(e===Ds||e===Er)throw Error(l(483))}var Ms=null,ka=0;function Tr(e){var n=ka;return ka+=1,Ms===null&&(Ms=[]),_m(Ms,e,n)}function za(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Cr(e,n){throw n.$$typeof===E?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Em(e){function n(b,T){if(e){var A=b.deletions;A===null?(b.deletions=[T],b.flags|=16):A.push(T)}}function a(b,T){if(!e)return null;for(;T!==null;)n(b,T),T=T.sibling;return null}function r(b){for(var T=new Map;b!==null;)b.key!==null?T.set(b.key,b):T.set(b.index,b),b=b.sibling;return T}function u(b,T){return b=_n(b,T),b.index=0,b.sibling=null,b}function c(b,T,A){return b.index=A,e?(A=b.alternate,A!==null?(A=A.index,A<T?(b.flags|=67108866,T):A):(b.flags|=67108866,T)):(b.flags|=1048576,T)}function d(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function _(b,T,A,D){return T===null||T.tag!==6?(T=qu(A,b.mode,D),T.return=b,T):(T=u(T,A),T.return=b,T)}function v(b,T,A,D){var V=A.type;return V===j?O(b,T,A.props.children,D,A.key):T!==null&&(T.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ht&&Vi(V)===T.type)?(T=u(T,A.props),za(T,A),T.return=b,T):(T=pr(A.type,A.key,A.props,null,b.mode,D),za(T,A),T.return=b,T)}function R(b,T,A,D){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=ju(A,b.mode,D),T.return=b,T):(T=u(T,A.children||[]),T.return=b,T)}function O(b,T,A,D,V){return T===null||T.tag!==7?(T=Hi(A,b.mode,D,V),T.return=b,T):(T=u(T,A),T.return=b,T)}function x(b,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=qu(""+T,b.mode,A),T.return=b,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case M:return A=pr(T.type,T.key,T.props,null,b.mode,A),za(A,T),A.return=b,A;case U:return T=ju(T,b.mode,A),T.return=b,T;case ht:return T=Vi(T),x(b,T,A)}if(Pt(T)||dt(T))return T=Hi(T,b.mode,A,null),T.return=b,T;if(typeof T.then=="function")return x(b,Tr(T),A);if(T.$$typeof===we)return x(b,yr(b,T),A);Cr(b,T)}return null}function N(b,T,A,D){var V=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return V!==null?null:_(b,T,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case M:return A.key===V?v(b,T,A,D):null;case U:return A.key===V?R(b,T,A,D):null;case ht:return A=Vi(A),N(b,T,A,D)}if(Pt(A)||dt(A))return V!==null?null:O(b,T,A,D,null);if(typeof A.then=="function")return N(b,T,Tr(A),D);if(A.$$typeof===we)return N(b,T,yr(b,A),D);Cr(b,A)}return null}function w(b,T,A,D,V){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return b=b.get(A)||null,_(T,b,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case M:return b=b.get(D.key===null?A:D.key)||null,v(T,b,D,V);case U:return b=b.get(D.key===null?A:D.key)||null,R(T,b,D,V);case ht:return D=Vi(D),w(b,T,A,D,V)}if(Pt(D)||dt(D))return b=b.get(A)||null,O(T,b,D,V,null);if(typeof D.then=="function")return w(b,T,A,Tr(D),V);if(D.$$typeof===we)return w(b,T,A,yr(T,D),V);Cr(T,D)}return null}function B(b,T,A,D){for(var V=null,ce=null,q=T,J=T=0,ae=null;q!==null&&J<A.length;J++){q.index>J?(ae=q,q=null):ae=q.sibling;var fe=N(b,q,A[J],D);if(fe===null){q===null&&(q=ae);break}e&&q&&fe.alternate===null&&n(b,q),T=c(fe,T,J),ce===null?V=fe:ce.sibling=fe,ce=fe,q=ae}if(J===A.length)return a(b,q),re&&yn(b,J),V;if(q===null){for(;J<A.length;J++)q=x(b,A[J],D),q!==null&&(T=c(q,T,J),ce===null?V=q:ce.sibling=q,ce=q);return re&&yn(b,J),V}for(q=r(q);J<A.length;J++)ae=w(q,b,J,A[J],D),ae!==null&&(e&&ae.alternate!==null&&q.delete(ae.key===null?J:ae.key),T=c(ae,T,J),ce===null?V=ae:ce.sibling=ae,ce=ae);return e&&q.forEach(function(mi){return n(b,mi)}),re&&yn(b,J),V}function Y(b,T,A,D){if(A==null)throw Error(l(151));for(var V=null,ce=null,q=T,J=T=0,ae=null,fe=A.next();q!==null&&!fe.done;J++,fe=A.next()){q.index>J?(ae=q,q=null):ae=q.sibling;var mi=N(b,q,fe.value,D);if(mi===null){q===null&&(q=ae);break}e&&q&&mi.alternate===null&&n(b,q),T=c(mi,T,J),ce===null?V=mi:ce.sibling=mi,ce=mi,q=ae}if(fe.done)return a(b,q),re&&yn(b,J),V;if(q===null){for(;!fe.done;J++,fe=A.next())fe=x(b,fe.value,D),fe!==null&&(T=c(fe,T,J),ce===null?V=fe:ce.sibling=fe,ce=fe);return re&&yn(b,J),V}for(q=r(q);!fe.done;J++,fe=A.next())fe=w(q,b,J,fe.value,D),fe!==null&&(e&&fe.alternate!==null&&q.delete(fe.key===null?J:fe.key),T=c(fe,T,J),ce===null?V=fe:ce.sibling=fe,ce=fe);return e&&q.forEach(function(wT){return n(b,wT)}),re&&yn(b,J),V}function Ce(b,T,A,D){if(typeof A=="object"&&A!==null&&A.type===j&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case M:e:{for(var V=A.key;T!==null;){if(T.key===V){if(V=A.type,V===j){if(T.tag===7){a(b,T.sibling),D=u(T,A.props.children),D.return=b,b=D;break e}}else if(T.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ht&&Vi(V)===T.type){a(b,T.sibling),D=u(T,A.props),za(D,A),D.return=b,b=D;break e}a(b,T);break}else n(b,T);T=T.sibling}A.type===j?(D=Hi(A.props.children,b.mode,D,A.key),D.return=b,b=D):(D=pr(A.type,A.key,A.props,null,b.mode,D),za(D,A),D.return=b,b=D)}return d(b);case U:e:{for(V=A.key;T!==null;){if(T.key===V)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){a(b,T.sibling),D=u(T,A.children||[]),D.return=b,b=D;break e}else{a(b,T);break}else n(b,T);T=T.sibling}D=ju(A,b.mode,D),D.return=b,b=D}return d(b);case ht:return A=Vi(A),Ce(b,T,A,D)}if(Pt(A))return B(b,T,A,D);if(dt(A)){if(V=dt(A),typeof V!="function")throw Error(l(150));return A=V.call(A),Y(b,T,A,D)}if(typeof A.then=="function")return Ce(b,T,Tr(A),D);if(A.$$typeof===we)return Ce(b,T,yr(b,A),D);Cr(b,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,T!==null&&T.tag===6?(a(b,T.sibling),D=u(T,A),D.return=b,b=D):(a(b,T),D=qu(A,b.mode,D),D.return=b,b=D),d(b)):a(b,T)}return function(b,T,A,D){try{ka=0;var V=Ce(b,T,A,D);return Ms=null,V}catch(q){if(q===Ds||q===Er)throw q;var ce=wt(29,q,null,b.mode);return ce.lanes=D,ce.return=b,ce}}}var Pi=Em(!0),Sm=Em(!1),Wn=!1;function ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $n(e,n,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(pe&2)!==0){var u=r.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),r.pending=n,n=mr(e),sm(e,null,a),n}return dr(e,r,n,a),mr(e)}function Ha(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,a|=r,n.lanes=a,hd(e,a)}}function nc(e,n){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var u=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var d={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?u=c=d:c=c.next=d,a=a.next}while(a!==null);c===null?u=c=n:c=c.next=n}else u=c=n;a={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var ic=!1;function Ba(){if(ic){var e=Is;if(e!==null)throw e}}function Ga(e,n,a,r){ic=!1;var u=e.updateQueue;Wn=!1;var c=u.firstBaseUpdate,d=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var v=_,R=v.next;v.next=null,d===null?c=R:d.next=R,d=v;var O=e.alternate;O!==null&&(O=O.updateQueue,_=O.lastBaseUpdate,_!==d&&(_===null?O.firstBaseUpdate=R:_.next=R,O.lastBaseUpdate=v))}if(c!==null){var x=u.baseState;d=0,O=R=v=null,_=c;do{var N=_.lane&-536870913,w=N!==_.lane;if(w?(se&N)===N:(r&N)===N){N!==0&&N===Os&&(ic=!0),O!==null&&(O=O.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var B=e,Y=_;N=n;var Ce=a;switch(Y.tag){case 1:if(B=Y.payload,typeof B=="function"){x=B.call(Ce,x,N);break e}x=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=Y.payload,N=typeof B=="function"?B.call(Ce,x,N):B,N==null)break e;x=y({},x,N);break e;case 2:Wn=!0}}N=_.callback,N!==null&&(e.flags|=64,w&&(e.flags|=8192),w=u.callbacks,w===null?u.callbacks=[N]:w.push(N))}else w={lane:N,tag:_.tag,payload:_.payload,callback:_.callback,next:null},O===null?(R=O=w,v=x):O=O.next=w,d|=N;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;w=_,_=w.next,w.next=null,u.lastBaseUpdate=w,u.shared.pending=null}}while(!0);O===null&&(v=x),u.baseState=v,u.firstBaseUpdate=R,u.lastBaseUpdate=O,c===null&&(u.shared.lanes=0),si|=d,e.lanes=d,e.memoizedState=x}}function Tm(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function Cm(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Tm(a[e],n)}var xs=C(null),br=C(0);function bm(e,n){e=On,H(br,e),H(xs,n),On=e|n.baseLanes}function sc(){H(br,On),H(xs,xs.current)}function ac(){On=br.current,L(xs),L(br)}var Ot=C(null),jt=null;function ei(e){var n=e.alternate;H(Ge,Ge.current&1),H(Ot,e),jt===null&&(n===null||xs.current!==null||n.memoizedState!==null)&&(jt=e)}function lc(e){H(Ge,Ge.current),H(Ot,e),jt===null&&(jt=e)}function Am(e){e.tag===22?(H(Ge,Ge.current),H(Ot,e),jt===null&&(jt=e)):ti()}function ti(){H(Ge,Ge.current),H(Ot,Ot.current)}function It(e){L(Ot),jt===e&&(jt=null),L(Ge)}var Ge=C(0);function Ar(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||df(a)||mf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Sn=0,W=null,Se=null,Ve=null,Rr=!1,Ls=!1,Fi=!1,Nr=0,qa=0,Us=null,y0=0;function ke(){throw Error(l(321))}function rc(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Nt(e[a],n[a]))return!1;return!0}function oc(e,n,a,r,u,c){return Sn=c,W=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,I.H=e===null||e.memoizedState===null?op:Cc,Fi=!1,c=a(r,u),Fi=!1,Ls&&(c=Nm(n,a,r,u)),Rm(e),c}function Rm(e){I.H=Ya;var n=Se!==null&&Se.next!==null;if(Sn=0,Ve=Se=W=null,Rr=!1,qa=0,Us=null,n)throw Error(l(300));e===null||Ye||(e=e.dependencies,e!==null&&_r(e)&&(Ye=!0))}function Nm(e,n,a,r){W=e;var u=0;do{if(Ls&&(Us=null),qa=0,Ls=!1,25<=u)throw Error(l(301));if(u+=1,Ve=Se=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}I.H=up,c=n(a,r)}while(Ls);return c}function v0(){var e=I.H,n=e.useState()[0];return n=typeof n.then=="function"?ja(n):n,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(W.flags|=1024),n}function uc(){var e=Nr!==0;return Nr=0,e}function cc(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function fc(e){if(Rr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Rr=!1}Sn=0,Ve=Se=W=null,Ls=!1,qa=Nr=0,Us=null}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?W.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function qe(){if(Se===null){var e=W.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var n=Ve===null?W.memoizedState:Ve.next;if(n!==null)Ve=n,Se=e;else{if(e===null)throw W.alternate===null?Error(l(467)):Error(l(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ve===null?W.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function wr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ja(e){var n=qa;return qa+=1,Us===null&&(Us=[]),e=_m(Us,e,n),n=W,(Ve===null?n.memoizedState:Ve.next)===null&&(n=n.alternate,I.H=n===null||n.memoizedState===null?op:Cc),e}function Or(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ja(e);if(e.$$typeof===we)return nt(e)}throw Error(l(438,String(e)))}function hc(e){var n=null,a=W.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var r=W.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=wr(),W.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),r=0;r<e;r++)a[r]=cs;return n.index++,a}function Tn(e,n){return typeof n=="function"?n(e):n}function Ir(e){var n=qe();return dc(n,Se,e)}function dc(e,n,a){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=a;var u=e.baseQueue,c=r.pending;if(c!==null){if(u!==null){var d=u.next;u.next=c.next,c.next=d}n.baseQueue=u=c,r.pending=null}if(c=e.baseState,u===null)e.memoizedState=c;else{n=u.next;var _=d=null,v=null,R=n,O=!1;do{var x=R.lane&-536870913;if(x!==R.lane?(se&x)===x:(Sn&x)===x){var N=R.revertLane;if(N===0)v!==null&&(v=v.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),x===Os&&(O=!0);else if((Sn&N)===N){R=R.next,N===Os&&(O=!0);continue}else x={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},v===null?(_=v=x,d=c):v=v.next=x,W.lanes|=N,si|=N;x=R.action,Fi&&a(c,x),c=R.hasEagerState?R.eagerState:a(c,x)}else N={lane:x,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},v===null?(_=v=N,d=c):v=v.next=N,W.lanes|=x,si|=x;R=R.next}while(R!==null&&R!==n);if(v===null?d=c:v.next=_,!Nt(c,e.memoizedState)&&(Ye=!0,O&&(a=Is,a!==null)))throw a;e.memoizedState=c,e.baseState=d,e.baseQueue=v,r.lastRenderedState=c}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function mc(e){var n=qe(),a=n.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var r=a.dispatch,u=a.pending,c=n.memoizedState;if(u!==null){a.pending=null;var d=u=u.next;do c=e(c,d.action),d=d.next;while(d!==u);Nt(c,n.memoizedState)||(Ye=!0),n.memoizedState=c,n.baseQueue===null&&(n.baseState=c),a.lastRenderedState=c}return[c,r]}function wm(e,n,a){var r=W,u=qe(),c=re;if(c){if(a===void 0)throw Error(l(407));a=a()}else a=n();var d=!Nt((Se||u).memoizedState,a);if(d&&(u.memoizedState=a,Ye=!0),u=u.queue,_c(Dm.bind(null,r,u,e),[e]),u.getSnapshot!==n||d||Ve!==null&&Ve.memoizedState.tag&1){if(r.flags|=2048,ks(9,{destroy:void 0},Im.bind(null,r,u,a,n),null),Re===null)throw Error(l(349));c||(Sn&127)!==0||Om(r,n,a)}return a}function Om(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=W.updateQueue,n===null?(n=wr(),W.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Im(e,n,a,r){n.value=a,n.getSnapshot=r,Mm(n)&&xm(e)}function Dm(e,n,a){return a(function(){Mm(n)&&xm(e)})}function Mm(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Nt(e,a)}catch{return!0}}function xm(e){var n=zi(e,2);n!==null&&Et(n,e,2)}function pc(e){var n=ut();if(typeof e=="function"){var a=e;if(e=a(),Fi){Yn(!0);try{a()}finally{Yn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:e},n}function Lm(e,n,a,r){return e.baseState=a,dc(e,Se,typeof r=="function"?r:Tn)}function E0(e,n,a,r,u){if(xr(e))throw Error(l(485));if(e=n.action,e!==null){var c={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};I.T!==null?a(!0):c.isTransition=!1,r(c),a=n.pending,a===null?(c.next=n.pending=c,Um(n,c)):(c.next=a.next,n.pending=a.next=c)}}function Um(e,n){var a=n.action,r=n.payload,u=e.state;if(n.isTransition){var c=I.T,d={};I.T=d;try{var _=a(u,r),v=I.S;v!==null&&v(d,_),km(e,n,_)}catch(R){gc(e,n,R)}finally{c!==null&&d.types!==null&&(c.types=d.types),I.T=c}}else try{c=a(u,r),km(e,n,c)}catch(R){gc(e,n,R)}}function km(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){zm(e,n,r)},function(r){return gc(e,n,r)}):zm(e,n,a)}function zm(e,n,a){n.status="fulfilled",n.value=a,Hm(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Um(e,a)))}function gc(e,n,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=a,Hm(n),n=n.next;while(n!==r)}e.action=null}function Hm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Bm(e,n){return n}function Gm(e,n){if(re){var a=Re.formState;if(a!==null){e:{var r=W;if(re){if(Ie){t:{for(var u=Ie,c=qt;u.nodeType!==8;){if(!c){u=null;break t}if(u=Vt(u.nextSibling),u===null){u=null;break t}}c=u.data,u=c==="F!"||c==="F"?u:null}if(u){Ie=Vt(u.nextSibling),r=u.data==="F!";break e}}Xn(r)}r=!1}r&&(n=a[0])}}return a=ut(),a.memoizedState=a.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bm,lastRenderedState:n},a.queue=r,a=ap.bind(null,W,r),r.dispatch=a,r=pc(!1),c=Tc.bind(null,W,!1,r.queue),r=ut(),u={state:n,dispatch:null,action:e,pending:null},r.queue=u,a=E0.bind(null,W,u,c,a),u.dispatch=a,r.memoizedState=e,[n,a,!1]}function qm(e){var n=qe();return jm(n,Se,e)}function jm(e,n,a){if(n=dc(e,n,Bm)[0],e=Ir(Tn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=ja(n)}catch(d){throw d===Ds?Er:d}else r=n;n=qe();var u=n.queue,c=u.dispatch;return a!==n.memoizedState&&(W.flags|=2048,ks(9,{destroy:void 0},S0.bind(null,u,a),null)),[r,c,e]}function S0(e,n){e.action=n}function Vm(e){var n=qe(),a=Se;if(a!==null)return jm(n,a,e);qe(),n=n.memoizedState,a=qe();var r=a.queue.dispatch;return a.memoizedState=e,[n,r,!1]}function ks(e,n,a,r){return e={tag:e,create:a,deps:r,inst:n,next:null},n=W.updateQueue,n===null&&(n=wr(),W.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,n.lastEffect=e),e}function Ym(){return qe().memoizedState}function Dr(e,n,a,r){var u=ut();W.flags|=e,u.memoizedState=ks(1|n,{destroy:void 0},a,r===void 0?null:r)}function Mr(e,n,a,r){var u=qe();r=r===void 0?null:r;var c=u.memoizedState.inst;Se!==null&&r!==null&&rc(r,Se.memoizedState.deps)?u.memoizedState=ks(n,c,a,r):(W.flags|=e,u.memoizedState=ks(1|n,c,a,r))}function Pm(e,n){Dr(8390656,8,e,n)}function _c(e,n){Mr(2048,8,e,n)}function T0(e){W.flags|=4;var n=W.updateQueue;if(n===null)n=wr(),W.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Fm(e){var n=qe().memoizedState;return T0({ref:n,nextImpl:e}),function(){if((pe&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function Km(e,n){return Mr(4,2,e,n)}function Qm(e,n){return Mr(4,4,e,n)}function Xm(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Zm(e,n,a){a=a!=null?a.concat([e]):null,Mr(4,4,Xm.bind(null,n,e),a)}function yc(){}function Wm(e,n){var a=qe();n=n===void 0?null:n;var r=a.memoizedState;return n!==null&&rc(n,r[1])?r[0]:(a.memoizedState=[e,n],e)}function Jm(e,n){var a=qe();n=n===void 0?null:n;var r=a.memoizedState;if(n!==null&&rc(n,r[1]))return r[0];if(r=e(),Fi){Yn(!0);try{e()}finally{Yn(!1)}}return a.memoizedState=[r,n],r}function vc(e,n,a){return a===void 0||(Sn&1073741824)!==0&&(se&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=$p(),W.lanes|=e,si|=e,a)}function $m(e,n,a,r){return Nt(a,n)?a:xs.current!==null?(e=vc(e,a,r),Nt(e,n)||(Ye=!0),e):(Sn&42)===0||(Sn&1073741824)!==0&&(se&261930)===0?(Ye=!0,e.memoizedState=a):(e=$p(),W.lanes|=e,si|=e,n)}function ep(e,n,a,r,u){var c=z.p;z.p=c!==0&&8>c?c:8;var d=I.T,_={};I.T=_,Tc(e,!1,n,a);try{var v=u(),R=I.S;if(R!==null&&R(_,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var O=_0(v,r);Va(e,n,O,xt(e))}else Va(e,n,r,xt(e))}catch(x){Va(e,n,{then:function(){},status:"rejected",reason:x},xt())}finally{z.p=c,d!==null&&_.types!==null&&(d.types=_.types),I.T=d}}function C0(){}function Ec(e,n,a,r){if(e.tag!==5)throw Error(l(476));var u=tp(e).queue;ep(e,u,n,F,a===null?C0:function(){return np(e),a(r)})}function tp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:F},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function np(e){var n=tp(e);n.next===null&&(n=e.alternate.memoizedState),Va(e,n.next.queue,{},xt())}function Sc(){return nt(ll)}function ip(){return qe().memoizedState}function sp(){return qe().memoizedState}function b0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=xt();e=Jn(a);var r=$n(n,e,a);r!==null&&(Et(r,n,a),Ha(r,n,a)),n={cache:Zu()},e.payload=n;return}n=n.return}}function A0(e,n,a){var r=xt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},xr(e)?lp(n,a):(a=Bu(e,n,a,r),a!==null&&(Et(a,e,r),rp(a,n,r)))}function ap(e,n,a){var r=xt();Va(e,n,a,r)}function Va(e,n,a,r){var u={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(xr(e))lp(n,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=n.lastRenderedReducer,c!==null))try{var d=n.lastRenderedState,_=c(d,a);if(u.hasEagerState=!0,u.eagerState=_,Nt(_,d))return dr(e,n,u,0),Re===null&&hr(),!1}catch{}if(a=Bu(e,n,u,r),a!==null)return Et(a,e,r),rp(a,n,r),!0}return!1}function Tc(e,n,a,r){if(r={lane:2,revertLane:ef(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},xr(e)){if(n)throw Error(l(479))}else n=Bu(e,a,r,2),n!==null&&Et(n,e,2)}function xr(e){var n=e.alternate;return e===W||n!==null&&n===W}function lp(e,n){Ls=Rr=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function rp(e,n,a){if((a&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,a|=r,n.lanes=a,hd(e,a)}}var Ya={readContext:nt,use:Or,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke,useHostTransitionStatus:ke,useFormState:ke,useActionState:ke,useOptimistic:ke,useMemoCache:ke,useCacheRefresh:ke};Ya.useEffectEvent=ke;var op={readContext:nt,use:Or,useCallback:function(e,n){return ut().memoizedState=[e,n===void 0?null:n],e},useContext:nt,useEffect:Pm,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Dr(4194308,4,Xm.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Dr(4194308,4,e,n)},useInsertionEffect:function(e,n){Dr(4,2,e,n)},useMemo:function(e,n){var a=ut();n=n===void 0?null:n;var r=e();if(Fi){Yn(!0);try{e()}finally{Yn(!1)}}return a.memoizedState=[r,n],r},useReducer:function(e,n,a){var r=ut();if(a!==void 0){var u=a(n);if(Fi){Yn(!0);try{a(n)}finally{Yn(!1)}}}else u=n;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=A0.bind(null,W,e),[r.memoizedState,e]},useRef:function(e){var n=ut();return e={current:e},n.memoizedState=e},useState:function(e){e=pc(e);var n=e.queue,a=ap.bind(null,W,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:yc,useDeferredValue:function(e,n){var a=ut();return vc(a,e,n)},useTransition:function(){var e=pc(!1);return e=ep.bind(null,W,e.queue,!0,!1),ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var r=W,u=ut();if(re){if(a===void 0)throw Error(l(407));a=a()}else{if(a=n(),Re===null)throw Error(l(349));(se&127)!==0||Om(r,n,a)}u.memoizedState=a;var c={value:a,getSnapshot:n};return u.queue=c,Pm(Dm.bind(null,r,c,e),[e]),r.flags|=2048,ks(9,{destroy:void 0},Im.bind(null,r,c,a,n),null),a},useId:function(){var e=ut(),n=Re.identifierPrefix;if(re){var a=ln,r=an;a=(r&~(1<<32-Rt(r)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Nr++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=y0++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Sc,useFormState:Gm,useActionState:Gm,useOptimistic:function(e){var n=ut();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Tc.bind(null,W,!0,a),a.dispatch=n,[e,n]},useMemoCache:hc,useCacheRefresh:function(){return ut().memoizedState=b0.bind(null,W)},useEffectEvent:function(e){var n=ut(),a={impl:e};return n.memoizedState=a,function(){if((pe&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Cc={readContext:nt,use:Or,useCallback:Wm,useContext:nt,useEffect:_c,useImperativeHandle:Zm,useInsertionEffect:Km,useLayoutEffect:Qm,useMemo:Jm,useReducer:Ir,useRef:Ym,useState:function(){return Ir(Tn)},useDebugValue:yc,useDeferredValue:function(e,n){var a=qe();return $m(a,Se.memoizedState,e,n)},useTransition:function(){var e=Ir(Tn)[0],n=qe().memoizedState;return[typeof e=="boolean"?e:ja(e),n]},useSyncExternalStore:wm,useId:ip,useHostTransitionStatus:Sc,useFormState:qm,useActionState:qm,useOptimistic:function(e,n){var a=qe();return Lm(a,Se,e,n)},useMemoCache:hc,useCacheRefresh:sp};Cc.useEffectEvent=Fm;var up={readContext:nt,use:Or,useCallback:Wm,useContext:nt,useEffect:_c,useImperativeHandle:Zm,useInsertionEffect:Km,useLayoutEffect:Qm,useMemo:Jm,useReducer:mc,useRef:Ym,useState:function(){return mc(Tn)},useDebugValue:yc,useDeferredValue:function(e,n){var a=qe();return Se===null?vc(a,e,n):$m(a,Se.memoizedState,e,n)},useTransition:function(){var e=mc(Tn)[0],n=qe().memoizedState;return[typeof e=="boolean"?e:ja(e),n]},useSyncExternalStore:wm,useId:ip,useHostTransitionStatus:Sc,useFormState:Vm,useActionState:Vm,useOptimistic:function(e,n){var a=qe();return Se!==null?Lm(a,Se,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:hc,useCacheRefresh:sp};up.useEffectEvent=Fm;function bc(e,n,a,r){n=e.memoizedState,a=a(r,n),a=a==null?n:y({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ac={enqueueSetState:function(e,n,a){e=e._reactInternals;var r=xt(),u=Jn(r);u.payload=n,a!=null&&(u.callback=a),n=$n(e,u,r),n!==null&&(Et(n,e,r),Ha(n,e,r))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var r=xt(),u=Jn(r);u.tag=1,u.payload=n,a!=null&&(u.callback=a),n=$n(e,u,r),n!==null&&(Et(n,e,r),Ha(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=xt(),r=Jn(a);r.tag=2,n!=null&&(r.callback=n),n=$n(e,r,a),n!==null&&(Et(n,e,a),Ha(n,e,a))}};function cp(e,n,a,r,u,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,c,d):n.prototype&&n.prototype.isPureReactComponent?!Ia(a,r)||!Ia(u,c):!0}function fp(e,n,a,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,r),n.state!==e&&Ac.enqueueReplaceState(n,n.state,null)}function Ki(e,n){var a=n;if("ref"in n){a={};for(var r in n)r!=="ref"&&(a[r]=n[r])}if(e=e.defaultProps){a===n&&(a=y({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function hp(e){fr(e)}function dp(e){console.error(e)}function mp(e){fr(e)}function Lr(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function pp(e,n,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Rc(e,n,a){return a=Jn(a),a.tag=3,a.payload={element:null},a.callback=function(){Lr(e,n)},a}function gp(e){return e=Jn(e),e.tag=3,e}function _p(e,n,a,r){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var c=r.value;e.payload=function(){return u(c)},e.callback=function(){pp(n,a,r)}}var d=a.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){pp(n,a,r),typeof u!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function R0(e,n,a,r,u){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=a.alternate,n!==null&&ws(n,a,u,!0),a=Ot.current,a!==null){switch(a.tag){case 31:case 13:return jt===null?Fr():a.alternate===null&&ze===0&&(ze=3),a.flags&=-257,a.flags|=65536,a.lanes=u,r===Sr?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([r]):n.add(r),Wc(e,r,u)),!1;case 22:return a.flags|=65536,r===Sr?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([r]):a.add(r)),Wc(e,r,u)),!1}throw Error(l(435,a.tag))}return Wc(e,r,u),Fr(),!1}if(re)return n=Ot.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,r!==Pu&&(e=Error(l(422),{cause:r}),xa(Ht(e,a)))):(r!==Pu&&(n=Error(l(423),{cause:r}),xa(Ht(n,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=Ht(r,a),u=Rc(e.stateNode,r,u),nc(e,u),ze!==4&&(ze=2)),!1;var c=Error(l(520),{cause:r});if(c=Ht(c,a),Ja===null?Ja=[c]:Ja.push(c),ze!==4&&(ze=2),n===null)return!0;r=Ht(r,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=Rc(a.stateNode,r,e),nc(a,e),!1;case 1:if(n=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ai===null||!ai.has(c))))return a.flags|=65536,u&=-u,a.lanes|=u,u=gp(u),_p(u,e,a,r),nc(a,u),!1}a=a.return}while(a!==null);return!1}var Nc=Error(l(461)),Ye=!1;function it(e,n,a,r){n.child=e===null?Sm(n,null,a,r):Pi(n,e.child,a,r)}function yp(e,n,a,r,u){a=a.render;var c=n.ref;if("ref"in r){var d={};for(var _ in r)_!=="ref"&&(d[_]=r[_])}else d=r;return qi(n),r=oc(e,n,a,d,c,u),_=uc(),e!==null&&!Ye?(cc(e,n,u),Cn(e,n,u)):(re&&_&&Vu(n),n.flags|=1,it(e,n,r,u),n.child)}function vp(e,n,a,r,u){if(e===null){var c=a.type;return typeof c=="function"&&!Gu(c)&&c.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=c,Ep(e,n,c,r,u)):(e=pr(a.type,null,r,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(c=e.child,!Uc(e,u)){var d=c.memoizedProps;if(a=a.compare,a=a!==null?a:Ia,a(d,r)&&e.ref===n.ref)return Cn(e,n,u)}return n.flags|=1,e=_n(c,r),e.ref=n.ref,e.return=n,n.child=e}function Ep(e,n,a,r,u){if(e!==null){var c=e.memoizedProps;if(Ia(c,r)&&e.ref===n.ref)if(Ye=!1,n.pendingProps=r=c,Uc(e,u))(e.flags&131072)!==0&&(Ye=!0);else return n.lanes=e.lanes,Cn(e,n,u)}return wc(e,n,a,r,u)}function Sp(e,n,a,r){var u=r.children,c=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(r=n.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;r=u&~c}else r=0,n.child=null;return Tp(e,n,c,a,r)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&vr(n,c!==null?c.cachePool:null),c!==null?bm(n,c):sc(),Am(n);else return r=n.lanes=536870912,Tp(e,n,c!==null?c.baseLanes|a:a,a,r)}else c!==null?(vr(n,c.cachePool),bm(n,c),ti(),n.memoizedState=null):(e!==null&&vr(n,null),sc(),ti());return it(e,n,u,a),n.child}function Pa(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Tp(e,n,a,r,u){var c=Ju();return c=c===null?null:{parent:je._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},e!==null&&vr(n,null),sc(),Am(n),e!==null&&ws(e,n,r,!0),n.childLanes=u,null}function Ur(e,n){return n=zr({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Cp(e,n,a){return Pi(n,e.child,null,a),e=Ur(n,n.pendingProps),e.flags|=2,It(n),n.memoizedState=null,e}function N0(e,n,a){var r=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(re){if(r.mode==="hidden")return e=Ur(n,r),n.lanes=536870912,Pa(null,e);if(lc(n),(e=Ie)?(e=Ug(e,qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:an,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},a=lm(e),a.return=n,n.child=a,tt=n,Ie=null)):e=null,e===null)throw Xn(n);return n.lanes=536870912,null}return Ur(n,r)}var c=e.memoizedState;if(c!==null){var d=c.dehydrated;if(lc(n),u)if(n.flags&256)n.flags&=-257,n=Cp(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(Ye||ws(e,n,a,!1),u=(a&e.childLanes)!==0,Ye||u){if(r=Re,r!==null&&(d=dd(r,a),d!==0&&d!==c.retryLane))throw c.retryLane=d,zi(e,d),Et(r,e,d),Nc;Fr(),n=Cp(e,n,a)}else e=c.treeContext,Ie=Vt(d.nextSibling),tt=n,re=!0,Qn=null,qt=!1,e!==null&&um(n,e),n=Ur(n,r),n.flags|=4096;return n}return e=_n(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function kr(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function wc(e,n,a,r,u){return qi(n),a=oc(e,n,a,r,void 0,u),r=uc(),e!==null&&!Ye?(cc(e,n,u),Cn(e,n,u)):(re&&r&&Vu(n),n.flags|=1,it(e,n,a,u),n.child)}function bp(e,n,a,r,u,c){return qi(n),n.updateQueue=null,a=Nm(n,r,a,u),Rm(e),r=uc(),e!==null&&!Ye?(cc(e,n,c),Cn(e,n,c)):(re&&r&&Vu(n),n.flags|=1,it(e,n,a,c),n.child)}function Ap(e,n,a,r,u){if(qi(n),n.stateNode===null){var c=bs,d=a.contextType;typeof d=="object"&&d!==null&&(c=nt(d)),c=new a(r,c),n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Ac,n.stateNode=c,c._reactInternals=n,c=n.stateNode,c.props=r,c.state=n.memoizedState,c.refs={},ec(n),d=a.contextType,c.context=typeof d=="object"&&d!==null?nt(d):bs,c.state=n.memoizedState,d=a.getDerivedStateFromProps,typeof d=="function"&&(bc(n,a,d,r),c.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&Ac.enqueueReplaceState(c,c.state,null),Ga(n,r,c,u),Ba(),c.state=n.memoizedState),typeof c.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){c=n.stateNode;var _=n.memoizedProps,v=Ki(a,_);c.props=v;var R=c.context,O=a.contextType;d=bs,typeof O=="object"&&O!==null&&(d=nt(O));var x=a.getDerivedStateFromProps;O=typeof x=="function"||typeof c.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,O||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(_||R!==d)&&fp(n,c,r,d),Wn=!1;var N=n.memoizedState;c.state=N,Ga(n,r,c,u),Ba(),R=n.memoizedState,_||N!==R||Wn?(typeof x=="function"&&(bc(n,a,x,r),R=n.memoizedState),(v=Wn||cp(n,a,v,r,N,R,d))?(O||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(n.flags|=4194308)):(typeof c.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=R),c.props=r,c.state=R,c.context=d,r=v):(typeof c.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{c=n.stateNode,tc(e,n),d=n.memoizedProps,O=Ki(a,d),c.props=O,x=n.pendingProps,N=c.context,R=a.contextType,v=bs,typeof R=="object"&&R!==null&&(v=nt(R)),_=a.getDerivedStateFromProps,(R=typeof _=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==x||N!==v)&&fp(n,c,r,v),Wn=!1,N=n.memoizedState,c.state=N,Ga(n,r,c,u),Ba();var w=n.memoizedState;d!==x||N!==w||Wn||e!==null&&e.dependencies!==null&&_r(e.dependencies)?(typeof _=="function"&&(bc(n,a,_,r),w=n.memoizedState),(O=Wn||cp(n,a,O,r,N,w,v)||e!==null&&e.dependencies!==null&&_r(e.dependencies))?(R||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,w,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,w,v)),typeof c.componentDidUpdate=="function"&&(n.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=w),c.props=r,c.state=w,c.context=v,r=O):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),r=!1)}return c=r,kr(e,n),r=(n.flags&128)!==0,c||r?(c=n.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:c.render(),n.flags|=1,e!==null&&r?(n.child=Pi(n,e.child,null,u),n.child=Pi(n,null,a,u)):it(e,n,a,u),n.memoizedState=c.state,e=n.child):e=Cn(e,n,u),e}function Rp(e,n,a,r){return Bi(),n.flags|=256,it(e,n,a,r),n.child}var Oc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ic(e){return{baseLanes:e,cachePool:pm()}}function Dc(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Mt),e}function Np(e,n,a){var r=n.pendingProps,u=!1,c=(n.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),d&&(u=!0,n.flags&=-129),d=(n.flags&32)!==0,n.flags&=-33,e===null){if(re){if(u?ei(n):ti(),(e=Ie)?(e=Ug(e,qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:an,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},a=lm(e),a.return=n,n.child=a,tt=n,Ie=null)):e=null,e===null)throw Xn(n);return mf(e)?n.lanes=32:n.lanes=536870912,null}var _=r.children;return r=r.fallback,u?(ti(),u=n.mode,_=zr({mode:"hidden",children:_},u),r=Hi(r,u,a,null),_.return=n,r.return=n,_.sibling=r,n.child=_,r=n.child,r.memoizedState=Ic(a),r.childLanes=Dc(e,d,a),n.memoizedState=Oc,Pa(null,r)):(ei(n),Mc(n,_))}var v=e.memoizedState;if(v!==null&&(_=v.dehydrated,_!==null)){if(c)n.flags&256?(ei(n),n.flags&=-257,n=xc(e,n,a)):n.memoizedState!==null?(ti(),n.child=e.child,n.flags|=128,n=null):(ti(),_=r.fallback,u=n.mode,r=zr({mode:"visible",children:r.children},u),_=Hi(_,u,a,null),_.flags|=2,r.return=n,_.return=n,r.sibling=_,n.child=r,Pi(n,e.child,null,a),r=n.child,r.memoizedState=Ic(a),r.childLanes=Dc(e,d,a),n.memoizedState=Oc,n=Pa(null,r));else if(ei(n),mf(_)){if(d=_.nextSibling&&_.nextSibling.dataset,d)var R=d.dgst;d=R,r=Error(l(419)),r.stack="",r.digest=d,xa({value:r,source:null,stack:null}),n=xc(e,n,a)}else if(Ye||ws(e,n,a,!1),d=(a&e.childLanes)!==0,Ye||d){if(d=Re,d!==null&&(r=dd(d,a),r!==0&&r!==v.retryLane))throw v.retryLane=r,zi(e,r),Et(d,e,r),Nc;df(_)||Fr(),n=xc(e,n,a)}else df(_)?(n.flags|=192,n.child=e.child,n=null):(e=v.treeContext,Ie=Vt(_.nextSibling),tt=n,re=!0,Qn=null,qt=!1,e!==null&&um(n,e),n=Mc(n,r.children),n.flags|=4096);return n}return u?(ti(),_=r.fallback,u=n.mode,v=e.child,R=v.sibling,r=_n(v,{mode:"hidden",children:r.children}),r.subtreeFlags=v.subtreeFlags&65011712,R!==null?_=_n(R,_):(_=Hi(_,u,a,null),_.flags|=2),_.return=n,r.return=n,r.sibling=_,n.child=r,Pa(null,r),r=n.child,_=e.child.memoizedState,_===null?_=Ic(a):(u=_.cachePool,u!==null?(v=je._currentValue,u=u.parent!==v?{parent:v,pool:v}:u):u=pm(),_={baseLanes:_.baseLanes|a,cachePool:u}),r.memoizedState=_,r.childLanes=Dc(e,d,a),n.memoizedState=Oc,Pa(e.child,r)):(ei(n),a=e.child,e=a.sibling,a=_n(a,{mode:"visible",children:r.children}),a.return=n,a.sibling=null,e!==null&&(d=n.deletions,d===null?(n.deletions=[e],n.flags|=16):d.push(e)),n.child=a,n.memoizedState=null,a)}function Mc(e,n){return n=zr({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function zr(e,n){return e=wt(22,e,null,n),e.lanes=0,e}function xc(e,n,a){return Pi(n,e.child,null,a),e=Mc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wp(e,n,a){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),Qu(e.return,n,a)}function Lc(e,n,a,r,u,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:u,treeForkCount:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=a,d.tailMode=u,d.treeForkCount=c)}function Op(e,n,a){var r=n.pendingProps,u=r.revealOrder,c=r.tail;r=r.children;var d=Ge.current,_=(d&2)!==0;if(_?(d=d&1|2,n.flags|=128):d&=1,H(Ge,d),it(e,n,r,a),r=re?Ma:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wp(e,a,n);else if(e.tag===19)wp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=n.child,u=null;a!==null;)e=a.alternate,e!==null&&Ar(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),Lc(n,!1,u,a,c,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Ar(e)===null){n.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}Lc(n,!0,a,null,c,r);break;case"together":Lc(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function Cn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),si|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ws(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,a=_n(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=_n(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Uc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&_r(e)))}function w0(e,n,a){switch(n.tag){case 3:ot(n,n.stateNode.containerInfo),Zn(n,je,e.memoizedState.cache),Bi();break;case 27:case 5:_a(n);break;case 4:ot(n,n.stateNode.containerInfo);break;case 10:Zn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lc(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(ei(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Np(e,n,a):(ei(n),e=Cn(e,n,a),e!==null?e.sibling:null);ei(n);break;case 19:var u=(e.flags&128)!==0;if(r=(a&n.childLanes)!==0,r||(ws(e,n,a,!1),r=(a&n.childLanes)!==0),u){if(r)return Op(e,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),H(Ge,Ge.current),r)break;return null;case 22:return n.lanes=0,Sp(e,n,a,n.pendingProps);case 24:Zn(n,je,e.memoizedState.cache)}return Cn(e,n,a)}function Ip(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ye=!0;else{if(!Uc(e,a)&&(n.flags&128)===0)return Ye=!1,w0(e,n,a);Ye=(e.flags&131072)!==0}else Ye=!1,re&&(n.flags&1048576)!==0&&om(n,Ma,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=Vi(n.elementType),n.type=e,typeof e=="function")Gu(e)?(r=Ki(e,r),n.tag=1,n=Ap(null,n,e,r,a)):(n.tag=0,n=wc(null,n,e,r,a));else{if(e!=null){var u=e.$$typeof;if(u===ge){n.tag=11,n=yp(null,n,e,r,a);break e}else if(u===X){n.tag=14,n=vp(null,n,e,r,a);break e}}throw n=dn(e)||e,Error(l(306,n,""))}}return n;case 0:return wc(e,n,n.type,n.pendingProps,a);case 1:return r=n.type,u=Ki(r,n.pendingProps),Ap(e,n,r,u,a);case 3:e:{if(ot(n,n.stateNode.containerInfo),e===null)throw Error(l(387));r=n.pendingProps;var c=n.memoizedState;u=c.element,tc(e,n),Ga(n,r,null,a);var d=n.memoizedState;if(r=d.cache,Zn(n,je,r),r!==c.cache&&Xu(n,[je],a,!0),Ba(),r=d.element,c.isDehydrated)if(c={element:r,isDehydrated:!1,cache:d.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=Rp(e,n,r,a);break e}else if(r!==u){u=Ht(Error(l(424)),n),xa(u),n=Rp(e,n,r,a);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ie=Vt(e.firstChild),tt=n,re=!0,Qn=null,qt=!0,a=Sm(n,null,r,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Bi(),r===u){n=Cn(e,n,a);break e}it(e,n,r,a)}n=n.child}return n;case 26:return kr(e,n),e===null?(a=qg(n.type,null,n.pendingProps,null))?n.memoizedState=a:re||(a=n.type,e=n.pendingProps,r=$r(ee.current).createElement(a),r[et]=n,r[mt]=e,st(r,a,e),Xe(r),n.stateNode=r):n.memoizedState=qg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return _a(n),e===null&&re&&(r=n.stateNode=Hg(n.type,n.pendingProps,ee.current),tt=n,qt=!0,u=Ie,ui(n.type)?(pf=u,Ie=Vt(r.firstChild)):Ie=u),it(e,n,n.pendingProps.children,a),kr(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&re&&((u=r=Ie)&&(r=sT(r,n.type,n.pendingProps,qt),r!==null?(n.stateNode=r,tt=n,Ie=Vt(r.firstChild),qt=!1,u=!0):u=!1),u||Xn(n)),_a(n),u=n.type,c=n.pendingProps,d=e!==null?e.memoizedProps:null,r=c.children,cf(u,c)?r=null:d!==null&&cf(u,d)&&(n.flags|=32),n.memoizedState!==null&&(u=oc(e,n,v0,null,null,a),ll._currentValue=u),kr(e,n),it(e,n,r,a),n.child;case 6:return e===null&&re&&((e=a=Ie)&&(a=aT(a,n.pendingProps,qt),a!==null?(n.stateNode=a,tt=n,Ie=null,e=!0):e=!1),e||Xn(n)),null;case 13:return Np(e,n,a);case 4:return ot(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Pi(n,null,r,a):it(e,n,r,a),n.child;case 11:return yp(e,n,n.type,n.pendingProps,a);case 7:return it(e,n,n.pendingProps,a),n.child;case 8:return it(e,n,n.pendingProps.children,a),n.child;case 12:return it(e,n,n.pendingProps.children,a),n.child;case 10:return r=n.pendingProps,Zn(n,n.type,r.value),it(e,n,r.children,a),n.child;case 9:return u=n.type._context,r=n.pendingProps.children,qi(n),u=nt(u),r=r(u),n.flags|=1,it(e,n,r,a),n.child;case 14:return vp(e,n,n.type,n.pendingProps,a);case 15:return Ep(e,n,n.type,n.pendingProps,a);case 19:return Op(e,n,a);case 31:return N0(e,n,a);case 22:return Sp(e,n,a,n.pendingProps);case 24:return qi(n),r=nt(je),e===null?(u=Ju(),u===null&&(u=Re,c=Zu(),u.pooledCache=c,c.refCount++,c!==null&&(u.pooledCacheLanes|=a),u=c),n.memoizedState={parent:r,cache:u},ec(n),Zn(n,je,u)):((e.lanes&a)!==0&&(tc(e,n),Ga(n,null,null,a),Ba()),u=e.memoizedState,c=n.memoizedState,u.parent!==r?(u={parent:r,cache:r},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Zn(n,je,r)):(r=c.cache,Zn(n,je,r),r!==u.cache&&Xu(n,[je],a,!0))),it(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function bn(e){e.flags|=4}function kc(e,n,a,r,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(ig())e.flags|=8192;else throw Yi=Sr,$u}else e.flags&=-16777217}function Dp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fg(n))if(ig())e.flags|=8192;else throw Yi=Sr,$u}function Hr(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?cd():536870912,e.lanes|=n,Gs|=n)}function Fa(e,n){if(!re)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function De(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(n)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=a,n}function O0(e,n,a){var r=n.pendingProps;switch(Yu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(n),null;case 1:return De(n),null;case 3:return a=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),En(je),Be(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ns(n)?bn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fu())),De(n),null;case 26:var u=n.type,c=n.memoizedState;return e===null?(bn(n),c!==null?(De(n),Dp(n,c)):(De(n),kc(n,u,null,r,a))):c?c!==e.memoizedState?(bn(n),De(n),Dp(n,c)):(De(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&bn(n),De(n),kc(n,u,e,r,a)),null;case 27:if(Xl(n),a=ee.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&bn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return De(n),null}e=G.current,Ns(n)?cm(n):(e=Hg(u,r,a),n.stateNode=e,bn(n))}return De(n),null;case 5:if(Xl(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&bn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return De(n),null}if(c=G.current,Ns(n))cm(n);else{var d=$r(ee.current);switch(c){case 1:c=d.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:c=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":c=d.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":c=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":c=d.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof r.is=="string"?d.createElement("select",{is:r.is}):d.createElement("select"),r.multiple?c.multiple=!0:r.size&&(c.size=r.size);break;default:c=typeof r.is=="string"?d.createElement(u,{is:r.is}):d.createElement(u)}}c[et]=n,c[mt]=r;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)c.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=c;e:switch(st(c,u,r),u){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&bn(n)}}return De(n),kc(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&bn(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(e=ee.current,Ns(n)){if(e=n.stateNode,a=n.memoizedProps,r=null,u=tt,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[et]=n,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||Ng(e.nodeValue,a)),e||Xn(n,!0)}else e=$r(e).createTextNode(r),e[et]=n,n.stateNode=e}return De(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(r=Ns(n),a!==null){if(e===null){if(!r)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[et]=n}else Bi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;De(n),e=!1}else a=Fu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(It(n),n):(It(n),null);if((n.flags&128)!==0)throw Error(l(558))}return De(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ns(n),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[et]=n}else Bi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;De(n),u=!1}else u=Fu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(It(n),n):(It(n),null)}return It(n),(n.flags&128)!==0?(n.lanes=a,n):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=n.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==u&&(r.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Hr(n,n.updateQueue),De(n),null);case 4:return Be(),e===null&&af(n.stateNode.containerInfo),De(n),null;case 10:return En(n.type),De(n),null;case 19:if(L(Ge),r=n.memoizedState,r===null)return De(n),null;if(u=(n.flags&128)!==0,c=r.rendering,c===null)if(u)Fa(r,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(c=Ar(e),c!==null){for(n.flags|=128,Fa(r,!1),e=c.updateQueue,n.updateQueue=e,Hr(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)am(a,e),a=a.sibling;return H(Ge,Ge.current&1|2),re&&yn(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&bt()>Vr&&(n.flags|=128,u=!0,Fa(r,!1),n.lanes=4194304)}else{if(!u)if(e=Ar(c),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,Hr(n,e),Fa(r,!0),r.tail===null&&r.tailMode==="hidden"&&!c.alternate&&!re)return De(n),null}else 2*bt()-r.renderingStartTime>Vr&&a!==536870912&&(n.flags|=128,u=!0,Fa(r,!1),n.lanes=4194304);r.isBackwards?(c.sibling=n.child,n.child=c):(e=r.last,e!==null?e.sibling=c:n.child=c,r.last=c)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=bt(),e.sibling=null,a=Ge.current,H(Ge,u?a&1|2:a&1),re&&yn(n,r.treeForkCount),e):(De(n),null);case 22:case 23:return It(n),ac(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(a&536870912)!==0&&(n.flags&128)===0&&(De(n),n.subtreeFlags&6&&(n.flags|=8192)):De(n),a=n.updateQueue,a!==null&&Hr(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==a&&(n.flags|=2048),e!==null&&L(ji),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),En(je),De(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function I0(e,n){switch(Yu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return En(je),Be(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Xl(n),null;case 31:if(n.memoizedState!==null){if(It(n),n.alternate===null)throw Error(l(340));Bi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(It(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Bi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return L(Ge),null;case 4:return Be(),null;case 10:return En(n.type),null;case 22:case 23:return It(n),ac(),e!==null&&L(ji),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return En(je),null;case 25:return null;default:return null}}function Mp(e,n){switch(Yu(n),n.tag){case 3:En(je),Be();break;case 26:case 27:case 5:Xl(n);break;case 4:Be();break;case 31:n.memoizedState!==null&&It(n);break;case 13:It(n);break;case 19:L(Ge);break;case 10:En(n.type);break;case 22:case 23:It(n),ac(),e!==null&&L(ji);break;case 24:En(je)}}function Ka(e,n){try{var a=n.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var u=r.next;a=u;do{if((a.tag&e)===e){r=void 0;var c=a.create,d=a.inst;r=c(),d.destroy=r}a=a.next}while(a!==u)}}catch(_){ve(n,n.return,_)}}function ni(e,n,a){try{var r=n.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var c=u.next;r=c;do{if((r.tag&e)===e){var d=r.inst,_=d.destroy;if(_!==void 0){d.destroy=void 0,u=n;var v=a,R=_;try{R()}catch(O){ve(u,v,O)}}}r=r.next}while(r!==c)}}catch(O){ve(n,n.return,O)}}function xp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Cm(n,a)}catch(r){ve(e,e.return,r)}}}function Lp(e,n,a){a.props=Ki(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){ve(e,n,r)}}function Qa(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(u){ve(e,n,u)}}function rn(e,n){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(u){ve(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){ve(e,n,u)}else a.current=null}function Up(e){var n=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(u){ve(e,e.return,u)}}function zc(e,n,a){try{var r=e.stateNode;J0(r,e.type,a,n),r[mt]=n}catch(u){ve(e,e.return,u)}}function kp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ui(e.type)||e.tag===4}function Hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ui(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bc(e,n,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=pn));else if(r!==4&&(r===27&&ui(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Bc(e,n,a),e=e.sibling;e!==null;)Bc(e,n,a),e=e.sibling}function Br(e,n,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(r!==4&&(r===27&&ui(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Br(e,n,a),e=e.sibling;e!==null;)Br(e,n,a),e=e.sibling}function zp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);st(n,r,a),n[et]=e,n[mt]=a}catch(c){ve(e,e.return,c)}}var An=!1,Pe=!1,Gc=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function D0(e,n){if(e=e.containerInfo,of=lo,e=Zd(e),xu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var u=r.anchorOffset,c=r.focusNode;r=r.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var d=0,_=-1,v=-1,R=0,O=0,x=e,N=null;t:for(;;){for(var w;x!==a||u!==0&&x.nodeType!==3||(_=d+u),x!==c||r!==0&&x.nodeType!==3||(v=d+r),x.nodeType===3&&(d+=x.nodeValue.length),(w=x.firstChild)!==null;)N=x,x=w;for(;;){if(x===e)break t;if(N===a&&++R===u&&(_=d),N===c&&++O===r&&(v=d),(w=x.nextSibling)!==null)break;x=N,N=x.parentNode}x=w}a=_===-1||v===-1?null:{start:_,end:v}}else a=null}a=a||{start:0,end:0}}else a=null;for(uf={focusedElem:e,selectionRange:a},lo=!1,Ze=n;Ze!==null;)if(n=Ze,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ze=e;else for(;Ze!==null;){switch(n=Ze,c=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=n,u=c.memoizedProps,c=c.memoizedState,r=a.stateNode;try{var B=Ki(a.type,u);e=r.getSnapshotBeforeUpdate(B,c),r.__reactInternalSnapshotBeforeUpdate=e}catch(Y){ve(a,a.return,Y)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)hf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,Ze=e;break}Ze=n.return}}function Bp(e,n,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Nn(e,a),r&4&&Ka(5,a);break;case 1:if(Nn(e,a),r&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(d){ve(a,a.return,d)}else{var u=Ki(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(d){ve(a,a.return,d)}}r&64&&xp(a),r&512&&Qa(a,a.return);break;case 3:if(Nn(e,a),r&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Cm(e,n)}catch(d){ve(a,a.return,d)}}break;case 27:n===null&&r&4&&zp(a);case 26:case 5:Nn(e,a),n===null&&r&4&&Up(a),r&512&&Qa(a,a.return);break;case 12:Nn(e,a);break;case 31:Nn(e,a),r&4&&jp(e,a);break;case 13:Nn(e,a),r&4&&Vp(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=G0.bind(null,a),lT(e,a))));break;case 22:if(r=a.memoizedState!==null||An,!r){n=n!==null&&n.memoizedState!==null||Pe,u=An;var c=Pe;An=r,(Pe=n)&&!c?wn(e,a,(a.subtreeFlags&8772)!==0):Nn(e,a),An=u,Pe=c}break;case 30:break;default:Nn(e,a)}}function Gp(e){var n=e.alternate;n!==null&&(e.alternate=null,Gp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&gu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xe=null,gt=!1;function Rn(e,n,a){for(a=a.child;a!==null;)qp(e,n,a),a=a.sibling}function qp(e,n,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(ya,a)}catch{}switch(a.tag){case 26:Pe||rn(a,n),Rn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pe||rn(a,n);var r=xe,u=gt;ui(a.type)&&(xe=a.stateNode,gt=!1),Rn(e,n,a),il(a.stateNode),xe=r,gt=u;break;case 5:Pe||rn(a,n);case 6:if(r=xe,u=gt,xe=null,Rn(e,n,a),xe=r,gt=u,xe!==null)if(gt)try{(xe.nodeType===9?xe.body:xe.nodeName==="HTML"?xe.ownerDocument.body:xe).removeChild(a.stateNode)}catch(c){ve(a,n,c)}else try{xe.removeChild(a.stateNode)}catch(c){ve(a,n,c)}break;case 18:xe!==null&&(gt?(e=xe,xg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Qs(e)):xg(xe,a.stateNode));break;case 4:r=xe,u=gt,xe=a.stateNode.containerInfo,gt=!0,Rn(e,n,a),xe=r,gt=u;break;case 0:case 11:case 14:case 15:ni(2,a,n),Pe||ni(4,a,n),Rn(e,n,a);break;case 1:Pe||(rn(a,n),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Lp(a,n,r)),Rn(e,n,a);break;case 21:Rn(e,n,a);break;case 22:Pe=(r=Pe)||a.memoizedState!==null,Rn(e,n,a),Pe=r;break;default:Rn(e,n,a)}}function jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qs(e)}catch(a){ve(n,n.return,a)}}}function Vp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qs(e)}catch(a){ve(n,n.return,a)}}function M0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Hp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Hp),n;default:throw Error(l(435,e.tag))}}function Gr(e,n){var a=M0(e);n.forEach(function(r){if(!a.has(r)){a.add(r);var u=q0.bind(null,e,r);r.then(u,u)}})}function _t(e,n){var a=n.deletions;if(a!==null)for(var r=0;r<a.length;r++){var u=a[r],c=e,d=n,_=d;e:for(;_!==null;){switch(_.tag){case 27:if(ui(_.type)){xe=_.stateNode,gt=!1;break e}break;case 5:xe=_.stateNode,gt=!1;break e;case 3:case 4:xe=_.stateNode.containerInfo,gt=!0;break e}_=_.return}if(xe===null)throw Error(l(160));qp(c,d,u),xe=null,gt=!1,c=u.alternate,c!==null&&(c.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Yp(n,e),n=n.sibling}var Kt=null;function Yp(e,n){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(n,e),yt(e),r&4&&(ni(3,e,e.return),Ka(3,e),ni(5,e,e.return));break;case 1:_t(n,e),yt(e),r&512&&(Pe||a===null||rn(a,a.return)),r&64&&An&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var u=Kt;if(_t(n,e),yt(e),r&512&&(Pe||a===null||rn(a,a.return)),r&4){var c=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":c=u.getElementsByTagName("title")[0],(!c||c[Sa]||c[et]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=u.createElement(r),u.head.insertBefore(c,u.querySelector("head > title"))),st(c,r,a),c[et]=e,Xe(c),r=c;break e;case"link":var d=Yg("link","href",u).get(r+(a.href||""));if(d){for(var _=0;_<d.length;_++)if(c=d[_],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){d.splice(_,1);break t}}c=u.createElement(r),st(c,r,a),u.head.appendChild(c);break;case"meta":if(d=Yg("meta","content",u).get(r+(a.content||""))){for(_=0;_<d.length;_++)if(c=d[_],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){d.splice(_,1);break t}}c=u.createElement(r),st(c,r,a),u.head.appendChild(c);break;default:throw Error(l(468,r))}c[et]=e,Xe(c),r=c}e.stateNode=r}else Pg(u,e.type,e.stateNode);else e.stateNode=Vg(u,r,e.memoizedProps);else c!==r?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,r===null?Pg(u,e.type,e.stateNode):Vg(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&zc(e,e.memoizedProps,a.memoizedProps)}break;case 27:_t(n,e),yt(e),r&512&&(Pe||a===null||rn(a,a.return)),a!==null&&r&4&&zc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_t(n,e),yt(e),r&512&&(Pe||a===null||rn(a,a.return)),e.flags&32){u=e.stateNode;try{_s(u,"")}catch(B){ve(e,e.return,B)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,zc(e,u,a!==null?a.memoizedProps:u)),r&1024&&(Gc=!0);break;case 6:if(_t(n,e),yt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(B){ve(e,e.return,B)}}break;case 3:if(no=null,u=Kt,Kt=eo(n.containerInfo),_t(n,e),Kt=u,yt(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Qs(n.containerInfo)}catch(B){ve(e,e.return,B)}Gc&&(Gc=!1,Pp(e));break;case 4:r=Kt,Kt=eo(e.stateNode.containerInfo),_t(n,e),yt(e),Kt=r;break;case 12:_t(n,e),yt(e);break;case 31:_t(n,e),yt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Gr(e,r)));break;case 13:_t(n,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(jr=bt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Gr(e,r)));break;case 22:u=e.memoizedState!==null;var v=a!==null&&a.memoizedState!==null,R=An,O=Pe;if(An=R||u,Pe=O||v,_t(n,e),Pe=O,An=R,yt(e),r&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(a===null||v||An||Pe||Qi(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){v=a=n;try{if(c=v.stateNode,u)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=v.stateNode;var x=v.memoizedProps.style,N=x!=null&&x.hasOwnProperty("display")?x.display:null;_.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(B){ve(v,v.return,B)}}}else if(n.tag===6){if(a===null){v=n;try{v.stateNode.nodeValue=u?"":v.memoizedProps}catch(B){ve(v,v.return,B)}}}else if(n.tag===18){if(a===null){v=n;try{var w=v.stateNode;u?Lg(w,!0):Lg(v.stateNode,!1)}catch(B){ve(v,v.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Gr(e,a))));break;case 19:_t(n,e),yt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Gr(e,r)));break;case 30:break;case 21:break;default:_t(n,e),yt(e)}}function yt(e){var n=e.flags;if(n&2){try{for(var a,r=e.return;r!==null;){if(kp(r)){a=r;break}r=r.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var u=a.stateNode,c=Hc(e);Br(e,c,u);break;case 5:var d=a.stateNode;a.flags&32&&(_s(d,""),a.flags&=-33);var _=Hc(e);Br(e,_,d);break;case 3:case 4:var v=a.stateNode.containerInfo,R=Hc(e);Bc(e,R,v);break;default:throw Error(l(161))}}catch(O){ve(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Pp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Pp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Nn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Bp(e,n.alternate,n),n=n.sibling}function Qi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ni(4,n,n.return),Qi(n);break;case 1:rn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Lp(n,n.return,a),Qi(n);break;case 27:il(n.stateNode);case 26:case 5:rn(n,n.return),Qi(n);break;case 22:n.memoizedState===null&&Qi(n);break;case 30:Qi(n);break;default:Qi(n)}e=e.sibling}}function wn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,u=e,c=n,d=c.flags;switch(c.tag){case 0:case 11:case 15:wn(u,c,a),Ka(4,c);break;case 1:if(wn(u,c,a),r=c,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){ve(r,r.return,R)}if(r=c,u=r.updateQueue,u!==null){var _=r.stateNode;try{var v=u.shared.hiddenCallbacks;if(v!==null)for(u.shared.hiddenCallbacks=null,u=0;u<v.length;u++)Tm(v[u],_)}catch(R){ve(r,r.return,R)}}a&&d&64&&xp(c),Qa(c,c.return);break;case 27:zp(c);case 26:case 5:wn(u,c,a),a&&r===null&&d&4&&Up(c),Qa(c,c.return);break;case 12:wn(u,c,a);break;case 31:wn(u,c,a),a&&d&4&&jp(u,c);break;case 13:wn(u,c,a),a&&d&4&&Vp(u,c);break;case 22:c.memoizedState===null&&wn(u,c,a),Qa(c,c.return);break;case 30:break;default:wn(u,c,a)}n=n.sibling}}function qc(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&La(a))}function jc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&La(e))}function Qt(e,n,a,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fp(e,n,a,r),n=n.sibling}function Fp(e,n,a,r){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Qt(e,n,a,r),u&2048&&Ka(9,n);break;case 1:Qt(e,n,a,r);break;case 3:Qt(e,n,a,r),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&La(e)));break;case 12:if(u&2048){Qt(e,n,a,r),e=n.stateNode;try{var c=n.memoizedProps,d=c.id,_=c.onPostCommit;typeof _=="function"&&_(d,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){ve(n,n.return,v)}}else Qt(e,n,a,r);break;case 31:Qt(e,n,a,r);break;case 13:Qt(e,n,a,r);break;case 23:break;case 22:c=n.stateNode,d=n.alternate,n.memoizedState!==null?c._visibility&2?Qt(e,n,a,r):Xa(e,n):c._visibility&2?Qt(e,n,a,r):(c._visibility|=2,zs(e,n,a,r,(n.subtreeFlags&10256)!==0||!1)),u&2048&&qc(d,n);break;case 24:Qt(e,n,a,r),u&2048&&jc(n.alternate,n);break;default:Qt(e,n,a,r)}}function zs(e,n,a,r,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var c=e,d=n,_=a,v=r,R=d.flags;switch(d.tag){case 0:case 11:case 15:zs(c,d,_,v,u),Ka(8,d);break;case 23:break;case 22:var O=d.stateNode;d.memoizedState!==null?O._visibility&2?zs(c,d,_,v,u):Xa(c,d):(O._visibility|=2,zs(c,d,_,v,u)),u&&R&2048&&qc(d.alternate,d);break;case 24:zs(c,d,_,v,u),u&&R&2048&&jc(d.alternate,d);break;default:zs(c,d,_,v,u)}n=n.sibling}}function Xa(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,r=n,u=r.flags;switch(r.tag){case 22:Xa(a,r),u&2048&&qc(r.alternate,r);break;case 24:Xa(a,r),u&2048&&jc(r.alternate,r);break;default:Xa(a,r)}n=n.sibling}}var Za=8192;function Hs(e,n,a){if(e.subtreeFlags&Za)for(e=e.child;e!==null;)Kp(e,n,a),e=e.sibling}function Kp(e,n,a){switch(e.tag){case 26:Hs(e,n,a),e.flags&Za&&e.memoizedState!==null&&yT(a,Kt,e.memoizedState,e.memoizedProps);break;case 5:Hs(e,n,a);break;case 3:case 4:var r=Kt;Kt=eo(e.stateNode.containerInfo),Hs(e,n,a),Kt=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Za,Za=16777216,Hs(e,n,a),Za=r):Hs(e,n,a));break;default:Hs(e,n,a)}}function Qp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];Ze=r,Zp(r,e)}Qp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xp(e),e=e.sibling}function Xp(e){switch(e.tag){case 0:case 11:case 15:Wa(e),e.flags&2048&&ni(9,e,e.return);break;case 3:Wa(e);break;case 12:Wa(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,qr(e)):Wa(e);break;default:Wa(e)}}function qr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];Ze=r,Zp(r,e)}Qp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ni(8,n,n.return),qr(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,qr(n));break;default:qr(n)}e=e.sibling}}function Zp(e,n){for(;Ze!==null;){var a=Ze;switch(a.tag){case 0:case 11:case 15:ni(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:La(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,Ze=r;else e:for(a=e;Ze!==null;){r=Ze;var u=r.sibling,c=r.return;if(Gp(r),r===a){Ze=null;break e}if(u!==null){u.return=c,Ze=u;break e}Ze=c}}}var x0={getCacheForType:function(e){var n=nt(je),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return nt(je).controller.signal}},L0=typeof WeakMap=="function"?WeakMap:Map,pe=0,Re=null,te=null,se=0,ye=0,Dt=null,ii=!1,Bs=!1,Vc=!1,On=0,ze=0,si=0,Xi=0,Yc=0,Mt=0,Gs=0,Ja=null,vt=null,Pc=!1,jr=0,Wp=0,Vr=1/0,Yr=null,ai=null,Fe=0,li=null,qs=null,In=0,Fc=0,Kc=null,Jp=null,$a=0,Qc=null;function xt(){return(pe&2)!==0&&se!==0?se&-se:I.T!==null?ef():md()}function $p(){if(Mt===0)if((se&536870912)===0||re){var e=Jl;Jl<<=1,(Jl&3932160)===0&&(Jl=262144),Mt=e}else Mt=536870912;return e=Ot.current,e!==null&&(e.flags|=32),Mt}function Et(e,n,a){(e===Re&&(ye===2||ye===9)||e.cancelPendingCommit!==null)&&(js(e,0),ri(e,se,Mt,!1)),Ea(e,a),((pe&2)===0||e!==Re)&&(e===Re&&((pe&2)===0&&(Xi|=a),ze===4&&ri(e,se,Mt,!1)),on(e))}function eg(e,n,a){if((pe&6)!==0)throw Error(l(327));var r=!a&&(n&127)===0&&(n&e.expiredLanes)===0||va(e,n),u=r?z0(e,n):Zc(e,n,!0),c=r;do{if(u===0){Bs&&!r&&ri(e,n,0,!1);break}else{if(a=e.current.alternate,c&&!U0(a)){u=Zc(e,n,!1),c=!1;continue}if(u===2){if(c=n,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){n=d;e:{var _=e;u=Ja;var v=_.current.memoizedState.isDehydrated;if(v&&(js(_,d).flags|=256),d=Zc(_,d,!1),d!==2){if(Vc&&!v){_.errorRecoveryDisabledLanes|=c,Xi|=c,u=4;break e}c=vt,vt=u,c!==null&&(vt===null?vt=c:vt.push.apply(vt,c))}u=d}if(c=!1,u!==2)continue}}if(u===1){js(e,0),ri(e,n,0,!0);break}e:{switch(r=e,c=u,c){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:ri(r,n,Mt,!ii);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=jr+300-bt(),10<u)){if(ri(r,n,Mt,!ii),er(r,0,!0)!==0)break e;In=n,r.timeoutHandle=Dg(tg.bind(null,r,a,vt,Yr,Pc,n,Mt,Xi,Gs,ii,c,"Throttled",-0,0),u);break e}tg(r,a,vt,Yr,Pc,n,Mt,Xi,Gs,ii,c,null,-0,0)}}break}while(!0);on(e)}function tg(e,n,a,r,u,c,d,_,v,R,O,x,N,w){if(e.timeoutHandle=-1,x=n.subtreeFlags,x&8192||(x&16785408)===16785408){x={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pn},Kp(n,c,x);var B=(c&62914560)===c?jr-bt():(c&4194048)===c?Wp-bt():0;if(B=vT(x,B),B!==null){In=c,e.cancelPendingCommit=B(ug.bind(null,e,n,c,a,r,u,d,_,v,O,x,null,N,w)),ri(e,c,d,!R);return}}ug(e,n,c,a,r,u,d,_,v)}function U0(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var u=a[r],c=u.getSnapshot;u=u.value;try{if(!Nt(c(),u))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ri(e,n,a,r){n&=~Yc,n&=~Xi,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var u=n;0<u;){var c=31-Rt(u),d=1<<c;r[c]=-1,u&=~d}a!==0&&fd(e,a,n)}function Pr(){return(pe&6)===0?(el(0),!1):!0}function Xc(){if(te!==null){if(ye===0)var e=te.return;else e=te,vn=Gi=null,fc(e),Ms=null,ka=0,e=te;for(;e!==null;)Mp(e.alternate,e),e=e.return;te=null}}function js(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,tT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),In=0,Xc(),Re=e,te=a=_n(e.current,null),se=n,ye=0,Dt=null,ii=!1,Bs=va(e,n),Vc=!1,Gs=Mt=Yc=Xi=si=ze=0,vt=Ja=null,Pc=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var u=31-Rt(r),c=1<<u;n|=e[u],r&=~c}return On=n,hr(),a}function ng(e,n){W=null,I.H=Ya,n===Ds||n===Er?(n=ym(),ye=3):n===$u?(n=ym(),ye=4):ye=n===Nc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dt=n,te===null&&(ze=1,Lr(e,Ht(n,e.current)))}function ig(){var e=Ot.current;return e===null?!0:(se&4194048)===se?jt===null:(se&62914560)===se||(se&536870912)!==0?e===jt:!1}function sg(){var e=I.H;return I.H=Ya,e===null?Ya:e}function ag(){var e=I.A;return I.A=x0,e}function Fr(){ze=4,ii||(se&4194048)!==se&&Ot.current!==null||(Bs=!0),(si&134217727)===0&&(Xi&134217727)===0||Re===null||ri(Re,se,Mt,!1)}function Zc(e,n,a){var r=pe;pe|=2;var u=sg(),c=ag();(Re!==e||se!==n)&&(Yr=null,js(e,n)),n=!1;var d=ze;e:do try{if(ye!==0&&te!==null){var _=te,v=Dt;switch(ye){case 8:Xc(),d=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(n=!0);var R=ye;if(ye=0,Dt=null,Vs(e,_,v,R),a&&Bs){d=0;break e}break;default:R=ye,ye=0,Dt=null,Vs(e,_,v,R)}}k0(),d=ze;break}catch(O){ng(e,O)}while(!0);return n&&e.shellSuspendCounter++,vn=Gi=null,pe=r,I.H=u,I.A=c,te===null&&(Re=null,se=0,hr()),d}function k0(){for(;te!==null;)lg(te)}function z0(e,n){var a=pe;pe|=2;var r=sg(),u=ag();Re!==e||se!==n?(Yr=null,Vr=bt()+500,js(e,n)):Bs=va(e,n);e:do try{if(ye!==0&&te!==null){n=te;var c=Dt;t:switch(ye){case 1:ye=0,Dt=null,Vs(e,n,c,1);break;case 2:case 9:if(gm(c)){ye=0,Dt=null,rg(n);break}n=function(){ye!==2&&ye!==9||Re!==e||(ye=7),on(e)},c.then(n,n);break e;case 3:ye=7;break e;case 4:ye=5;break e;case 7:gm(c)?(ye=0,Dt=null,rg(n)):(ye=0,Dt=null,Vs(e,n,c,7));break;case 5:var d=null;switch(te.tag){case 26:d=te.memoizedState;case 5:case 27:var _=te;if(d?Fg(d):_.stateNode.complete){ye=0,Dt=null;var v=_.sibling;if(v!==null)te=v;else{var R=_.return;R!==null?(te=R,Kr(R)):te=null}break t}}ye=0,Dt=null,Vs(e,n,c,5);break;case 6:ye=0,Dt=null,Vs(e,n,c,6);break;case 8:Xc(),ze=6;break e;default:throw Error(l(462))}}H0();break}catch(O){ng(e,O)}while(!0);return vn=Gi=null,I.H=r,I.A=u,pe=a,te!==null?0:(Re=null,se=0,hr(),ze)}function H0(){for(;te!==null&&!rS();)lg(te)}function lg(e){var n=Ip(e.alternate,e,On);e.memoizedProps=e.pendingProps,n===null?Kr(e):te=n}function rg(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=bp(a,n,n.pendingProps,n.type,void 0,se);break;case 11:n=bp(a,n,n.pendingProps,n.type.render,n.ref,se);break;case 5:fc(n);default:Mp(a,n),n=te=am(n,On),n=Ip(a,n,On)}e.memoizedProps=e.pendingProps,n===null?Kr(e):te=n}function Vs(e,n,a,r){vn=Gi=null,fc(n),Ms=null,ka=0;var u=n.return;try{if(R0(e,u,n,a,se)){ze=1,Lr(e,Ht(a,e.current)),te=null;return}}catch(c){if(u!==null)throw te=u,c;ze=1,Lr(e,Ht(a,e.current)),te=null;return}n.flags&32768?(re||r===1?e=!0:Bs||(se&536870912)!==0?e=!1:(ii=e=!0,(r===2||r===9||r===3||r===6)&&(r=Ot.current,r!==null&&r.tag===13&&(r.flags|=16384))),og(n,e)):Kr(n)}function Kr(e){var n=e;do{if((n.flags&32768)!==0){og(n,ii);return}e=n.return;var a=O0(n.alternate,n,On);if(a!==null){te=a;return}if(n=n.sibling,n!==null){te=n;return}te=n=e}while(n!==null);ze===0&&(ze=5)}function og(e,n){do{var a=I0(e.alternate,e);if(a!==null){a.flags&=32767,te=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){te=e;return}te=e=a}while(e!==null);ze=6,te=null}function ug(e,n,a,r,u,c,d,_,v){e.cancelPendingCommit=null;do Qr();while(Fe!==0);if((pe&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(c=n.lanes|n.childLanes,c|=Hu,_S(e,a,c,d,_,v),e===Re&&(te=Re=null,se=0),qs=n,li=e,In=a,Fc=c,Kc=u,Jp=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,j0(Zl,function(){return mg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=I.T,I.T=null,u=z.p,z.p=2,d=pe,pe|=4;try{D0(e,n,a)}finally{pe=d,z.p=u,I.T=r}}Fe=1,cg(),fg(),hg()}}function cg(){if(Fe===1){Fe=0;var e=li,n=qs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=I.T,I.T=null;var r=z.p;z.p=2;var u=pe;pe|=4;try{Yp(n,e);var c=uf,d=Zd(e.containerInfo),_=c.focusedElem,v=c.selectionRange;if(d!==_&&_&&_.ownerDocument&&Xd(_.ownerDocument.documentElement,_)){if(v!==null&&xu(_)){var R=v.start,O=v.end;if(O===void 0&&(O=R),"selectionStart"in _)_.selectionStart=R,_.selectionEnd=Math.min(O,_.value.length);else{var x=_.ownerDocument||document,N=x&&x.defaultView||window;if(N.getSelection){var w=N.getSelection(),B=_.textContent.length,Y=Math.min(v.start,B),Ce=v.end===void 0?Y:Math.min(v.end,B);!w.extend&&Y>Ce&&(d=Ce,Ce=Y,Y=d);var b=Qd(_,Y),T=Qd(_,Ce);if(b&&T&&(w.rangeCount!==1||w.anchorNode!==b.node||w.anchorOffset!==b.offset||w.focusNode!==T.node||w.focusOffset!==T.offset)){var A=x.createRange();A.setStart(b.node,b.offset),w.removeAllRanges(),Y>Ce?(w.addRange(A),w.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),w.addRange(A))}}}}for(x=[],w=_;w=w.parentNode;)w.nodeType===1&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<x.length;_++){var D=x[_];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}lo=!!of,uf=of=null}finally{pe=u,z.p=r,I.T=a}}e.current=n,Fe=2}}function fg(){if(Fe===2){Fe=0;var e=li,n=qs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=I.T,I.T=null;var r=z.p;z.p=2;var u=pe;pe|=4;try{Bp(e,n.alternate,n)}finally{pe=u,z.p=r,I.T=a}}Fe=3}}function hg(){if(Fe===4||Fe===3){Fe=0,oS();var e=li,n=qs,a=In,r=Jp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Fe=5:(Fe=0,qs=li=null,dg(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ai=null),mu(a),n=n.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(ya,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=I.T,u=z.p,z.p=2,I.T=null;try{for(var c=e.onRecoverableError,d=0;d<r.length;d++){var _=r[d];c(_.value,{componentStack:_.stack})}}finally{I.T=n,z.p=u}}(In&3)!==0&&Qr(),on(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===Qc?$a++:($a=0,Qc=e):$a=0,el(0)}}function dg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,La(n)))}function Qr(){return cg(),fg(),hg(),mg()}function mg(){if(Fe!==5)return!1;var e=li,n=Fc;Fc=0;var a=mu(In),r=I.T,u=z.p;try{z.p=32>a?32:a,I.T=null,a=Kc,Kc=null;var c=li,d=In;if(Fe=0,qs=li=null,In=0,(pe&6)!==0)throw Error(l(331));var _=pe;if(pe|=4,Xp(c.current),Fp(c,c.current,d,a),pe=_,el(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(ya,c)}catch{}return!0}finally{z.p=u,I.T=r,dg(e,n)}}function pg(e,n,a){n=Ht(a,n),n=Rc(e.stateNode,n,2),e=$n(e,n,2),e!==null&&(Ea(e,2),on(e))}function ve(e,n,a){if(e.tag===3)pg(e,e,a);else for(;n!==null;){if(n.tag===3){pg(n,e,a);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))){e=Ht(a,e),a=gp(2),r=$n(n,a,2),r!==null&&(_p(a,r,n,e),Ea(r,2),on(r));break}}n=n.return}}function Wc(e,n,a){var r=e.pingCache;if(r===null){r=e.pingCache=new L0;var u=new Set;r.set(n,u)}else u=r.get(n),u===void 0&&(u=new Set,r.set(n,u));u.has(a)||(Vc=!0,u.add(a),e=B0.bind(null,e,n,a),n.then(e,e))}function B0(e,n,a){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Re===e&&(se&a)===a&&(ze===4||ze===3&&(se&62914560)===se&&300>bt()-jr?(pe&2)===0&&js(e,0):Yc|=a,Gs===se&&(Gs=0)),on(e)}function gg(e,n){n===0&&(n=cd()),e=zi(e,n),e!==null&&(Ea(e,n),on(e))}function G0(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),gg(e,a)}function q0(e,n){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),gg(e,a)}function j0(e,n){return cu(e,n)}var Xr=null,Ys=null,Jc=!1,Zr=!1,$c=!1,oi=0;function on(e){e!==Ys&&e.next===null&&(Ys===null?Xr=Ys=e:Ys=Ys.next=e),Zr=!0,Jc||(Jc=!0,Y0())}function el(e,n){if(!$c&&Zr){$c=!0;do for(var a=!1,r=Xr;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var c=0;else{var d=r.suspendedLanes,_=r.pingedLanes;c=(1<<31-Rt(42|e)+1)-1,c&=u&~(d&~_),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,Eg(r,c))}else c=se,c=er(r,r===Re?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(c&3)===0||va(r,c)||(a=!0,Eg(r,c));r=r.next}while(a);$c=!1}}function V0(){_g()}function _g(){Zr=Jc=!1;var e=0;oi!==0&&eT()&&(e=oi);for(var n=bt(),a=null,r=Xr;r!==null;){var u=r.next,c=yg(r,n);c===0?(r.next=null,a===null?Xr=u:a.next=u,u===null&&(Ys=a)):(a=r,(e!==0||(c&3)!==0)&&(Zr=!0)),r=u}Fe!==0&&Fe!==5||el(e),oi!==0&&(oi=0)}function yg(e,n){for(var a=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-Rt(c),_=1<<d,v=u[d];v===-1?((_&a)===0||(_&r)!==0)&&(u[d]=gS(_,n)):v<=n&&(e.expiredLanes|=_),c&=~_}if(n=Re,a=se,a=er(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===n&&(ye===2||ye===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&fu(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||va(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(r!==null&&fu(r),mu(a)){case 2:case 8:a=od;break;case 32:a=Zl;break;case 268435456:a=ud;break;default:a=Zl}return r=vg.bind(null,e),a=cu(a,r),e.callbackPriority=n,e.callbackNode=a,n}return r!==null&&r!==null&&fu(r),e.callbackPriority=2,e.callbackNode=null,2}function vg(e,n){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Qr()&&e.callbackNode!==a)return null;var r=se;return r=er(e,e===Re?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(eg(e,r,n),yg(e,bt()),e.callbackNode!=null&&e.callbackNode===a?vg.bind(null,e):null)}function Eg(e,n){if(Qr())return null;eg(e,n,!0)}function Y0(){nT(function(){(pe&6)!==0?cu(rd,V0):_g()})}function ef(){if(oi===0){var e=Os;e===0&&(e=Wl,Wl<<=1,(Wl&261888)===0&&(Wl=256)),oi=e}return oi}function Sg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sr(""+e)}function Tg(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function P0(e,n,a,r,u){if(n==="submit"&&a&&a.stateNode===u){var c=Sg((u[mt]||null).action),d=r.submitter;d&&(n=(n=d[mt]||null)?Sg(n.formAction):d.getAttribute("formAction"),n!==null&&(c=n,d=null));var _=new or("action","action",null,r,u);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(oi!==0){var v=d?Tg(u,d):new FormData(u);Ec(a,{pending:!0,data:v,method:u.method,action:c},null,v)}}else typeof c=="function"&&(_.preventDefault(),v=d?Tg(u,d):new FormData(u),Ec(a,{pending:!0,data:v,method:u.method,action:c},c,v))},currentTarget:u}]})}}for(var tf=0;tf<zu.length;tf++){var nf=zu[tf],F0=nf.toLowerCase(),K0=nf[0].toUpperCase()+nf.slice(1);Ft(F0,"on"+K0)}Ft($d,"onAnimationEnd"),Ft(em,"onAnimationIteration"),Ft(tm,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(u0,"onTransitionRun"),Ft(c0,"onTransitionStart"),Ft(f0,"onTransitionCancel"),Ft(nm,"onTransitionEnd"),ps("onMouseEnter",["mouseout","mouseover"]),ps("onMouseLeave",["mouseout","mouseover"]),ps("onPointerEnter",["pointerout","pointerover"]),ps("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function Cg(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],u=r.event;r=r.listeners;e:{var c=void 0;if(n)for(var d=r.length-1;0<=d;d--){var _=r[d],v=_.instance,R=_.currentTarget;if(_=_.listener,v!==c&&u.isPropagationStopped())break e;c=_,u.currentTarget=R;try{c(u)}catch(O){fr(O)}u.currentTarget=null,c=v}else for(d=0;d<r.length;d++){if(_=r[d],v=_.instance,R=_.currentTarget,_=_.listener,v!==c&&u.isPropagationStopped())break e;c=_,u.currentTarget=R;try{c(u)}catch(O){fr(O)}u.currentTarget=null,c=v}}}}function ne(e,n){var a=n[pu];a===void 0&&(a=n[pu]=new Set);var r=e+"__bubble";a.has(r)||(bg(n,e,2,!1),a.add(r))}function sf(e,n,a){var r=0;n&&(r|=4),bg(a,e,r,n)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function af(e){if(!e[Wr]){e[Wr]=!0,_d.forEach(function(a){a!=="selectionchange"&&(Q0.has(a)||sf(a,!1,e),sf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Wr]||(n[Wr]=!0,sf("selectionchange",!1,n))}}function bg(e,n,a,r){switch($g(n)){case 2:var u=TT;break;case 8:u=CT;break;default:u=Ef}a=u.bind(null,n,a,e),u=void 0,!bu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(n,a,{capture:!0,passive:u}):e.addEventListener(n,a,!0):u!==void 0?e.addEventListener(n,a,{passive:u}):e.addEventListener(n,a,!1)}function lf(e,n,a,r,u){var c=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var _=r.stateNode.containerInfo;if(_===u)break;if(d===4)for(d=r.return;d!==null;){var v=d.tag;if((v===3||v===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;_!==null;){if(d=hs(_),d===null)return;if(v=d.tag,v===5||v===6||v===26||v===27){r=c=d;continue e}_=_.parentNode}}r=r.return}Od(function(){var R=c,O=Tu(a),x=[];e:{var N=im.get(e);if(N!==void 0){var w=or,B=e;switch(e){case"keypress":if(lr(a)===0)break e;case"keydown":case"keyup":w=qS;break;case"focusin":B="focus",w=wu;break;case"focusout":B="blur",w=wu;break;case"beforeblur":case"afterblur":w=wu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=OS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=YS;break;case $d:case em:case tm:w=MS;break;case nm:w=FS;break;case"scroll":case"scrollend":w=NS;break;case"wheel":w=QS;break;case"copy":case"cut":case"paste":w=LS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Ld;break;case"toggle":case"beforetoggle":w=ZS}var Y=(n&4)!==0,Ce=!Y&&(e==="scroll"||e==="scrollend"),b=Y?N!==null?N+"Capture":null:N;Y=[];for(var T=R,A;T!==null;){var D=T;if(A=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||A===null||b===null||(D=Ca(T,b),D!=null&&Y.push(nl(T,D,A))),Ce)break;T=T.return}0<Y.length&&(N=new w(N,B,null,a,O),x.push({event:N,listeners:Y}))}}if((n&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",N&&a!==Su&&(B=a.relatedTarget||a.fromElement)&&(hs(B)||B[fs]))break e;if((w||N)&&(N=O.window===O?O:(N=O.ownerDocument)?N.defaultView||N.parentWindow:window,w?(B=a.relatedTarget||a.toElement,w=R,B=B?hs(B):null,B!==null&&(Ce=f(B),Y=B.tag,B!==Ce||Y!==5&&Y!==27&&Y!==6)&&(B=null)):(w=null,B=R),w!==B)){if(Y=Md,D="onMouseLeave",b="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(Y=Ld,D="onPointerLeave",b="onPointerEnter",T="pointer"),Ce=w==null?N:Ta(w),A=B==null?N:Ta(B),N=new Y(D,T+"leave",w,a,O),N.target=Ce,N.relatedTarget=A,D=null,hs(O)===R&&(Y=new Y(b,T+"enter",B,a,O),Y.target=A,Y.relatedTarget=Ce,D=Y),Ce=D,w&&B)t:{for(Y=X0,b=w,T=B,A=0,D=b;D;D=Y(D))A++;D=0;for(var V=T;V;V=Y(V))D++;for(;0<A-D;)b=Y(b),A--;for(;0<D-A;)T=Y(T),D--;for(;A--;){if(b===T||T!==null&&b===T.alternate){Y=b;break t}b=Y(b),T=Y(T)}Y=null}else Y=null;w!==null&&Ag(x,N,w,Y,!1),B!==null&&Ce!==null&&Ag(x,Ce,B,Y,!0)}}e:{if(N=R?Ta(R):window,w=N.nodeName&&N.nodeName.toLowerCase(),w==="select"||w==="input"&&N.type==="file")var ce=jd;else if(Gd(N))if(Vd)ce=l0;else{ce=s0;var q=i0}else w=N.nodeName,!w||w.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?R&&Eu(R.elementType)&&(ce=jd):ce=a0;if(ce&&(ce=ce(e,R))){qd(x,ce,a,O);break e}q&&q(e,N,R),e==="focusout"&&R&&N.type==="number"&&R.memoizedProps.value!=null&&vu(N,"number",N.value)}switch(q=R?Ta(R):window,e){case"focusin":(Gd(q)||q.contentEditable==="true")&&(Ss=q,Lu=R,Da=null);break;case"focusout":Da=Lu=Ss=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,Wd(x,a,O);break;case"selectionchange":if(o0)break;case"keydown":case"keyup":Wd(x,a,O)}var J;if(Iu)e:{switch(e){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else Es?Hd(e,a)&&(ae="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ae="onCompositionStart");ae&&(Ud&&a.locale!=="ko"&&(Es||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&Es&&(J=Id()):(Fn=O,Au="value"in Fn?Fn.value:Fn.textContent,Es=!0)),q=Jr(R,ae),0<q.length&&(ae=new xd(ae,e,null,a,O),x.push({event:ae,listeners:q}),J?ae.data=J:(J=Bd(a),J!==null&&(ae.data=J)))),(J=JS?$S(e,a):e0(e,a))&&(ae=Jr(R,"onBeforeInput"),0<ae.length&&(q=new xd("onBeforeInput","beforeinput",null,a,O),x.push({event:q,listeners:ae}),q.data=J)),P0(x,e,R,a,O)}Cg(x,n)})}function nl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Jr(e,n){for(var a=n+"Capture",r=[];e!==null;){var u=e,c=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||c===null||(u=Ca(e,a),u!=null&&r.unshift(nl(e,u,c)),u=Ca(e,n),u!=null&&r.push(nl(e,u,c))),e.tag===3)return r;e=e.return}return[]}function X0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ag(e,n,a,r,u){for(var c=n._reactName,d=[];a!==null&&a!==r;){var _=a,v=_.alternate,R=_.stateNode;if(_=_.tag,v!==null&&v===r)break;_!==5&&_!==26&&_!==27||R===null||(v=R,u?(R=Ca(a,c),R!=null&&d.unshift(nl(a,R,v))):u||(R=Ca(a,c),R!=null&&d.push(nl(a,R,v)))),a=a.return}d.length!==0&&e.push({event:n,listeners:d})}var Z0=/\r\n?/g,W0=/\u0000|\uFFFD/g;function Rg(e){return(typeof e=="string"?e:""+e).replace(Z0,`
`).replace(W0,"")}function Ng(e,n){return n=Rg(n),Rg(e)===n}function Te(e,n,a,r,u,c){switch(a){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||_s(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&_s(e,""+r);break;case"className":nr(e,"class",r);break;case"tabIndex":nr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(e,a,r);break;case"style":Nd(e,r,c);break;case"data":if(n!=="object"){nr(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=sr(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(n!=="input"&&Te(e,n,"name",u.name,u,null),Te(e,n,"formEncType",u.formEncType,u,null),Te(e,n,"formMethod",u.formMethod,u,null),Te(e,n,"formTarget",u.formTarget,u,null)):(Te(e,n,"encType",u.encType,u,null),Te(e,n,"method",u.method,u,null),Te(e,n,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=sr(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=pn);break;case"onScroll":r!=null&&ne("scroll",e);break;case"onScrollEnd":r!=null&&ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=sr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":ne("beforetoggle",e),ne("toggle",e),tr(e,"popover",r);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tr(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=AS.get(a)||a,tr(e,a,r))}}function rf(e,n,a,r,u,c){switch(a){case"style":Nd(e,r,c);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof r=="string"?_s(e,r):(typeof r=="number"||typeof r=="bigint")&&_s(e,""+r);break;case"onScroll":r!=null&&ne("scroll",e);break;case"onScrollEnd":r!=null&&ne("scrollend",e);break;case"onClick":r!=null&&(e.onclick=pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),n=a.slice(2,u?a.length-7:void 0),c=e[mt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(n,c,u),typeof r=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,r,u);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):tr(e,a,r)}}}function st(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",e),ne("load",e);var r=!1,u=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];if(d!=null)switch(c){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Te(e,n,c,d,a,null)}}u&&Te(e,n,"srcSet",a.srcSet,a,null),r&&Te(e,n,"src",a.src,a,null);return;case"input":ne("invalid",e);var _=c=d=u=null,v=null,R=null;for(r in a)if(a.hasOwnProperty(r)){var O=a[r];if(O!=null)switch(r){case"name":u=O;break;case"type":d=O;break;case"checked":v=O;break;case"defaultChecked":R=O;break;case"value":c=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,n));break;default:Te(e,n,r,O,a,null)}}Cd(e,c,_,v,R,d,u,!1);return;case"select":ne("invalid",e),r=d=c=null;for(u in a)if(a.hasOwnProperty(u)&&(_=a[u],_!=null))switch(u){case"value":c=_;break;case"defaultValue":d=_;break;case"multiple":r=_;default:Te(e,n,u,_,a,null)}n=c,a=d,e.multiple=!!r,n!=null?gs(e,!!r,n,!1):a!=null&&gs(e,!!r,a,!0);return;case"textarea":ne("invalid",e),c=u=r=null;for(d in a)if(a.hasOwnProperty(d)&&(_=a[d],_!=null))switch(d){case"value":r=_;break;case"defaultValue":u=_;break;case"children":c=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:Te(e,n,d,_,a,null)}Ad(e,r,u,c);return;case"option":for(v in a)a.hasOwnProperty(v)&&(r=a[v],r!=null)&&(v==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":Te(e,n,v,r,a,null));return;case"dialog":ne("beforetoggle",e),ne("toggle",e),ne("cancel",e),ne("close",e);break;case"iframe":case"object":ne("load",e);break;case"video":case"audio":for(r=0;r<tl.length;r++)ne(tl[r],e);break;case"image":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"embed":case"source":case"link":ne("error",e),ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(r=a[R],r!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Te(e,n,R,r,a,null)}return;default:if(Eu(n)){for(O in a)a.hasOwnProperty(O)&&(r=a[O],r!==void 0&&rf(e,n,O,r,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(r=a[_],r!=null&&Te(e,n,_,r,a,null))}function J0(e,n,a,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,c=null,d=null,_=null,v=null,R=null,O=null;for(w in a){var x=a[w];if(a.hasOwnProperty(w)&&x!=null)switch(w){case"checked":break;case"value":break;case"defaultValue":v=x;default:r.hasOwnProperty(w)||Te(e,n,w,null,r,x)}}for(var N in r){var w=r[N];if(x=a[N],r.hasOwnProperty(N)&&(w!=null||x!=null))switch(N){case"type":c=w;break;case"name":u=w;break;case"checked":R=w;break;case"defaultChecked":O=w;break;case"value":d=w;break;case"defaultValue":_=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(l(137,n));break;default:w!==x&&Te(e,n,N,w,r,x)}}yu(e,d,_,v,R,O,c,u);return;case"select":w=d=_=N=null;for(c in a)if(v=a[c],a.hasOwnProperty(c)&&v!=null)switch(c){case"value":break;case"multiple":w=v;default:r.hasOwnProperty(c)||Te(e,n,c,null,r,v)}for(u in r)if(c=r[u],v=a[u],r.hasOwnProperty(u)&&(c!=null||v!=null))switch(u){case"value":N=c;break;case"defaultValue":_=c;break;case"multiple":d=c;default:c!==v&&Te(e,n,u,c,r,v)}n=_,a=d,r=w,N!=null?gs(e,!!a,N,!1):!!r!=!!a&&(n!=null?gs(e,!!a,n,!0):gs(e,!!a,a?[]:"",!1));return;case"textarea":w=N=null;for(_ in a)if(u=a[_],a.hasOwnProperty(_)&&u!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Te(e,n,_,null,r,u)}for(d in r)if(u=r[d],c=a[d],r.hasOwnProperty(d)&&(u!=null||c!=null))switch(d){case"value":N=u;break;case"defaultValue":w=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==c&&Te(e,n,d,u,r,c)}bd(e,N,w);return;case"option":for(var B in a)N=a[B],a.hasOwnProperty(B)&&N!=null&&!r.hasOwnProperty(B)&&(B==="selected"?e.selected=!1:Te(e,n,B,null,r,N));for(v in r)N=r[v],w=a[v],r.hasOwnProperty(v)&&N!==w&&(N!=null||w!=null)&&(v==="selected"?e.selected=N&&typeof N!="function"&&typeof N!="symbol":Te(e,n,v,N,r,w));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Y in a)N=a[Y],a.hasOwnProperty(Y)&&N!=null&&!r.hasOwnProperty(Y)&&Te(e,n,Y,null,r,N);for(R in r)if(N=r[R],w=a[R],r.hasOwnProperty(R)&&N!==w&&(N!=null||w!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(137,n));break;default:Te(e,n,R,N,r,w)}return;default:if(Eu(n)){for(var Ce in a)N=a[Ce],a.hasOwnProperty(Ce)&&N!==void 0&&!r.hasOwnProperty(Ce)&&rf(e,n,Ce,void 0,r,N);for(O in r)N=r[O],w=a[O],!r.hasOwnProperty(O)||N===w||N===void 0&&w===void 0||rf(e,n,O,N,r,w);return}}for(var b in a)N=a[b],a.hasOwnProperty(b)&&N!=null&&!r.hasOwnProperty(b)&&Te(e,n,b,null,r,N);for(x in r)N=r[x],w=a[x],!r.hasOwnProperty(x)||N===w||N==null&&w==null||Te(e,n,x,N,r,w)}function wg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var u=a[r],c=u.transferSize,d=u.initiatorType,_=u.duration;if(c&&_&&wg(d)){for(d=0,_=u.responseEnd,r+=1;r<a.length;r++){var v=a[r],R=v.startTime;if(R>_)break;var O=v.transferSize,x=v.initiatorType;O&&wg(x)&&(v=v.responseEnd,d+=O*(v<_?1:(_-R)/(v-R)))}if(--r,n+=8*(c+d)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var of=null,uf=null;function $r(e){return e.nodeType===9?e:e.ownerDocument}function Og(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ig(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function cf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ff=null;function eT(){var e=window.event;return e&&e.type==="popstate"?e===ff?!1:(ff=e,!0):(ff=null,!1)}var Dg=typeof setTimeout=="function"?setTimeout:void 0,tT=typeof clearTimeout=="function"?clearTimeout:void 0,Mg=typeof Promise=="function"?Promise:void 0,nT=typeof queueMicrotask=="function"?queueMicrotask:typeof Mg<"u"?function(e){return Mg.resolve(null).then(e).catch(iT)}:Dg;function iT(e){setTimeout(function(){throw e})}function ui(e){return e==="head"}function xg(e,n){var a=n,r=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(u),Qs(n);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")il(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,il(a);for(var c=a.firstChild;c;){var d=c.nextSibling,_=c.nodeName;c[Sa]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=d}}else a==="body"&&il(e.ownerDocument.body);a=u}while(a);Qs(n)}function Lg(e,n){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function hf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hf(a),gu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function sT(e,n,a,r){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Sa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var c=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function aT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vt(e.nextSibling),e===null))return null;return e}function Ug(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vt(e.nextSibling),e===null))return null;return e}function df(e){return e.data==="$?"||e.data==="$~"}function mf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function lT(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var r=function(){n(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Vt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var pf=null;function kg(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Vt(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function zg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function Hg(e,n,a){switch(n=$r(a),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);gu(e)}var Yt=new Map,Bg=new Set;function eo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Dn=z.d;z.d={f:rT,r:oT,D:uT,C:cT,L:fT,m:hT,X:mT,S:dT,M:pT};function rT(){var e=Dn.f(),n=Pr();return e||n}function oT(e){var n=ds(e);n!==null&&n.tag===5&&n.type==="form"?np(n):Dn.r(e)}var Ps=typeof document>"u"?null:document;function Gg(e,n,a){var r=Ps;if(r&&typeof n=="string"&&n){var u=kt(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Bg.has(u)||(Bg.add(u),e={rel:e,crossOrigin:a,href:n},r.querySelector(u)===null&&(n=r.createElement("link"),st(n,"link",e),Xe(n),r.head.appendChild(n)))}}function uT(e){Dn.D(e),Gg("dns-prefetch",e,null)}function cT(e,n){Dn.C(e,n),Gg("preconnect",e,n)}function fT(e,n,a){Dn.L(e,n,a);var r=Ps;if(r&&e&&n){var u='link[rel="preload"][as="'+kt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+kt(a.imageSizes)+'"]')):u+='[href="'+kt(e)+'"]';var c=u;switch(n){case"style":c=Fs(e);break;case"script":c=Ks(e)}Yt.has(c)||(e=y({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Yt.set(c,e),r.querySelector(u)!==null||n==="style"&&r.querySelector(sl(c))||n==="script"&&r.querySelector(al(c))||(n=r.createElement("link"),st(n,"link",e),Xe(n),r.head.appendChild(n)))}}function hT(e,n){Dn.m(e,n);var a=Ps;if(a&&e){var r=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+kt(r)+'"][href="'+kt(e)+'"]',c=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Ks(e)}if(!Yt.has(c)&&(e=y({rel:"modulepreload",href:e},n),Yt.set(c,e),a.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(al(c)))return}r=a.createElement("link"),st(r,"link",e),Xe(r),a.head.appendChild(r)}}}function dT(e,n,a){Dn.S(e,n,a);var r=Ps;if(r&&e){var u=ms(r).hoistableStyles,c=Fs(e);n=n||"default";var d=u.get(c);if(!d){var _={loading:0,preload:null};if(d=r.querySelector(sl(c)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Yt.get(c))&&gf(e,a);var v=d=r.createElement("link");Xe(v),st(v,"link",e),v._p=new Promise(function(R,O){v.onload=R,v.onerror=O}),v.addEventListener("load",function(){_.loading|=1}),v.addEventListener("error",function(){_.loading|=2}),_.loading|=4,to(d,n,r)}d={type:"stylesheet",instance:d,count:1,state:_},u.set(c,d)}}}function mT(e,n){Dn.X(e,n);var a=Ps;if(a&&e){var r=ms(a).hoistableScripts,u=Ks(e),c=r.get(u);c||(c=a.querySelector(al(u)),c||(e=y({src:e,async:!0},n),(n=Yt.get(u))&&_f(e,n),c=a.createElement("script"),Xe(c),st(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(u,c))}}function pT(e,n){Dn.M(e,n);var a=Ps;if(a&&e){var r=ms(a).hoistableScripts,u=Ks(e),c=r.get(u);c||(c=a.querySelector(al(u)),c||(e=y({src:e,async:!0,type:"module"},n),(n=Yt.get(u))&&_f(e,n),c=a.createElement("script"),Xe(c),st(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(u,c))}}function qg(e,n,a,r){var u=(u=ee.current)?eo(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Fs(a.href),a=ms(u).hoistableStyles,r=a.get(n),r||(r={type:"style",instance:null,count:0,state:null},a.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fs(a.href);var c=ms(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(sl(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Yt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yt.set(e,a),c||gT(u,e,a,d.state))),n&&r===null)throw Error(l(528,""));return d}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ks(a),a=ms(u).hoistableScripts,r=a.get(n),r||(r={type:"script",instance:null,count:0,state:null},a.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Fs(e){return'href="'+kt(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function jg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function gT(e,n,a,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),st(n,"link",a),Xe(n),e.head.appendChild(n))}function Ks(e){return'[src="'+kt(e)+'"]'}function al(e){return"script[async]"+e}function Vg(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+kt(a.href)+'"]');if(r)return n.instance=r,Xe(r),r;var u=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Xe(r),st(r,"style",u),to(r,a.precedence,e),n.instance=r;case"stylesheet":u=Fs(a.href);var c=e.querySelector(sl(u));if(c)return n.state.loading|=4,n.instance=c,Xe(c),c;r=jg(a),(u=Yt.get(u))&&gf(r,u),c=(e.ownerDocument||e).createElement("link"),Xe(c);var d=c;return d._p=new Promise(function(_,v){d.onload=_,d.onerror=v}),st(c,"link",r),n.state.loading|=4,to(c,a.precedence,e),n.instance=c;case"script":return c=Ks(a.src),(u=e.querySelector(al(c)))?(n.instance=u,Xe(u),u):(r=a,(u=Yt.get(c))&&(r=y({},a),_f(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),Xe(u),st(u,"link",r),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,to(r,a.precedence,e));return n.instance}function to(e,n,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,c=u,d=0;d<r.length;d++){var _=r[d];if(_.dataset.precedence===n)c=_;else if(c!==u)break}c?c.parentNode.insertBefore(e,c.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function gf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _f(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var no=null;function Yg(e,n,a){if(no===null){var r=new Map,u=no=new Map;u.set(a,r)}else u=no,r=u.get(a),r||(r=new Map,u.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var c=a[u];if(!(c[Sa]||c[et]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(n)||"";d=e+d;var _=r.get(d);_?_.push(c):r.set(d,[c])}}return r}function Pg(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function _T(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Fg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function yT(e,n,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=Fs(r.href),c=n.querySelector(sl(u));if(c){n=c._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=io.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=c,Xe(c);return}c=n.ownerDocument||n,r=jg(r),(u=Yt.get(u))&&gf(r,u),c=c.createElement("link"),Xe(c);var d=c;d._p=new Promise(function(_,v){d.onload=_,d.onerror=v}),st(c,"link",r),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=io.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var yf=0;function vT(e,n){return e.stylesheets&&e.count===0&&ao(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&ao(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+n);0<e.imgBytes&&yf===0&&(yf=62500*$0());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ao(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>yf?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(u)}}:null}function io(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ao(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var so=null;function ao(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,so=new Map,n.forEach(ET,e),so=null,io.call(e))}function ET(e,n){if(!(n.state.loading&4)){var a=so.get(e);if(a)var r=a.get(null);else{a=new Map,so.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<u.length;c++){var d=u[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(a.set(d.dataset.precedence,d),r=d)}r&&a.set(null,r)}u=n.instance,d=u.getAttribute("data-precedence"),c=a.get(d)||r,c===r&&a.set(null,u),a.set(d,u),this.count++,r=io.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),c?c.parentNode.insertBefore(u,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var ll={$$typeof:we,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function ST(e,n,a,r,u,c,d,_,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hu(0),this.hiddenUpdates=hu(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Kg(e,n,a,r,u,c,d,_,v,R,O,x){return e=new ST(e,n,a,d,v,R,O,x,_),n=1,c===!0&&(n|=24),c=wt(3,null,null,n),e.current=c,c.stateNode=e,n=Zu(),n.refCount++,e.pooledCache=n,n.refCount++,c.memoizedState={element:r,isDehydrated:a,cache:n},ec(c),e}function Qg(e){return e?(e=bs,e):bs}function Xg(e,n,a,r,u,c){u=Qg(u),r.context===null?r.context=u:r.pendingContext=u,r=Jn(n),r.payload={element:a},c=c===void 0?null:c,c!==null&&(r.callback=c),a=$n(e,r,n),a!==null&&(Et(a,e,n),Ha(a,e,n))}function Zg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function vf(e,n){Zg(e,n),(e=e.alternate)&&Zg(e,n)}function Wg(e){if(e.tag===13||e.tag===31){var n=zi(e,67108864);n!==null&&Et(n,e,67108864),vf(e,67108864)}}function Jg(e){if(e.tag===13||e.tag===31){var n=xt();n=du(n);var a=zi(e,n);a!==null&&Et(a,e,n),vf(e,n)}}var lo=!0;function TT(e,n,a,r){var u=I.T;I.T=null;var c=z.p;try{z.p=2,Ef(e,n,a,r)}finally{z.p=c,I.T=u}}function CT(e,n,a,r){var u=I.T;I.T=null;var c=z.p;try{z.p=8,Ef(e,n,a,r)}finally{z.p=c,I.T=u}}function Ef(e,n,a,r){if(lo){var u=Sf(r);if(u===null)lf(e,n,r,ro,a),e_(e,r);else if(AT(u,e,n,a,r))r.stopPropagation();else if(e_(e,r),n&4&&-1<bT.indexOf(e)){for(;u!==null;){var c=ds(u);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=Mi(c.pendingLanes);if(d!==0){var _=c;for(_.pendingLanes|=2,_.entangledLanes|=2;d;){var v=1<<31-Rt(d);_.entanglements[1]|=v,d&=~v}on(c),(pe&6)===0&&(Vr=bt()+500,el(0))}}break;case 31:case 13:_=zi(c,2),_!==null&&Et(_,c,2),Pr(),vf(c,2)}if(c=Sf(r),c===null&&lf(e,n,r,ro,a),c===u)break;u=c}u!==null&&r.stopPropagation()}else lf(e,n,r,null,a)}}function Sf(e){return e=Tu(e),Tf(e)}var ro=null;function Tf(e){if(ro=null,e=hs(e),e!==null){var n=f(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===31){if(e=m(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ro=e,null}function $g(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uS()){case rd:return 2;case od:return 8;case Zl:case cS:return 32;case ud:return 268435456;default:return 32}default:return 32}}var Cf=!1,ci=null,fi=null,hi=null,rl=new Map,ol=new Map,di=[],bT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e_(e,n){switch(e){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(n.pointerId)}}function ul(e,n,a,r,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:n,domEventName:a,eventSystemFlags:r,nativeEvent:c,targetContainers:[u]},n!==null&&(n=ds(n),n!==null&&Wg(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function AT(e,n,a,r,u){switch(n){case"focusin":return ci=ul(ci,e,n,a,r,u),!0;case"dragenter":return fi=ul(fi,e,n,a,r,u),!0;case"mouseover":return hi=ul(hi,e,n,a,r,u),!0;case"pointerover":var c=u.pointerId;return rl.set(c,ul(rl.get(c)||null,e,n,a,r,u)),!0;case"gotpointercapture":return c=u.pointerId,ol.set(c,ul(ol.get(c)||null,e,n,a,r,u)),!0}return!1}function t_(e){var n=hs(e.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,pd(e.priority,function(){Jg(a)});return}}else if(n===31){if(n=m(a),n!==null){e.blockedOn=n,pd(e.priority,function(){Jg(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Sf(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);Su=r,a.target.dispatchEvent(r),Su=null}else return n=ds(a),n!==null&&Wg(n),e.blockedOn=a,!1;n.shift()}return!0}function n_(e,n,a){oo(e)&&a.delete(n)}function RT(){Cf=!1,ci!==null&&oo(ci)&&(ci=null),fi!==null&&oo(fi)&&(fi=null),hi!==null&&oo(hi)&&(hi=null),rl.forEach(n_),ol.forEach(n_)}function uo(e,n){e.blockedOn===n&&(e.blockedOn=null,Cf||(Cf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,RT)))}var co=null;function i_(e){co!==e&&(co=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){co===e&&(co=null);for(var n=0;n<e.length;n+=3){var a=e[n],r=e[n+1],u=e[n+2];if(typeof r!="function"){if(Tf(r||a)===null)continue;break}var c=ds(a);c!==null&&(e.splice(n,3),n-=3,Ec(c,{pending:!0,data:u,method:a.method,action:r},r,u))}}))}function Qs(e){function n(v){return uo(v,e)}ci!==null&&uo(ci,e),fi!==null&&uo(fi,e),hi!==null&&uo(hi,e),rl.forEach(n),ol.forEach(n);for(var a=0;a<di.length;a++){var r=di[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<di.length&&(a=di[0],a.blockedOn===null);)t_(a),a.blockedOn===null&&di.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var u=a[r],c=a[r+1],d=u[mt]||null;if(typeof c=="function")d||i_(a);else if(d){var _=null;if(c&&c.hasAttribute("formAction")){if(u=c,d=c[mt]||null)_=d.formAction;else if(Tf(u)!==null)continue}else _=d.action;typeof _=="function"?a[r+1]=_:(a.splice(r,3),r-=3),i_(a)}}}function s_(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(d){return u=d})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function bf(e){this._internalRoot=e}fo.prototype.render=bf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var a=n.current,r=xt();Xg(a,r,e,n,null,null)},fo.prototype.unmount=bf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Xg(e.current,2,null,e,null,null),Pr(),n[fs]=null}};function fo(e){this._internalRoot=e}fo.prototype.unstable_scheduleHydration=function(e){if(e){var n=md();e={blockedOn:null,target:e,priority:n};for(var a=0;a<di.length&&n!==0&&n<di[a].priority;a++);di.splice(a,0,e),a===0&&t_(e)}};var a_=t.version;if(a_!=="19.2.4")throw Error(l(527,a_,"19.2.4"));z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var NT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ho.isDisabled&&ho.supportsFiber)try{ya=ho.inject(NT),At=ho}catch{}}return fl.createRoot=function(e,n){if(!o(e))throw Error(l(299));var a=!1,r="",u=hp,c=dp,d=mp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(c=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Kg(e,1,!1,null,null,a,r,null,u,c,d,s_),e[fs]=n.current,af(e),new bf(n)},fl.hydrateRoot=function(e,n,a){if(!o(e))throw Error(l(299));var r=!1,u="",c=hp,d=dp,_=mp,v=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.formState!==void 0&&(v=a.formState)),n=Kg(e,1,!0,n,a??null,r,u,v,c,d,_,s_),n.context=Qg(null),a=n.current,r=xt(),r=du(r),u=Jn(r),u.callback=null,$n(a,u,r),a=r,n.current.lanes=a,Ea(n,a),on(n),e[fs]=n.current,af(e),new fo(n)},fl.version="19.2.4",fl}var p_;function zT(){if(p_)return Nf.exports;p_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Nf.exports=kT(),Nf.exports}var HT=zT();const BT=()=>{};var g_={};const Yy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const k=function(s,t){if(!s)throw ua(t)},ua=function(s){return new Error("Firebase Database ("+Yy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};const Py=function(s){const t=[];let i=0;for(let l=0;l<s.length;l++){let o=s.charCodeAt(l);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&l+1<s.length&&(s.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++l)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},GT=function(s){const t=[];let i=0,l=0;for(;i<s.length;){const o=s[i++];if(o<128)t[l++]=String.fromCharCode(o);else if(o>191&&o<224){const f=s[i++];t[l++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=s[i++],h=s[i++],m=s[i++],g=((o&7)<<18|(f&63)<<12|(h&63)<<6|m&63)-65536;t[l++]=String.fromCharCode(55296+(g>>10)),t[l++]=String.fromCharCode(56320+(g&1023))}else{const f=s[i++],h=s[i++];t[l++]=String.fromCharCode((o&15)<<12|(f&63)<<6|h&63)}}return t.join("")},hh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<s.length;o+=3){const f=s[o],h=o+1<s.length,m=h?s[o+1]:0,g=o+2<s.length,p=g?s[o+2]:0,S=f>>2,y=(f&3)<<4|m>>4;let E=(m&15)<<2|p>>6,M=p&63;g||(M=64,h||(E=64)),l.push(i[S],i[y],i[E],i[M])}return l.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Py(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):GT(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<s.length;){const f=i[s.charAt(o++)],m=o<s.length?i[s.charAt(o)]:0;++o;const p=o<s.length?i[s.charAt(o)]:64;++o;const y=o<s.length?i[s.charAt(o)]:64;if(++o,f==null||m==null||p==null||y==null)throw new qT;const E=f<<2|m>>4;if(l.push(E),p!==64){const M=m<<4&240|p>>2;if(l.push(M),y!==64){const U=p<<6&192|y;l.push(U)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class qT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fy=function(s){const t=Py(s);return hh.encodeByteArray(t,!0)},bo=function(s){return Fy(s).replace(/\./g,"")},Ao=function(s){try{return hh.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jT(s){return Ky(void 0,s)}function Ky(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!VT(i)||(s[i]=Ky(s[i],t[i]));return s}function VT(s){return s!=="__proto__"}function YT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PT=()=>YT().__FIREBASE_DEFAULTS__,FT=()=>{if(typeof process>"u"||typeof g_>"u")return;const s=g_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},KT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Ao(s[1]);return t&&JSON.parse(t)},dh=()=>{try{return BT()||PT()||FT()||KT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Qy=s=>dh()?.emulatorHosts?.[s],QT=s=>{const t=Qy(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),l]:[t.substring(0,i),l]},Xy=()=>dh()?.config,Zy=s=>dh()?.[`_${s}`];class Fo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,l))}}}function ca(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wy(s){return(await fetch(s,{credentials:"include"})).ok}function XT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},l=t||"demo-project",o=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...s};return[bo(JSON.stringify(i)),bo(JSON.stringify(h)),""].join(".")}const _l={};function ZT(){const s={prod:[],emulator:[]};for(const t of Object.keys(_l))_l[t]?s.emulator.push(t):s.prod.push(t);return s}function WT(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let __=!1;function Jy(s,t){if(typeof window>"u"||typeof document>"u"||!ca(window.location.host)||_l[s]===t||_l[s]||__)return;_l[s]=t;function i(E){return`__firebase__banner__${E}`}const l="__firebase__banner",f=ZT().prod.length>0;function h(){const E=document.getElementById(l);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function g(E,M){E.setAttribute("width","24"),E.setAttribute("id",M),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{__=!0,h()},E}function S(E,M){E.setAttribute("id",M),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function y(){const E=WT(l),M=i("text"),U=document.getElementById(M)||document.createElement("span"),j=i("learnmore"),ue=document.getElementById(j)||document.createElement("a"),me=i("preprendIcon"),Le=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const we=E.element;m(we),S(ue,j);const ge=p();g(Le,me),we.append(Le,U,ue,ge),document.body.appendChild(we)}f?(U.innerText="Preview backend disconnected.",Le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function JT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $T(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function $y(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eC(){const s=ft();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function tC(){return Yy.NODE_ADMIN===!0}function nC(){try{return typeof indexedDB=="object"}catch{return!1}}function iC(){return new Promise((s,t)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(l),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const sC="FirebaseError";class Oi extends Error{constructor(t,i,l){super(i),this.code=t,this.customData=l,this.name=sC,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,i,l){this.service=t,this.serviceName=i,this.errors=l}create(t,...i){const l=i[0]||{},o=`${this.service}/${t}`,f=this.errors[t],h=f?aC(f,l):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Oi(o,m,l)}}function aC(s,t){return s.replace(lC,(i,l)=>{const o=t[l];return o!=null?String(o):`<${l}?>`})}const lC=/\{\$([^}]+)}/g;function Al(s){return JSON.parse(s)}function Ke(s){return JSON.stringify(s)}const ev=function(s){let t={},i={},l={},o="";try{const f=s.split(".");t=Al(Ao(f[0])||""),i=Al(Ao(f[1])||""),o=f[2],l=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:l,signature:o}},rC=function(s){const t=ev(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},oC=function(s){const t=ev(s).claims;return typeof t=="object"&&t.admin===!0};function jn(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function ia(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function Pf(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ro(s,t,i){const l={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(l[o]=t.call(i,s[o],o,s));return l}function ns(s,t){if(s===t)return!0;const i=Object.keys(s),l=Object.keys(t);for(const o of i){if(!l.includes(o))return!1;const f=s[o],h=t[o];if(y_(f)&&y_(h)){if(!ns(f,h))return!1}else if(f!==h)return!1}for(const o of l)if(!i.includes(o))return!1;return!0}function y_(s){return s!==null&&typeof s=="object"}function fa(s){const t=[];for(const[i,l]of Object.entries(s))Array.isArray(l)?l.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}class uC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const l=this.W_;if(typeof t=="string")for(let y=0;y<16;y++)l[y]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)l[y]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let y=16;y<80;y++){const E=l[y-3]^l[y-8]^l[y-14]^l[y-16];l[y]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],h=this.chain_[2],m=this.chain_[3],g=this.chain_[4],p,S;for(let y=0;y<80;y++){y<40?y<20?(p=m^f&(h^m),S=1518500249):(p=f^h^m,S=1859775393):y<60?(p=f&h|m&(f|h),S=2400959708):(p=f^h^m,S=3395469782);const E=(o<<5|o>>>27)+p+g+S+l[y]&4294967295;g=m,m=h,h=(f<<30|f>>>2)&4294967295,f=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const l=i-this.blockSize;let o=0;const f=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=l;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(f[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}else for(;o<i;)if(f[h]=t[o],++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)t[l]=this.chain_[o]>>f&255,++l;return t}}function cC(s,t){const i=new fC(s,t);return i.subscribe.bind(i)}class fC{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(l=>{this.error(l)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,l){let o;if(t===void 0&&i===void 0&&l===void 0)throw new Error("Missing Observer.");hC(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:l},o.next===void 0&&(o.next=Df),o.error===void 0&&(o.error=Df),o.complete===void 0&&(o.complete=Df);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),f}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hC(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Df(){}function ph(s,t){return`${s} failed: ${t} argument `}const dC=function(s){const t=[];let i=0;for(let l=0;l<s.length;l++){let o=s.charCodeAt(l);if(o>=55296&&o<=56319){const f=o-55296;l++,k(l<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(l)-56320;o=65536+(f<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Ko=function(s){let t=0;for(let i=0;i<s.length;i++){const l=s.charCodeAt(i);l<128?t++:l<2048?t+=2:l>=55296&&l<=56319?(t+=4,i++):t+=3}return t};function Lt(s){return s&&s._delegate?s._delegate:s}class is{constructor(t,i,l){this.name=t,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Zi="[DEFAULT]";class mC{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const l=new Fo;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),l=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gC(t))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});l.resolve(f)}catch{}}}}clearInstance(t=Zi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zi){return this.instances.has(t)}getOptions(t=Zi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,l=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[f,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);l===m&&h.resolve(o)}return o}onInit(t,i){const l=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(l)??new Set;o.add(t),this.onInitCallbacks.set(l,o);const f=this.instances.get(l);return f&&t(f,l),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const l=this.onInitCallbacks.get(i);if(l)for(const o of l)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let l=this.instances.get(t);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:pC(t),options:i}),this.instances.set(t,l),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(l,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,l)}catch{}return l||null}normalizeInstanceIdentifier(t=Zi){return this.component?this.component.multipleInstances?t:Zi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pC(s){return s===Zi?void 0:s}function gC(s){return s.instantiationMode==="EAGER"}class _C{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new mC(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(be||(be={}));const yC={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},vC=be.INFO,EC={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},SC=(s,t,...i)=>{if(t<s.logLevel)return;const l=new Date().toISOString(),o=EC[t];if(o)console[o](`[${l}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gh{constructor(t){this.name=t,this._logLevel=vC,this._logHandler=SC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in be))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...t),this._logHandler(this,be.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...t),this._logHandler(this,be.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,be.INFO,...t),this._logHandler(this,be.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,be.WARN,...t),this._logHandler(this,be.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...t),this._logHandler(this,be.ERROR,...t)}}const TC=(s,t)=>t.some(i=>s instanceof i);let v_,E_;function CC(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bC(){return E_||(E_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tv=new WeakMap,Ff=new WeakMap,nv=new WeakMap,Mf=new WeakMap,_h=new WeakMap;function AC(s){const t=new Promise((i,l)=>{const o=()=>{s.removeEventListener("success",f),s.removeEventListener("error",h)},f=()=>{i(Ei(s.result)),o()},h=()=>{l(s.error),o()};s.addEventListener("success",f),s.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&tv.set(i,s)}).catch(()=>{}),_h.set(t,s),t}function RC(s){if(Ff.has(s))return;const t=new Promise((i,l)=>{const o=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",h),s.removeEventListener("abort",h)},f=()=>{i(),o()},h=()=>{l(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",f),s.addEventListener("error",h),s.addEventListener("abort",h)});Ff.set(s,t)}let Kf={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Ff.get(s);if(t==="objectStoreNames")return s.objectStoreNames||nv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ei(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function NC(s){Kf=s(Kf)}function wC(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const l=s.call(xf(this),t,...i);return nv.set(l,t.sort?t.sort():[t]),Ei(l)}:bC().includes(s)?function(...t){return s.apply(xf(this),t),Ei(tv.get(this))}:function(...t){return Ei(s.apply(xf(this),t))}}function OC(s){return typeof s=="function"?wC(s):(s instanceof IDBTransaction&&RC(s),TC(s,CC())?new Proxy(s,Kf):s)}function Ei(s){if(s instanceof IDBRequest)return AC(s);if(Mf.has(s))return Mf.get(s);const t=OC(s);return t!==s&&(Mf.set(s,t),_h.set(t,s)),t}const xf=s=>_h.get(s);function IC(s,t,{blocked:i,upgrade:l,blocking:o,terminated:f}={}){const h=indexedDB.open(s,t),m=Ei(h);return l&&h.addEventListener("upgradeneeded",g=>{l(Ei(h.result),g.oldVersion,g.newVersion,Ei(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{f&&g.addEventListener("close",()=>f()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const DC=["get","getKey","getAll","getAllKeys","count"],MC=["put","add","delete","clear"],Lf=new Map;function S_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Lf.get(t))return Lf.get(t);const i=t.replace(/FromIndex$/,""),l=t!==i,o=MC.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(o||DC.includes(i)))return;const f=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return l&&(p=p.index(m.shift())),(await Promise.all([p[i](...m),o&&g.done]))[0]};return Lf.set(t,f),f}NC(s=>({...s,get:(t,i,l)=>S_(t,i)||s.get(t,i,l),has:(t,i)=>!!S_(t,i)||s.has(t,i)}));class xC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(LC(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function LC(s){return s.getComponent()?.type==="VERSION"}const Qf="@firebase/app",T_="0.14.9";const Bn=new gh("@firebase/app"),UC="@firebase/app-compat",kC="@firebase/analytics-compat",zC="@firebase/analytics",HC="@firebase/app-check-compat",BC="@firebase/app-check",GC="@firebase/auth",qC="@firebase/auth-compat",jC="@firebase/database",VC="@firebase/data-connect",YC="@firebase/database-compat",PC="@firebase/functions",FC="@firebase/functions-compat",KC="@firebase/installations",QC="@firebase/installations-compat",XC="@firebase/messaging",ZC="@firebase/messaging-compat",WC="@firebase/performance",JC="@firebase/performance-compat",$C="@firebase/remote-config",eb="@firebase/remote-config-compat",tb="@firebase/storage",nb="@firebase/storage-compat",ib="@firebase/firestore",sb="@firebase/ai",ab="@firebase/firestore-compat",lb="firebase",rb="12.10.0";const Xf="[DEFAULT]",ob={[Qf]:"fire-core",[UC]:"fire-core-compat",[zC]:"fire-analytics",[kC]:"fire-analytics-compat",[BC]:"fire-app-check",[HC]:"fire-app-check-compat",[GC]:"fire-auth",[qC]:"fire-auth-compat",[jC]:"fire-rtdb",[VC]:"fire-data-connect",[YC]:"fire-rtdb-compat",[PC]:"fire-fn",[FC]:"fire-fn-compat",[KC]:"fire-iid",[QC]:"fire-iid-compat",[XC]:"fire-fcm",[ZC]:"fire-fcm-compat",[WC]:"fire-perf",[JC]:"fire-perf-compat",[$C]:"fire-rc",[eb]:"fire-rc-compat",[tb]:"fire-gcs",[nb]:"fire-gcs-compat",[ib]:"fire-fst",[ab]:"fire-fst-compat",[sb]:"fire-vertex","fire-js":"fire-js",[lb]:"fire-js-all"};const No=new Map,ub=new Map,Zf=new Map;function C_(s,t){try{s.container.addComponent(t)}catch(i){Bn.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function sa(s){const t=s.name;if(Zf.has(t))return Bn.debug(`There were multiple attempts to register component ${t}.`),!1;Zf.set(t,s);for(const i of No.values())C_(i,s);for(const i of ub.values())C_(i,s);return!0}function yh(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Xt(s){return s==null?!1:s.settings!==void 0}const cb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new Hl("app","Firebase",cb);class fb{constructor(t,i,l){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}const ha=rb;function iv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const l={name:Xf,automaticDataCollectionEnabled:!0,...t},o=l.name;if(typeof o!="string"||!o)throw Si.create("bad-app-name",{appName:String(o)});if(i||(i=Xy()),!i)throw Si.create("no-options");const f=No.get(o);if(f){if(ns(i,f.options)&&ns(l,f.config))return f;throw Si.create("duplicate-app",{appName:o})}const h=new _C(o);for(const g of Zf.values())h.addComponent(g);const m=new fb(i,l,h);return No.set(o,m),m}function sv(s=Xf){const t=No.get(s);if(!t&&s===Xf&&Xy())return iv();if(!t)throw Si.create("no-app",{appName:s});return t}function Ti(s,t,i){let l=ob[s]??s;i&&(l+=`-${i}`);const o=l.match(/\s|\//),f=t.match(/\s|\//);if(o||f){const h=[`Unable to register library "${l}" with version "${t}":`];o&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&f&&h.push("and"),f&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bn.warn(h.join(" "));return}sa(new is(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}const hb="firebase-heartbeat-database",db=1,Rl="firebase-heartbeat-store";let Uf=null;function av(){return Uf||(Uf=IC(hb,db,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Rl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Si.create("idb-open",{originalErrorMessage:s.message})})),Uf}async function mb(s){try{const i=(await av()).transaction(Rl),l=await i.objectStore(Rl).get(lv(s));return await i.done,l}catch(t){if(t instanceof Oi)Bn.warn(t.message);else{const i=Si.create("idb-get",{originalErrorMessage:t?.message});Bn.warn(i.message)}}}async function b_(s,t){try{const l=(await av()).transaction(Rl,"readwrite");await l.objectStore(Rl).put(t,lv(s)),await l.done}catch(i){if(i instanceof Oi)Bn.warn(i.message);else{const l=Si.create("idb-set",{originalErrorMessage:i?.message});Bn.warn(l.message)}}}function lv(s){return`${s.name}!${s.options.appId}`}const pb=1024,gb=30;class _b{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new vb(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=A_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(o=>o.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>gb){const o=Eb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Bn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=A_(),{heartbeatsToSend:i,unsentEntries:l}=yb(this._heartbeatsCache.heartbeats),o=bo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Bn.warn(t),""}}}function A_(){return new Date().toISOString().substring(0,10)}function yb(s,t=pb){const i=[];let l=s.slice();for(const o of s){const f=i.find(h=>h.agent===o.agent);if(f){if(f.dates.push(o.date),R_(i)>t){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),R_(i)>t){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class vb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nC()?iC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await mb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return b_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return b_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function R_(s){return bo(JSON.stringify({version:2,heartbeats:s})).length}function Eb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let l=1;l<s.length;l++)s[l].date<i&&(i=s[l].date,t=l);return t}function Sb(s){sa(new is("platform-logger",t=>new xC(t),"PRIVATE")),sa(new is("heartbeat",t=>new _b(t),"PRIVATE")),Ti(Qf,T_,s),Ti(Qf,T_,"esm2020"),Ti("fire-js","")}Sb("");var Tb="firebase",Cb="12.10.0";Ti(Tb,Cb,"app");function rv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bb=rv,ov=new Hl("auth","Firebase",rv());const wo=new gh("@firebase/auth");function Ab(s,...t){wo.logLevel<=be.WARN&&wo.warn(`Auth (${ha}): ${s}`,...t)}function yo(s,...t){wo.logLevel<=be.ERROR&&wo.error(`Auth (${ha}): ${s}`,...t)}function fn(s,...t){throw Eh(s,...t)}function en(s,...t){return Eh(s,...t)}function vh(s,t,i){const l={...bb(),[t]:i};return new Hl("auth","Firebase",l).create(t,{appName:s.name})}function ts(s){return vh(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rb(s,t,i){const l=i;if(!(t instanceof l))throw l.name!==t.constructor.name&&fn(s,"argument-error"),vh(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Eh(s,...t){if(typeof s!="string"){const i=t[0],l=[...t.slice(1)];return l[0]&&(l[0].appName=s.name),s._errorFactory.create(i,...l)}return ov.create(s,...t)}function K(s,t,...i){if(!s)throw Eh(t,...i)}function Un(s){const t="INTERNAL ASSERTION FAILED: "+s;throw yo(t),new Error(t)}function Gn(s,t){s||Un(t)}function Wf(){return typeof self<"u"&&self.location?.href||""}function Nb(){return N_()==="http:"||N_()==="https:"}function N_(){return typeof self<"u"&&self.location?.protocol||null}function wb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Nb()||$T()||"connection"in navigator)?navigator.onLine:!0}function Ob(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Bl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Gn(i>t,"Short delay should be less than long delay!"),this.isMobile=mh()||$y()}get(){return wb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sh(s,t){Gn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class uv{static initialize(t,i,l){this.fetchImpl=t,i&&(this.headersImpl=i),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ib={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Db=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Mb=new Bl(3e4,6e4);function Th(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function da(s,t,i,l,o={}){return cv(s,o,async()=>{let f={},h={};l&&(t==="GET"?h=l:f={body:JSON.stringify(l)});const m=fa({key:s.config.apiKey,...h}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const p={method:t,headers:g,...f};return JT()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&ca(s.emulatorConfig.host)&&(p.credentials="include"),uv.fetch()(await fv(s,s.config.apiHost,i,m),p)})}async function cv(s,t,i){s._canInitEmulator=!1;const l={...Ib,...t};try{const o=new Lb(s),f=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await f.json();if("needConfirmation"in h)throw mo(s,"account-exists-with-different-credential",h);if(f.ok&&!("errorMessage"in h))return h;{const m=f.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw mo(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw mo(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw mo(s,"user-disabled",h);const S=l[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw vh(s,S,p);fn(s,S)}}catch(o){if(o instanceof Oi)throw o;fn(s,"network-request-failed",{message:String(o)})}}async function xb(s,t,i,l,o={}){const f=await da(s,t,i,l,o);return"mfaPendingCredential"in f&&fn(s,"multi-factor-auth-required",{_serverResponse:f}),f}async function fv(s,t,i,l){const o=`${t}${i}?${l}`,f=s,h=f.config.emulator?Sh(s.config,o):`${s.config.apiScheme}://${o}`;return Db.includes(i)&&(await f._persistenceManagerAvailable,f._getPersistenceType()==="COOKIE")?f._getPersistence()._getFinalTarget(h).toString():h}class Lb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,l)=>{this.timer=setTimeout(()=>l(en(this.auth,"network-request-failed")),Mb.get())})}}function mo(s,t,i){const l={appName:s.name};i.email&&(l.email=i.email),i.phoneNumber&&(l.phoneNumber=i.phoneNumber);const o=en(s,t,l);return o.customData._tokenResponse=i,o}async function Ub(s,t){return da(s,"POST","/v1/accounts:delete",t)}async function Oo(s,t){return da(s,"POST","/v1/accounts:lookup",t)}function yl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function kb(s,t=!1){const i=Lt(s),l=await i.getIdToken(t),o=Ch(l);K(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const f=typeof o.firebase=="object"?o.firebase:void 0,h=f?.sign_in_provider;return{claims:o,token:l,authTime:yl(kf(o.auth_time)),issuedAtTime:yl(kf(o.iat)),expirationTime:yl(kf(o.exp)),signInProvider:h||null,signInSecondFactor:f?.sign_in_second_factor||null}}function kf(s){return Number(s)*1e3}function Ch(s){const[t,i,l]=s.split(".");if(t===void 0||i===void 0||l===void 0)return yo("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ao(i);return o?JSON.parse(o):(yo("Failed to decode base64 JWT payload"),null)}catch(o){return yo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function w_(s){const t=Ch(s);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Nl(s,t,i=!1){if(i)return t;try{return await t}catch(l){throw l instanceof Oi&&zb(l)&&s.auth.currentUser===s&&await s.auth.signOut(),l}}function zb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Hb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jf{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Io(s){const t=s.auth,i=await s.getIdToken(),l=await Nl(s,Oo(t,{idToken:i}));K(l?.users.length,t,"internal-error");const o=l.users[0];s._notifyReloadListener(o);const f=o.providerUserInfo?.length?hv(o.providerUserInfo):[],h=Gb(s.providerData,f),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!h?.length,p=m?g:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Jf(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,S)}async function Bb(s){const t=Lt(s);await Io(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Gb(s,t){return[...s.filter(l=>!t.some(o=>o.providerId===l.providerId)),...t]}function hv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function qb(s,t){const i=await cv(s,{},async()=>{const l=fa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:f}=s.config,h=await fv(s,o,"/v1/token",`key=${f}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:l};return s.emulatorConfig&&ca(s.emulatorConfig.host)&&(g.credentials="include"),uv.fetch()(h,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function jb(s,t){return da(s,"POST","/v2/accounts:revokeToken",Th(s,t))}class Js{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):w_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){K(t.length!==0,"internal-error");const i=w_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:l,refreshToken:o,expiresIn:f}=await qb(t,i);this.updateTokensAndExpiration(l,o,Number(f))}updateTokensAndExpiration(t,i,l){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(t,i){const{refreshToken:l,accessToken:o,expirationTime:f}=i,h=new Js;return l&&(K(typeof l=="string","internal-error",{appName:t}),h.refreshToken=l),o&&(K(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),f&&(K(typeof f=="number","internal-error",{appName:t}),h.expirationTime=f),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Js,this.toJSON())}_performRefresh(){return Un("not implemented")}}function pi(s,t){K(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Wt{constructor({uid:t,auth:i,stsTokenManager:l,...o}){this.providerId="firebase",this.proactiveRefresh=new Hb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return K(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return kb(this,t)}reload(){return Bb(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wt({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let l=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),l=!0),i&&await Io(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xt(this.auth.app))return Promise.reject(ts(this.auth));const t=await this.getIdToken();return await Nl(this,Ub(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const l=i.displayName??void 0,o=i.email??void 0,f=i.phoneNumber??void 0,h=i.photoURL??void 0,m=i.tenantId??void 0,g=i._redirectEventId??void 0,p=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:y,emailVerified:E,isAnonymous:M,providerData:U,stsTokenManager:j}=i;K(y&&j,t,"internal-error");const ue=Js.fromJSON(this.name,j);K(typeof y=="string",t,"internal-error"),pi(l,t.name),pi(o,t.name),K(typeof E=="boolean",t,"internal-error"),K(typeof M=="boolean",t,"internal-error"),pi(f,t.name),pi(h,t.name),pi(m,t.name),pi(g,t.name),pi(p,t.name),pi(S,t.name);const me=new Wt({uid:y,auth:t,email:o,emailVerified:E,displayName:l,isAnonymous:M,photoURL:h,phoneNumber:f,tenantId:m,stsTokenManager:ue,createdAt:p,lastLoginAt:S});return U&&Array.isArray(U)&&(me.providerData=U.map(Le=>({...Le}))),g&&(me._redirectEventId=g),me}static async _fromIdTokenResponse(t,i,l=!1){const o=new Js;o.updateFromServerResponse(i);const f=new Wt({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:l});return await Io(f),f}static async _fromGetAccountInfoResponse(t,i,l){const o=i.users[0];K(o.localId!==void 0,"internal-error");const f=o.providerUserInfo!==void 0?hv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!f?.length,m=new Js;m.updateFromIdToken(l);const g=new Wt({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Jf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!f?.length};return Object.assign(g,p),g}}const O_=new Map;function kn(s){Gn(s instanceof Function,"Expected a class definition");let t=O_.get(s);return t?(Gn(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,O_.set(s,t),t)}class dv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}dv.type="NONE";const I_=dv;function vo(s,t,i){return`firebase:${s}:${t}:${i}`}class $s{constructor(t,i,l){this.persistence=t,this.auth=i,this.userKey=l;const{config:o,name:f}=this.auth;this.fullUserKey=vo(this.userKey,o.apiKey,f),this.fullPersistenceKey=vo("persistence",o.apiKey,f),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Oo(this.auth,{idToken:t}).catch(()=>{});return i?Wt._fromGetAccountInfoResponse(this.auth,i,t):null}return Wt._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,l="authUser"){if(!i.length)return new $s(kn(I_),t,l);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let f=o[0]||kn(I_);const h=vo(l,t.config.apiKey,t.name);let m=null;for(const p of i)try{const S=await p._get(h);if(S){let y;if(typeof S=="string"){const E=await Oo(t,{idToken:S}).catch(()=>{});if(!E)break;y=await Wt._fromGetAccountInfoResponse(t,E,S)}else y=Wt._fromJSON(t,S);p!==f&&(m=y),f=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!f._shouldAllowMigration||!g.length?new $s(f,t,l):(f=g[0],m&&await f._set(h,m.toJSON()),await Promise.all(i.map(async p=>{if(p!==f)try{await p._remove(h)}catch{}})),new $s(f,t,l))}}function D_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_v(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vv(t))return"Blackberry";if(Ev(t))return"Webos";if(pv(t))return"Safari";if((t.includes("chrome/")||gv(t))&&!t.includes("edge/"))return"Chrome";if(yv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=s.match(i);if(l?.length===2)return l[1]}return"Other"}function mv(s=ft()){return/firefox\//i.test(s)}function pv(s=ft()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gv(s=ft()){return/crios\//i.test(s)}function _v(s=ft()){return/iemobile/i.test(s)}function yv(s=ft()){return/android/i.test(s)}function vv(s=ft()){return/blackberry/i.test(s)}function Ev(s=ft()){return/webos/i.test(s)}function bh(s=ft()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Vb(s=ft()){return bh(s)&&!!window.navigator?.standalone}function Yb(){return eC()&&document.documentMode===10}function Sv(s=ft()){return bh(s)||yv(s)||Ev(s)||vv(s)||/windows phone/i.test(s)||_v(s)}function Tv(s,t=[]){let i;switch(s){case"Browser":i=D_(ft());break;case"Worker":i=`${D_(ft())}-${s}`;break;default:i=s}const l=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ha}/${l}`}class Pb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const l=f=>new Promise((h,m)=>{try{const g=t(f);h(g)}catch(g){m(g)}});l.onAbort=i,this.queue.push(l);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const l of this.queue)await l(t),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}}}async function Fb(s,t={}){return da(s,"GET","/v2/passwordPolicy",Th(s,t))}const Kb=6;class Qb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Kb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const l=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;l&&(i.meetsMinPasswordLength=t.length>=l),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let l;for(let o=0;o<t.length;o++)l=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(t,i,l,o,f){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=f))}}class Xb{constructor(t,i,l,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=l,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M_(this),this.idTokenSubscription=new M_(this),this.beforeStateQueue=new Pb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ov,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(f=>this._resolvePersistenceManagerAvailable=f)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=kn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $s.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Oo(this,{idToken:t}),l=await Wt._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(l)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xt(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=this.redirectUser?._redirectEventId,h=l?._redirectEventId,m=await this.tryRedirectSignIn(t);(!f||f===h)&&m?.user&&(l=m.user,o=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Io(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Ob()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xt(this.app))return Promise.reject(ts(this));const i=t?Lt(t):null;return i&&K(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&K(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xt(this.app)?Promise.reject(ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xt(this.app)?Promise.reject(ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Fb(this),i=new Qb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,i,l){return this.registerStateListener(this.authStateSubscription,t,i,l)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,l){return this.registerStateListener(this.idTokenSubscription,t,i,l)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const l=this.onAuthStateChanged(()=>{l(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(l.tenantId=this.tenantId),await jb(this,l)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const l=await this.getOrInitRedirectPersistenceManager(i);return t===null?l.removeCurrentUser():l.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&kn(t)||this._popupRedirectResolver;K(i,this,"argument-error"),this.redirectPersistenceManager=await $s.create(this,[kn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,l,o){if(this._deleted)return()=>{};const f=typeof i=="function"?i:i.next.bind(i);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(m,this,"internal-error"),m.then(()=>{h||f(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,l,o);return()=>{h=!0,g()}}else{const g=t.addObserver(i);return()=>{h=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Tv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Ab(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Qo(s){return Lt(s)}class M_{constructor(t){this.auth=t,this.observer=null,this.addObserver=cC(i=>this.observer=i)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zb(s){Ah=s}function Wb(s){return Ah.loadJS(s)}function Jb(){return Ah.gapiScript}function $b(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function e1(s,t){const i=yh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),f=i.getOptions();if(ns(f,t??{}))return o;fn(o,"already-initialized")}return i.initialize({options:t})}function t1(s,t){const i=t?.persistence||[],l=(Array.isArray(i)?i:[i]).map(kn);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(l,t?.popupRedirectResolver)}function n1(s,t,i){const l=Qo(s);K(/^https?:\/\//.test(t),l,"invalid-emulator-scheme");const o=!1,f=Cv(t),{host:h,port:m}=i1(t),g=m===null?"":`:${m}`,p={url:`${f}//${h}${g}/`},S=Object.freeze({host:h,port:m,protocol:f.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!l._canInitEmulator){K(l.config.emulator&&l.emulatorConfig,l,"emulator-config-failed"),K(ns(p,l.config.emulator)&&ns(S,l.emulatorConfig),l,"emulator-config-failed");return}l.config.emulator=p,l.emulatorConfig=S,l.settings.appVerificationDisabledForTesting=!0,ca(h)?(Wy(`${f}//${h}${g}`),Jy("Auth",!0)):s1()}function Cv(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function i1(s){const t=Cv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const l=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(l);if(o){const f=o[1];return{host:f,port:x_(l.substr(f.length+1))}}else{const[f,h]=l.split(":");return{host:f,port:x_(h)}}}function x_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function s1(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class bv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Un("not implemented")}_getIdTokenResponse(t){return Un("not implemented")}_linkToIdToken(t,i){return Un("not implemented")}_getReauthenticationResolver(t){return Un("not implemented")}}async function ea(s,t){return xb(s,"POST","/v1/accounts:signInWithIdp",Th(s,t))}const a1="http://localhost";class ss extends bv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ss(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):fn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:l,signInMethod:o,...f}=i;if(!l||!o)return null;const h=new ss(l,o);return h.idToken=f.idToken||void 0,h.accessToken=f.accessToken||void 0,h.secret=f.secret,h.nonce=f.nonce,h.pendingToken=f.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return ea(t,i)}_linkToIdToken(t,i){const l=this.buildRequest();return l.idToken=i,ea(t,l)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ea(t,i)}buildRequest(){const t={requestUri:a1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=fa(i)}return t}}class Rh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends Rh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class _i extends Gl{constructor(){super("facebook.com")}static credential(t){return ss._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _i.credential(t.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";class Ln extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ss._fromParams({providerId:Ln.PROVIDER_ID,signInMethod:Ln.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ln.credentialFromTaggedObject(t)}static credentialFromError(t){return Ln.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:l}=t;if(!i&&!l)return null;try{return Ln.credential(i,l)}catch{return null}}}Ln.GOOGLE_SIGN_IN_METHOD="google.com";Ln.PROVIDER_ID="google.com";class yi extends Gl{constructor(){super("github.com")}static credential(t){return ss._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yi.credentialFromTaggedObject(t)}static credentialFromError(t){return yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yi.credential(t.oauthAccessToken)}catch{return null}}}yi.GITHUB_SIGN_IN_METHOD="github.com";yi.PROVIDER_ID="github.com";class vi extends Gl{constructor(){super("twitter.com")}static credential(t,i){return ss._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:l}=t;if(!i||!l)return null;try{return vi.credential(i,l)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";class aa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,l,o=!1){const f=await Wt._fromIdTokenResponse(t,l,o),h=L_(l);return new aa({user:f,providerId:h,_tokenResponse:l,operationType:i})}static async _forOperation(t,i,l){await t._updateTokensIfNecessary(l,!0);const o=L_(l);return new aa({user:t,providerId:o,_tokenResponse:l,operationType:i})}}function L_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Do extends Oi{constructor(t,i,l,o){super(i.code,i.message),this.operationType=l,this.user=o,Object.setPrototypeOf(this,Do.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(t,i,l,o){return new Do(t,i,l,o)}}function Av(s,t,i,l){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(f=>{throw f.code==="auth/multi-factor-auth-required"?Do._fromErrorAndOperation(s,f,t,l):f})}async function l1(s,t,i=!1){const l=await Nl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return aa._forOperation(s,"link",l)}async function r1(s,t,i=!1){const{auth:l}=s;if(Xt(l.app))return Promise.reject(ts(l));const o="reauthenticate";try{const f=await Nl(s,Av(l,o,t,s),i);K(f.idToken,l,"internal-error");const h=Ch(f.idToken);K(h,l,"internal-error");const{sub:m}=h;return K(s.uid===m,l,"user-mismatch"),aa._forOperation(s,o,f)}catch(f){throw f?.code==="auth/user-not-found"&&fn(l,"user-mismatch"),f}}async function o1(s,t,i=!1){if(Xt(s.app))return Promise.reject(ts(s));const l="signIn",o=await Av(s,l,t),f=await aa._fromIdTokenResponse(s,l,o);return i||await s._updateCurrentUser(f.user),f}function u1(s,t,i,l){return Lt(s).onIdTokenChanged(t,i,l)}function c1(s,t,i){return Lt(s).beforeAuthStateChanged(t,i)}function f1(s){return Lt(s).signOut()}const Mo="__sak";class Rv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Mo,"1"),this.storage.removeItem(Mo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const h1=1e3,d1=10;class Nv extends Rv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Sv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const l=this.storage.getItem(i),o=this.localCache[i];l!==o&&t(i,o,l)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const l=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(l);!i&&this.localCache[l]===h||this.notifyListeners(l,h)},f=this.storage.getItem(l);Yb()&&f!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,d1):o()}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:l}),!0)})},h1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Nv.type="LOCAL";const m1=Nv;class wv extends Rv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}wv.type="SESSION";const Ov=wv;function p1(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Xo{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const l=new Xo(t);return this.receivers.push(l),l}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:l,eventType:o,data:f}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:l,eventType:o});const m=Array.from(h).map(async p=>p(i.origin,f)),g=await p1(m);i.ports[0].postMessage({status:"done",eventId:l,eventType:o,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xo.receivers=[];function Nh(s="",t=10){let i="";for(let l=0;l<t;l++)i+=Math.floor(Math.random()*10);return s+i}class g1{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,l=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let f,h;return new Promise((m,g)=>{const p=Nh("",20);o.port1.start();const S=setTimeout(()=>{g(new Error("unsupported_event"))},l);h={messageChannel:o,onMessage(y){const E=y;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(S),f=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(f),m(E.data.response);break;default:clearTimeout(S),clearTimeout(f),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function cn(){return window}function _1(s){cn().location.href=s}function Iv(){return typeof cn().WorkerGlobalScope<"u"&&typeof cn().importScripts=="function"}async function y1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v1(){return navigator?.serviceWorker?.controller||null}function E1(){return Iv()?self:null}const Dv="firebaseLocalStorageDb",S1=1,xo="firebaseLocalStorage",Mv="fbase_key";class ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Zo(s,t){return s.transaction([xo],t?"readwrite":"readonly").objectStore(xo)}function T1(){const s=indexedDB.deleteDatabase(Dv);return new ql(s).toPromise()}function $f(){const s=indexedDB.open(Dv,S1);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const l=s.result;try{l.createObjectStore(xo,{keyPath:Mv})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const l=s.result;l.objectStoreNames.contains(xo)?t(l):(l.close(),await T1(),t(await $f()))})})}async function U_(s,t,i){const l=Zo(s,!0).put({[Mv]:t,value:i});return new ql(l).toPromise()}async function C1(s,t){const i=Zo(s,!1).get(t),l=await new ql(i).toPromise();return l===void 0?null:l.value}function k_(s,t){const i=Zo(s,!0).delete(t);return new ql(i).toPromise()}const b1=800,A1=3;class xv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $f(),this.db)}async _withRetries(t){let i=0;for(;;)try{const l=await this._openDb();return await t(l)}catch(l){if(i++>A1)throw l;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Iv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xo._getInstance(E1()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await y1(),!this.activeServiceWorker)return;this.sender=new g1(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||v1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $f();return await U_(t,Mo,"1"),await k_(t,Mo),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(l=>U_(l,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(l=>C1(l,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>k_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const f=Zo(o,!1).getAll();return new ql(f).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],l=new Set;if(t.length!==0)for(const{fbase_key:o,value:f}of t)l.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(f)&&(this.notifyListeners(o,f),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!l.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xv.type="LOCAL";const R1=xv;new Bl(3e4,6e4);function Lv(s,t){return t?kn(t):(K(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class wh extends bv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ea(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ea(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ea(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function N1(s){return o1(s.auth,new wh(s),s.bypassAuthState)}function w1(s){const{auth:t,user:i}=s;return K(i,t,"internal-error"),r1(i,new wh(s),s.bypassAuthState)}async function O1(s){const{auth:t,user:i}=s;return K(i,t,"internal-error"),l1(i,new wh(s),s.bypassAuthState)}class Uv{constructor(t,i,l,o,f=!1){this.auth=t,this.resolver=l,this.user=o,this.bypassAuthState=f,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(l){this.reject(l)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:l,postBody:o,tenantId:f,error:h,type:m}=t;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:i,sessionId:l,tenantId:f||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return N1;case"linkViaPopup":case"linkViaRedirect":return O1;case"reauthViaPopup":case"reauthViaRedirect":return w1;default:fn(this.auth,"internal-error")}}resolve(t){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const I1=new Bl(2e3,1e4);async function D1(s,t,i){if(Xt(s.app))return Promise.reject(en(s,"operation-not-supported-in-this-environment"));const l=Qo(s);Rb(s,t,Rh);const o=Lv(l,i);return new Ji(l,"signInViaPopup",t,o).executeNotNull()}class Ji extends Uv{constructor(t,i,l,o,f){super(t,i,o,f),this.provider=l,this.authWindow=null,this.pollId=null,Ji.currentPopupAction&&Ji.currentPopupAction.cancel(),Ji.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return K(t,this.auth,"internal-error"),t}async onExecution(){Gn(this.filter.length===1,"Popup operations only handle one event");const t=Nh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(en(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(en(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ji.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(en(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,I1.get())};t()}}Ji.currentPopupAction=null;const M1="pendingRedirect",Eo=new Map;class x1 extends Uv{constructor(t,i,l=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,l),this.eventId=null}async execute(){let t=Eo.get(this.auth._key());if(!t){try{const l=await L1(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(l)}catch(i){t=()=>Promise.reject(i)}Eo.set(this.auth._key(),t)}return this.bypassAuthState||Eo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L1(s,t){const i=z1(t),l=k1(s);if(!await l._isAvailable())return!1;const o=await l._get(i)==="true";return await l._remove(i),o}function U1(s,t){Eo.set(s._key(),t)}function k1(s){return kn(s._redirectPersistence)}function z1(s){return vo(M1,s.config.apiKey,s.name)}async function H1(s,t,i=!1){if(Xt(s.app))return Promise.reject(ts(s));const l=Qo(s),o=Lv(l,t),h=await new x1(l,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await l._persistUserIfCurrent(h.user),await l._setRedirectUser(null,t)),h}const B1=600*1e3;class G1{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(t,l)&&(i=!0,this.sendToConsumer(t,l),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!q1(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!kv(t)){const l=t.error.code?.split("auth/")[1]||"internal-error";i.onError(en(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const l=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&l}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=B1&&this.cachedEventUids.clear(),this.cachedEventUids.has(z_(t))}saveEventToCache(t){this.cachedEventUids.add(z_(t)),this.lastProcessedEventTime=Date.now()}}function z_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function kv({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function q1(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kv(s);default:return!1}}async function j1(s,t={}){return da(s,"GET","/v1/projects",t)}const V1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y1=/^https?/;async function P1(s){if(s.config.emulator)return;const{authorizedDomains:t}=await j1(s);for(const i of t)try{if(F1(i))return}catch{}fn(s,"unauthorized-domain")}function F1(s){const t=Wf(),{protocol:i,hostname:l}=new URL(t);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&l===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===l}if(!Y1.test(i))return!1;if(V1.test(s))return l===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)}const K1=new Bl(3e4,6e4);function H_(){const s=cn().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Q1(s){return new Promise((t,i)=>{function l(){H_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{H_(),i(en(s,"network-request-failed"))},timeout:K1.get()})}if(cn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(cn().gapi?.load)l();else{const o=$b("iframefcb");return cn()[o]=()=>{gapi.load?l():i(en(s,"network-request-failed"))},Wb(`${Jb()}?onload=${o}`).catch(f=>i(f))}}).catch(t=>{throw So=null,t})}let So=null;function X1(s){return So=So||Q1(s),So}const Z1=new Bl(5e3,15e3),W1="__/auth/iframe",J1="emulator/auth/iframe",$1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tA(s){const t=s.config;K(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Sh(t,J1):`https://${s.config.authDomain}/${W1}`,l={apiKey:t.apiKey,appName:s.name,v:ha},o=eA.get(s.config.apiHost);o&&(l.eid=o);const f=s._getFrameworks();return f.length&&(l.fw=f.join(",")),`${i}?${fa(l).slice(1)}`}async function nA(s){const t=await X1(s),i=cn().gapi;return K(i,s,"internal-error"),t.open({where:document.body,url:tA(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$1,dontclear:!0},l=>new Promise(async(o,f)=>{await l.restyle({setHideOnLeave:!1});const h=en(s,"network-request-failed"),m=cn().setTimeout(()=>{f(h)},Z1.get());function g(){cn().clearTimeout(m),o(l)}l.ping(g).then(g,()=>{f(h)})}))}const iA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sA=500,aA=600,lA="_blank",rA="http://localhost";class B_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oA(s,t,i,l=sA,o=aA){const f=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-l)/2,0).toString();let m="";const g={...iA,width:l.toString(),height:o.toString(),top:f,left:h},p=ft().toLowerCase();i&&(m=gv(p)?lA:i),mv(p)&&(t=t||rA,g.scrollbars="yes");const S=Object.entries(g).reduce((E,[M,U])=>`${E}${M}=${U},`,"");if(Vb(p)&&m!=="_self")return uA(t||"",m),new B_(null);const y=window.open(t||"",m,S);K(y,s,"popup-blocked");try{y.focus()}catch{}return new B_(y)}function uA(s,t){const i=document.createElement("a");i.href=s,i.target=t;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(l)}const cA="__/auth/handler",fA="emulator/auth/handler",hA=encodeURIComponent("fac");async function G_(s,t,i,l,o,f){K(s.config.authDomain,s,"auth-domain-config-required"),K(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:l,v:ha,eventId:o};if(t instanceof Rh){t.setDefaultLanguage(s.languageCode),h.providerId=t.providerId||"",Pf(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,y]of Object.entries({}))h[S]=y}if(t instanceof Gl){const S=t.getScopes().filter(y=>y!=="");S.length>0&&(h.scopes=S.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const S of Object.keys(m))m[S]===void 0&&delete m[S];const g=await s._getAppCheckToken(),p=g?`#${hA}=${encodeURIComponent(g)}`:"";return`${dA(s)}?${fa(m).slice(1)}${p}`}function dA({config:s}){return s.emulator?Sh(s,fA):`https://${s.authDomain}/${cA}`}const zf="webStorageSupport";class mA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ov,this._completeRedirectFn=H1,this._overrideRedirectResult=U1}async _openPopup(t,i,l,o){Gn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const f=await G_(t,i,l,Wf(),o);return oA(t,f,Nh())}async _openRedirect(t,i,l,o){await this._originValidation(t);const f=await G_(t,i,l,Wf(),o);return _1(f),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:f}=this.eventManagers[i];return o?Promise.resolve(o):(Gn(f,"If manager is not set, promise should be"),f)}const l=this.initAndGetManager(t);return this.eventManagers[i]={promise:l},l.catch(()=>{delete this.eventManagers[i]}),l}async initAndGetManager(t){const i=await nA(t),l=new G1(t);return i.register("authEvent",o=>(K(o?.authEvent,t,"invalid-auth-event"),{status:l.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:l},this.iframes[t._key()]=i,l}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zf,{type:zf},o=>{const f=o?.[0]?.[zf];f!==void 0&&i(!!f),fn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=P1(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Sv()||pv()||bh()}}const pA=mA;var q_="@firebase/auth",j_="1.12.1";class gA{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(l=>{t(l?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _A(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yA(s){sa(new is("auth",(t,{options:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),f=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=l.options;K(h&&!h.includes(":"),"invalid-api-key",{appName:l.name});const g={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tv(s)},p=new Xb(l,o,f,g);return t1(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,l)=>{t.getProvider("auth-internal").initialize()})),sa(new is("auth-internal",t=>{const i=Qo(t.getProvider("auth").getImmediate());return(l=>new gA(l))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(q_,j_,_A(s)),Ti(q_,j_,"esm2020")}const vA=300,EA=Zy("authIdTokenMaxAge")||vA;let V_=null;const SA=s=>async t=>{const i=t&&await t.getIdTokenResult(),l=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(l&&l>EA)return;const o=i?.token;V_!==o&&(V_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function TA(s=sv()){const t=yh(s,"auth");if(t.isInitialized())return t.getImmediate();const i=e1(s,{popupRedirectResolver:pA,persistence:[R1,m1,Ov]}),l=Zy("authTokenSyncURL");if(l&&typeof isSecureContext=="boolean"&&isSecureContext){const f=new URL(l,location.origin);if(location.origin===f.origin){const h=SA(f.toString());c1(i,h,()=>h(i.currentUser)),u1(i,m=>h(m))}}const o=Qy("auth");return o&&n1(i,`http://${o}`),i}function CA(){return document.getElementsByTagName("head")?.[0]??document}Zb({loadJS(s){return new Promise((t,i)=>{const l=document.createElement("script");l.setAttribute("src",s),l.onload=t,l.onerror=o=>{const f=en("internal-error");f.customData=o,i(f)},l.type="text/javascript",l.charset="UTF-8",CA().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yA("Browser");var Y_={};const P_="@firebase/database",F_="1.1.1";let zv="";function bA(s){zv=s}class AA{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ke(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Al(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class RA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return jn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Hv=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new AA(t)}}catch{}return new RA},$i=Hv("localStorage"),NA=Hv("sessionStorage");const ta=new gh("@firebase/database"),wA=(function(){let s=1;return function(){return s++}})(),Bv=function(s){const t=dC(s),i=new uC;i.update(t);const l=i.digest();return hh.encodeByteArray(l)},jl=function(...s){let t="";for(let i=0;i<s.length;i++){const l=s[i];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?t+=jl.apply(null,l):typeof l=="object"?t+=Ke(l):t+=l,t+=" "}return t};let vl=null,K_=!0;const OA=function(s,t){k(!0,"Can't turn on custom loggers persistently."),ta.logLevel=be.VERBOSE,vl=ta.log.bind(ta)},lt=function(...s){if(K_===!0&&(K_=!1,vl===null&&NA.get("logging_enabled")===!0&&OA()),vl){const t=jl.apply(null,s);vl(t)}},Vl=function(s){return function(...t){lt(s,...t)}},eh=function(...s){const t="FIREBASE INTERNAL ERROR: "+jl(...s);ta.error(t)},qn=function(...s){const t=`FIREBASE FATAL ERROR: ${jl(...s)}`;throw ta.error(t),new Error(t)},Tt=function(...s){const t="FIREBASE WARNING: "+jl(...s);ta.warn(t)},IA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gv=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},DA=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},la="[MIN_NAME]",as="[MAX_NAME]",ma=function(s,t){if(s===t)return 0;if(s===la||t===as)return-1;if(t===la||s===as)return 1;{const i=Q_(s),l=Q_(t);return i!==null?l!==null?i-l===0?s.length-t.length:i-l:-1:l!==null?1:s<t?-1:1}},MA=function(s,t){return s===t?0:s<t?-1:1},hl=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+Ke(t))},Oh=function(s){if(typeof s!="object"||s===null)return Ke(s);const t=[];for(const l in s)t.push(l);t.sort();let i="{";for(let l=0;l<t.length;l++)l!==0&&(i+=","),i+=Ke(t[l]),i+=":",i+=Oh(s[t[l]]);return i+="}",i},qv=function(s,t){const i=s.length;if(i<=t)return[s];const l=[];for(let o=0;o<i;o+=t)o+t>i?l.push(s.substring(o,i)):l.push(s.substring(o,o+t));return l};function Ct(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const jv=function(s){k(!Gv(s),"Invalid JSON number");const t=11,i=52,l=(1<<t-1)-1;let o,f,h,m,g;s===0?(f=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-l)?(m=Math.min(Math.floor(Math.log(s)/Math.LN2),l),f=m+l,h=Math.round(s*Math.pow(2,i-m)-Math.pow(2,i))):(f=0,h=Math.round(s/Math.pow(2,1-l-i))));const p=[];for(g=i;g;g-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(g=t;g;g-=1)p.push(f%2?1:0),f=Math.floor(f/2);p.push(o?1:0),p.reverse();const S=p.join("");let y="";for(g=0;g<64;g+=8){let E=parseInt(S.substr(g,8),2).toString(16);E.length===1&&(E="0"+E),y=y+E}return y.toLowerCase()},xA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},LA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function UA(s,t){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const l=new Error(s+" at "+t._path.toString()+": "+i);return l.code=s.toUpperCase(),l}const kA=new RegExp("^-?(0*)\\d{1,10}$"),zA=-2147483648,HA=2147483647,Q_=function(s){if(kA.test(s)){const t=Number(s);if(t>=zA&&t<=HA)return t}return null},pa=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw Tt("Exception was thrown by user callback.",i),t},Math.floor(0))}},BA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},El=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class GA{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,Xt(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(l=>this.appCheck=l)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Tt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qA{constructor(t,i,l){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(lt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tt(t)}}class To{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}To.OWNER="owner";const Ih="5",Vv="v",Yv="s",Pv="r",Fv="f",Kv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Qv="ls",Xv="p",th="ac",Zv="websocket",Wv="long_polling";class Jv{constructor(t,i,l,o,f=!1,h="",m=!1,g=!1,p=null){this.secure=i,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=g,this.emulatorOptions=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$i.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&$i.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function jA(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function $v(s,t,i){k(typeof t=="string","typeof type must == string"),k(typeof i=="object","typeof params must == object");let l;if(t===Zv)l=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===Wv)l=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);jA(s)&&(i.ns=s.namespace);const o=[];return Ct(i,(f,h)=>{o.push(f+"="+h)}),l+o.join("&")}class VA{constructor(){this.counters_={}}incrementCounter(t,i=1){jn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return jT(this.counters_)}}const Hf={},Bf={};function Dh(s){const t=s.toString();return Hf[t]||(Hf[t]=new VA),Hf[t]}function YA(s,t){const i=s.toString();return Bf[i]||(Bf[i]=t()),Bf[i]}class PA{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&pa(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const X_="start",FA="close",KA="pLPCommand",QA="pRTLPCB",eE="id",tE="pw",nE="ser",XA="cb",ZA="seg",WA="ts",JA="d",$A="dframe",iE=1870,sE=30,eR=iE-sE,tR=25e3,nR=3e4;class Ws{constructor(t,i,l,o,f,h,m){this.connId=t,this.repoInfo=i,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vl(t),this.stats_=Dh(i),this.urlFn=g=>(this.appCheckToken&&(g[th]=this.appCheckToken),$v(i,Wv,g))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new PA(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(nR)),DA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Mh((...f)=>{const[h,m,g,p,S]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===X_)this.id=m,this.password=g;else if(h===FA)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const l={};l[X_]="t",l[nE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[XA]=this.scriptTagHolder.uniqueCallbackIdentifier),l[Vv]=Ih,this.transportSessionId&&(l[Yv]=this.transportSessionId),this.lastSessionId&&(l[Qv]=this.lastSessionId),this.applicationId&&(l[Xv]=this.applicationId),this.appCheckToken&&(l[th]=this.appCheckToken),typeof location<"u"&&location.hostname&&Kv.test(location.hostname)&&(l[Pv]=Fv);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ws.forceAllow_=!0}static forceDisallow(){Ws.forceDisallow_=!0}static isAvailable(){return Ws.forceAllow_?!0:!Ws.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!xA()&&!LA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=Ke(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=Fy(i),o=qv(l,eR);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const l={};l[$A]="t",l[eE]=t,l[tE]=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=Ke(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Mh{constructor(t,i,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=wA(),window[KA+this.uniqueCallbackIdentifier]=t,window[QA+this.uniqueCallbackIdentifier]=i,this.myIFrame=Mh.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){lt("frame writing exception"),m.stack&&lt(m.stack),lt(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||lt("No IE domain setting required")}catch{const l=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[eE]=this.myID,t[tE]=this.myPW,t[nE]=this.currentSerial;let i=this.urlFn(t),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+sE+l.length<=iE;){const h=this.pendingSegs.shift();l=l+"&"+ZA+o+"="+h.seg+"&"+WA+o+"="+h.ts+"&"+JA+o+"="+h.d,o++}return i=i+l,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,l){this.pendingSegs.push({seg:t,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(l,Math.floor(tR)),f=()=>{clearTimeout(o),l()};this.addTag(t,f)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{lt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}const iR=16384,sR=45e3;let Lo=null;typeof MozWebSocket<"u"?Lo=MozWebSocket:typeof WebSocket<"u"&&(Lo=WebSocket);class Zt{constructor(t,i,l,o,f,h,m){this.connId=t,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vl(this.connId),this.stats_=Dh(i),this.connURL=Zt.connectionURL_(i,h,m,o,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,l,o,f){const h={};return h[Vv]=Ih,typeof location<"u"&&location.hostname&&Kv.test(location.hostname)&&(h[Pv]=Fv),i&&(h[Yv]=i),l&&(h[Qv]=l),o&&(h[th]=o),f&&(h[Xv]=f),$v(t,Zv,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$i.set("previous_websocket_failure",!0);try{let l;tC(),this.mySock=new Lo(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Zt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(i);l&&l.length>1&&parseFloat(l[1])<4.4&&(t=!0)}return!t&&Lo!==null&&!Zt.forceDisallow_}static previouslyFailed(){return $i.isInMemoryStorage||$i.get("previous_websocket_failure")===!0}markConnectionHealthy(){$i.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const l=Al(i);this.onMessage(l)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(k(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const l=this.extractFrameCount_(i);l!==null&&this.appendFrame_(l)}}send(t){this.resetKeepAlive();const i=Ke(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=qv(i,iR);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sR))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zt.responsesRequiredToBeHealthy=2;Zt.healthyTimeout=3e4;class wl{static get ALL_TRANSPORTS(){return[Ws,Zt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=Zt&&Zt.isAvailable();let l=i&&!Zt.previouslyFailed();if(t.webSocketOnly&&(i||Tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[Zt];else{const o=this.transports_=[];for(const f of wl.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);wl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}wl.globalTransportInitialized_=!1;const aR=6e4,lR=5e3,rR=10*1024,oR=100*1024,Gf="t",Z_="d",uR="s",W_="r",cR="e",J_="o",$_="a",ey="n",ty="p",fR="h";class hR{constructor(t,i,l,o,f,h,m,g,p,S){this.id=t,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vl("c:"+this.id+":"),this.transportManager_=new wl(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=El(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>oR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>rR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Gf in t){const i=t[Gf];i===$_?this.upgradeIfSecondaryHealthy_():i===W_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===J_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=hl("t",t),l=hl("d",t);if(i==="c")this.onSecondaryControl_(l);else if(i==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ty,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ey,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=hl("t",t),l=hl("d",t);i==="c"?this.onControl_(l):i==="d"&&this.onDataMessage_(l)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=hl(Gf,t);if(Z_ in t){const l=t[Z_];if(i===fR){const o={...l};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===ey){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===uR?this.onConnectionShutdown_(l):i===W_?this.onReset_(l):i===cR?eh("Server Error: "+l):i===J_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):eh("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,l=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Ih!==l&&Tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),El(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(aR))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):El(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(lR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ty,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($i.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class aE{put(t,i,l,o){}merge(t,i,l,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,l){}onDisconnectMerge(t,i,l){}onDisconnectCancel(t,i){}reportStats(t){}}class lE{constructor(t){this.allowedEvents_=t,this.listeners_={},k(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const l=[...this.listeners_[t]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,i)}}on(t,i,l){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:l});const o=this.getInitialEvent(t);o&&i.apply(l,o)}off(t,i,l){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let f=0;f<o.length;f++)if(o[f].callback===i&&(!l||l===o[f].context)){o.splice(f,1);return}}validateEventType_(t){k(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class Uo extends lE{static getInstance(){return new Uo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!mh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return k(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const ny=32,iy=768;class Ne{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function de(){return new Ne("")}function le(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Ri(s){return s.pieces_.length-s.pieceNum_}function Oe(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new Ne(s.pieces_,t)}function rE(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function dR(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function oE(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function uE(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new Ne(t,0)}function Qe(s,t){const i=[];for(let l=s.pieceNum_;l<s.pieces_.length;l++)i.push(s.pieces_[l]);if(t instanceof Ne)for(let l=t.pieceNum_;l<t.pieces_.length;l++)i.push(t.pieces_[l]);else{const l=t.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&i.push(l[o])}return new Ne(i,0)}function ie(s){return s.pieceNum_>=s.pieces_.length}function ct(s,t){const i=le(s),l=le(t);if(i===null)return t;if(i===l)return ct(Oe(s),Oe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function cE(s,t){if(Ri(s)!==Ri(t))return!1;for(let i=s.pieceNum_,l=t.pieceNum_;i<=s.pieces_.length;i++,l++)if(s.pieces_[i]!==t.pieces_[l])return!1;return!0}function Jt(s,t){let i=s.pieceNum_,l=t.pieceNum_;if(Ri(s)>Ri(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[l])return!1;++i,++l}return!0}class mR{constructor(t,i){this.errorPrefix_=i,this.parts_=oE(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=Ko(this.parts_[l]);fE(this)}}function pR(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=Ko(t),fE(s)}function gR(s){const t=s.parts_.pop();s.byteLength_-=Ko(t),s.parts_.length>0&&(s.byteLength_-=1)}function fE(s){if(s.byteLength_>iy)throw new Error(s.errorPrefix_+"has a key path longer than "+iy+" bytes ("+s.byteLength_+").");if(s.parts_.length>ny)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ny+") or object contains a cycle "+Wi(s))}function Wi(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}class xh extends lE{static getInstance(){return new xh}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[t];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(t){return k(t==="visible","Unknown event type: "+t),[this.visible_]}}const dl=1e3,_R=300*1e3,sy=30*1e3,yR=1.3,vR=3e4,ER="server_kill",ay=3;class Hn extends aE{constructor(t,i,l,o,f,h,m,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=g,this.id=Hn.nextPersistentConnectionId_++,this.log_=Vl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=dl,this.maxReconnectDelay_=_R,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Uo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,l){const o=++this.requestNumber_,f={r:o,a:t,b:i};this.log_(Ke(f)),k(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),l&&(this.requestCBHash_[o]=l)}get(t){this.initConnection_();const i=new Fo,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),i.promise}listen(t,i,l,o){this.initConnection_();const f=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),k(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),k(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:l};this.listens.get(h).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,l=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(l)})}sendListen_(t){const i=t.query,l=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+l+" for "+o);const f={p:l},h="q";t.tag&&(f.q=i._queryObject,f.t=t.tag),f.h=t.hashFn(),this.sendRequest(h,f,m=>{const g=m.d,p=m.s;Hn.warnOnListenWarnings_(g,i),(this.listens.get(l)&&this.listens.get(l).get(o))===t&&(this.log_("listen response",m),p!=="ok"&&this.removeListen_(l,o),t.onComplete&&t.onComplete(p,g))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&jn(t,"w")){const l=ia(t,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',f=i._path.toString();Tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||oC(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=sy)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=rC(t)?"auth":"gauth",l={cred:t};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(i,l,o=>{const f=o.s,h=o.d||"error";this.authToken_===t&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,l=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,l)})}unlisten(t,i){const l=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),k(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,t._queryObject,i)}sendUnlisten_(t,i,l,o){this.log_("Unlisten on "+t+" for "+i);const f={p:t},h="n";o&&(f.q=l,f.t=o),this.sendRequest(h,f)}onDisconnectPut(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:l})}onDisconnectMerge(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:l})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,l,o){const f={p:i,d:l};this.log_("onDisconnect "+t,f),this.sendRequest(t,f,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,l,o){this.putInternal("p",t,i,l,o)}merge(t,i,l,o){this.putInternal("m",t,i,l,o)}putInternal(t,i,l,o,f){this.initConnection_();const h={p:i,d:l};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,l=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,l,f=>{this.log_(i+" response",f),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,l=>{if(l.s!=="ok"){const f=l.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ke(t));const i=t.r,l=this.requestCBHash_[i];l&&(delete this.requestCBHash_[i],l(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):eh("Unrecognized action received from server: "+Ke(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){k(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=dl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=dl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>vR&&(this.reconnectDelay_=dl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*yR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Hn.nextConnectionId_++,f=this.lastSessionId;let h=!1,m=null;const g=function(){m?m.close():(h=!0,l())},p=function(y){k(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(y)};this.realtime_={close:g,sendRequest:p};const S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,E]=await Promise.all([this.authTokenProvider_.getToken(S),this.appCheckTokenProvider_.getToken(S)]);h?lt("getToken() completed but was canceled"):(lt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=E&&E.token,m=new hR(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,l,M=>{Tt(M+" ("+this.repoInfo_.toString()+")"),this.interrupt(ER)},f))}catch(y){this.log_("Failed to get token: "+y),h||(this.repoInfo_.nodeAdmin&&Tt(y),g())}}}interrupt(t){lt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){lt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Pf(this.interruptReasons_)&&(this.reconnectDelay_=dl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let l;i?l=i.map(f=>Oh(f)).join("$"):l="default";const o=this.removeListen_(t,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const l=new Ne(t).toString();let o;if(this.listens.has(l)){const f=this.listens.get(l);o=f.get(i),f.delete(i),f.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(t,i){lt("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ay&&(this.reconnectDelay_=sy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){lt("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ay&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+zv.replace(/\./g,"-")]=1,mh()?t["framework.cordova"]=1:$y()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Uo.getInstance().currentlyOnline();return Pf(this.interruptReasons_)&&t}}Hn.nextPersistentConnectionId_=0;Hn.nextConnectionId_=0;class ${constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new $(t,i)}}class Wo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const l=new $(la,t),o=new $(la,i);return this.compare(l,o)!==0}minPost(){return $.MIN}}let po;class hE extends Wo{static get __EMPTY_NODE(){return po}static set __EMPTY_NODE(t){po=t}compare(t,i){return ma(t.name,i.name)}isDefinedOn(t){throw ua("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return $.MIN}maxPost(){return new $(as,po)}makePost(t,i){return k(typeof t=="string","KeyIndex indexValue must always be a string."),new $(t,po)}toString(){return".key"}}const na=new hE;class go{constructor(t,i,l,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?l(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Je{constructor(t,i,l,o,f){this.key=t,this.value=i,this.color=l??Je.RED,this.left=o??St.EMPTY_NODE,this.right=f??St.EMPTY_NODE}copy(t,i,l,o,f){return new Je(t??this.key,i??this.value,l??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,l){let o=this;const f=l(t,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(t,i,l),null):f===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return St.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let l,o;if(l=this,i(t,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),i(t,l.key)===0){if(l.right.isEmpty())return St.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Je.RED=!0;Je.BLACK=!1;class SR{copy(t,i,l,o,f){return this}insert(t,i,l){return new Je(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class St{constructor(t,i=St.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new St(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,Je.BLACK,null,null))}remove(t){return new St(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Je.BLACK,null,null))}get(t){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(t,l.key),i===0)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(t){let i,l=this.root_,o=null;for(;!l.isEmpty();)if(i=this.comparator_(t,l.key),i===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else i<0?l=l.left:i>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new go(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new go(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new go(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new go(this.root_,null,this.comparator_,!0,t)}}St.EMPTY_NODE=new SR;function TR(s,t){return ma(s.name,t.name)}function Lh(s,t){return ma(s,t)}let nh;function CR(s){nh=s}const dE=function(s){return typeof s=="number"?"number:"+jv(s):"string:"+s},mE=function(s){if(s.isLeafNode()){const t=s.val();k(typeof t=="string"||typeof t=="number"||typeof t=="object"&&jn(t,".sv"),"Priority must be a string or number.")}else k(s===nh||s.isEmpty(),"priority of unexpected type.");k(s===nh||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ly;class We{static set __childrenNodeConstructor(t){ly=t}static get __childrenNodeConstructor(){return ly}constructor(t,i=We.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,k(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new We(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ie(t)?this:le(t)===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:We.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const l=le(t);return l===null?i:i.isEmpty()&&l!==".priority"?this:(k(l!==".priority"||Ri(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,We.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oe(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+dE(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=jv(this.value_):t+=this.value_,this.lazyHash_=Bv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===We.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof We.__childrenNodeConstructor?-1:(k(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,l=typeof this.value_,o=We.VALUE_TYPE_ORDER.indexOf(i),f=We.VALUE_TYPE_ORDER.indexOf(l);return k(o>=0,"Unknown leaf type: "+i),k(f>=0,"Unknown leaf type: "+l),o===f?l==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}We.VALUE_TYPE_ORDER=["object","boolean","number","string"];let pE,gE;function bR(s){pE=s}function AR(s){gE=s}class RR extends Wo{compare(t,i){const l=t.node.getPriority(),o=i.node.getPriority(),f=l.compareTo(o);return f===0?ma(t.name,i.name):f}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return $.MIN}maxPost(){return new $(as,new We("[PRIORITY-POST]",gE))}makePost(t,i){const l=pE(t);return new $(i,new We("[PRIORITY-POST]",l))}toString(){return".priority"}}const He=new RR;const NR=Math.log(2);class wR{constructor(t){const i=f=>parseInt(Math.log(f)/NR,10),l=f=>parseInt(Array(f+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=l(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ko=function(s,t,i,l){s.sort(t);const o=function(g,p){const S=p-g;let y,E;if(S===0)return null;if(S===1)return y=s[g],E=i?i(y):y,new Je(E,y.node,Je.BLACK,null,null);{const M=parseInt(S/2,10)+g,U=o(g,M),j=o(M+1,p);return y=s[M],E=i?i(y):y,new Je(E,y.node,Je.BLACK,U,j)}},f=function(g){let p=null,S=null,y=s.length;const E=function(U,j){const ue=y-U,me=y;y-=U;const Le=o(ue+1,me),we=s[ue],ge=i?i(we):we;M(new Je(ge,we.node,j,null,Le))},M=function(U){p?(p.left=U,p=U):(S=U,p=U)};for(let U=0;U<g.count;++U){const j=g.nextBitIsOne(),ue=Math.pow(2,g.count-(U+1));j?E(ue,Je.BLACK):(E(ue,Je.BLACK),E(ue,Je.RED))}return S},h=new wR(s.length),m=f(h);return new St(l||t,m)};let qf;const Xs={};class zn{static get Default(){return k(Xs&&He,"ChildrenNode.ts has not been loaded"),qf=qf||new zn({".priority":Xs},{".priority":He}),qf}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=ia(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof St?i:null}hasIndex(t){return jn(this.indexSet_,t.toString())}addIndex(t,i){k(t!==na,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const f=i.getIterator($.Wrap);let h=f.getNext();for(;h;)o=o||t.isDefinedOn(h.node),l.push(h),h=f.getNext();let m;o?m=ko(l,t.getCompare()):m=Xs;const g=t.toString(),p={...this.indexSet_};p[g]=t;const S={...this.indexes_};return S[g]=m,new zn(S,p)}addToIndexes(t,i){const l=Ro(this.indexes_,(o,f)=>{const h=ia(this.indexSet_,f);if(k(h,"Missing index implementation for "+f),o===Xs)if(h.isDefinedOn(t.node)){const m=[],g=i.getIterator($.Wrap);let p=g.getNext();for(;p;)p.name!==t.name&&m.push(p),p=g.getNext();return m.push(t),ko(m,h.getCompare())}else return Xs;else{const m=i.get(t.name);let g=o;return m&&(g=g.remove(new $(t.name,m))),g.insert(t,t.node)}});return new zn(l,this.indexSet_)}removeFromIndexes(t,i){const l=Ro(this.indexes_,o=>{if(o===Xs)return o;{const f=i.get(t.name);return f?o.remove(new $(t.name,f)):o}});return new zn(l,this.indexSet_)}}let ml;class P{static get EMPTY_NODE(){return ml||(ml=new P(new St(Lh),null,zn.Default))}constructor(t,i,l){this.children_=t,this.priorityNode_=i,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&mE(this.priorityNode_),this.children_.isEmpty()&&k(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ml}updatePriority(t){return this.children_.isEmpty()?this:new P(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?ml:i}}getChild(t){const i=le(t);return i===null?this:this.getImmediateChild(i).getChild(Oe(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(k(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const l=new $(t,i);let o,f;i.isEmpty()?(o=this.children_.remove(t),f=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(t,i),f=this.indexMap_.addToIndexes(l,this.children_));const h=o.isEmpty()?ml:this.priorityNode_;return new P(o,h,f)}}updateChild(t,i){const l=le(t);if(l===null)return i;{k(le(t)!==".priority"||Ri(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(Oe(t),i);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let l=0,o=0,f=!0;if(this.forEachChild(He,(h,m)=>{i[h]=m.val(t),l++,f&&P.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):f=!1}),!t&&f&&o<2*l){const h=[];for(const m in i)h[m]=i[m];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+dE(this.getPriority().val())+":"),this.forEachChild(He,(i,l)=>{const o=l.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Bv(t)}return this.lazyHash_}getPredecessorChildName(t,i,l){const o=this.resolveIndex_(l);if(o){const f=o.getPredecessorKey(new $(t,i));return f?f.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new $(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new $(i,this.children_.get(i)):null}forEachChild(t,i){const l=this.resolveIndex_(t);return l?l.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,$.Wrap);let f=o.peek();for(;f!=null&&i.compare(f,t)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,$.Wrap);let f=o.peek();for(;f!=null&&i.compare(f,t)>0;)o.getNext(),f=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Yl?-1:0}withIndex(t){if(t===na||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new P(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===na||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const l=this.getIterator(He),o=i.getIterator(He);let f=l.getNext(),h=o.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=l.getNext(),h=o.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===na?null:this.indexMap_.get(t.toString())}}P.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class OR extends P{constructor(){super(new St(Lh),P.EMPTY_NODE,zn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return P.EMPTY_NODE}isEmpty(){return!1}}const Yl=new OR;Object.defineProperties($,{MIN:{value:new $(la,P.EMPTY_NODE)},MAX:{value:new $(as,Yl)}});hE.__EMPTY_NODE=P.EMPTY_NODE;We.__childrenNodeConstructor=P;CR(Yl);AR(Yl);const IR=!0;function $e(s,t=null){if(s===null)return P.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),k(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new We(i,$e(t))}if(!(s instanceof Array)&&IR){const i=[];let l=!1;if(Ct(s,(h,m)=>{if(h.substring(0,1)!=="."){const g=$e(m);g.isEmpty()||(l=l||!g.getPriority().isEmpty(),i.push(new $(h,g)))}}),i.length===0)return P.EMPTY_NODE;const f=ko(i,TR,h=>h.name,Lh);if(l){const h=ko(i,He.getCompare());return new P(f,$e(t),new zn({".priority":h},{".priority":He}))}else return new P(f,$e(t),zn.Default)}else{let i=P.EMPTY_NODE;return Ct(s,(l,o)=>{if(jn(s,l)&&l.substring(0,1)!=="."){const f=$e(o);(f.isLeafNode()||!f.isEmpty())&&(i=i.updateImmediateChild(l,f))}}),i.updatePriority($e(t))}}bR($e);class DR extends Wo{constructor(t){super(),this.indexPath_=t,k(!ie(t)&&le(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const l=this.extractChild(t.node),o=this.extractChild(i.node),f=l.compareTo(o);return f===0?ma(t.name,i.name):f}makePost(t,i){const l=$e(t),o=P.EMPTY_NODE.updateChild(this.indexPath_,l);return new $(i,o)}maxPost(){const t=P.EMPTY_NODE.updateChild(this.indexPath_,Yl);return new $(as,t)}toString(){return oE(this.indexPath_,0).join("/")}}class MR extends Wo{compare(t,i){const l=t.node.compareTo(i.node);return l===0?ma(t.name,i.name):l}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return $.MIN}maxPost(){return $.MAX}makePost(t,i){const l=$e(t);return new $(i,l)}toString(){return".value"}}const xR=new MR;function _E(s){return{type:"value",snapshotNode:s}}function ra(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function Ol(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function Il(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function LR(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}class Uh{constructor(t){this.index_=t}updateChild(t,i,l,o,f,h){k(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(l.getChild(o))&&m.isEmpty()===l.isEmpty()||(h!=null&&(l.isEmpty()?t.hasChild(i)?h.trackChildChange(Ol(i,m)):k(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(ra(i,l)):h.trackChildChange(Il(i,l,m))),t.isLeafNode()&&l.isEmpty())?t:t.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(t,i,l){return l!=null&&(t.isLeafNode()||t.forEachChild(He,(o,f)=>{i.hasChild(o)||l.trackChildChange(Ol(o,f))}),i.isLeafNode()||i.forEachChild(He,(o,f)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(f)||l.trackChildChange(Il(o,f,h))}else l.trackChildChange(ra(o,f))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?P.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Dl{constructor(t){this.indexedFilter_=new Uh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Dl.getStartPost_(t),this.endPost_=Dl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,l=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&l}updateChild(t,i,l,o,f,h){return this.matches(new $(i,l))||(l=P.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,l,o,f,h)}updateFullNode(t,i,l){i.isLeafNode()&&(i=P.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(P.EMPTY_NODE);const f=this;return i.forEachChild(He,(h,m)=>{f.matches(new $(h,m))||(o=o.updateImmediateChild(h,P.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class UR{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=i=>{const l=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new Dl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,l,o,f,h){return this.rangedFilter_.matches(new $(i,l))||(l=P.EMPTY_NODE),t.getImmediateChild(i).equals(l)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,l,o,f,h):this.fullLimitUpdateChild_(t,i,l,f,h)}updateFullNode(t,i,l){let o;if(i.isLeafNode()||i.isEmpty())o=P.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=P.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(P.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let h=0;for(;f.hasNext();){const m=f.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,P.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,l,o,f){let h;if(this.reverse_){const y=this.index_.getCompare();h=(E,M)=>y(M,E)}else h=this.index_.getCompare();const m=t;k(m.numChildren()===this.limit_,"");const g=new $(i,l),p=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),S=this.rangedFilter_.matches(g);if(m.hasChild(i)){const y=m.getImmediateChild(i);let E=o.getChildAfterChild(this.index_,p,this.reverse_);for(;E!=null&&(E.name===i||m.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const M=E==null?1:h(E,g);if(S&&!l.isEmpty()&&M>=0)return f?.trackChildChange(Il(i,l,y)),m.updateImmediateChild(i,l);{f?.trackChildChange(Ol(i,y));const j=m.updateImmediateChild(i,P.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(f?.trackChildChange(ra(E.name,E.node)),j.updateImmediateChild(E.name,E.node)):j}}else return l.isEmpty()?t:S&&h(p,g)>=0?(f!=null&&(f.trackChildChange(Ol(p.name,p.node)),f.trackChildChange(ra(i,l))),m.updateImmediateChild(i,l).updateImmediateChild(p.name,P.EMPTY_NODE)):t}}class kh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return k(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return k(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:la}hasEnd(){return this.endSet_}getIndexEndValue(){return k(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return k(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:as}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return k(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const t=new kh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function kR(s){return s.loadsAllData()?new Uh(s.getIndex()):s.hasLimit()?new UR(s):new Dl(s)}function ry(s){const t={};if(s.isDefault())return t;let i;if(s.index_===He?i="$priority":s.index_===xR?i="$value":s.index_===na?i="$key":(k(s.index_ instanceof DR,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=Ke(i),s.startSet_){const l=s.startAfterSet_?"startAfter":"startAt";t[l]=Ke(s.indexStartValue_),s.startNameSet_&&(t[l]+=","+Ke(s.indexStartName_))}if(s.endSet_){const l=s.endBeforeSet_?"endBefore":"endAt";t[l]=Ke(s.indexEndValue_),s.endNameSet_&&(t[l]+=","+Ke(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function oy(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==He&&(t.i=s.index_.toString()),t}class zo extends aE{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(k(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,l,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=Vl("p:rest:"),this.listens_={}}listen(t,i,l,o){const f=t._path.toString();this.log_("Listen called for "+f+" "+t._queryIdentifier);const h=zo.getListenId_(t,l),m={};this.listens_[h]=m;const g=ry(t._queryParams);this.restRequest_(f+".json",g,(p,S)=>{let y=S;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(f,y,!1,l),ia(this.listens_,h)===m){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",o(E,null)}})}unlisten(t,i){const l=zo.getListenId_(t,i);delete this.listens_[l]}get(t){const i=ry(t._queryParams),l=t._path.toString(),o=new Fo;return this.restRequest_(l+".json",i,(f,h)=>{let m=h;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(l,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(i.auth=o.accessToken),f&&f.token&&(i.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+fa(i);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(l&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let g=null;if(m.status>=200&&m.status<300){try{g=Al(m.responseText)}catch{Tt("Failed to parse JSON response for "+h+": "+m.responseText)}l(null,g)}else m.status!==401&&m.status!==404&&Tt("Got unsuccessful REST response for "+h+" Status: "+m.status),l(m.status);l=null}},m.open("GET",h,!0),m.send()})}}class zR{constructor(){this.rootNode_=P.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function Ho(){return{value:null,children:new Map}}function yE(s,t,i){if(ie(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const l=le(t);s.children.has(l)||s.children.set(l,Ho());const o=s.children.get(l);t=Oe(t),yE(o,t,i)}}function ih(s,t,i){s.value!==null?i(t,s.value):HR(s,(l,o)=>{const f=new Ne(t.toString()+"/"+l);ih(o,f,i)})}function HR(s,t){s.children.forEach((i,l)=>{t(l,i)})}class BR{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&Ct(this.last_,(l,o)=>{i[l]=i[l]-o}),this.last_=t,i}}const uy=10*1e3,GR=30*1e3,qR=300*1e3;class jR{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new BR(t);const l=uy+(GR-uy)*Math.random();El(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const t=this.statsListener_.get(),i={};let l=!1;Ct(t,(o,f)=>{f>0&&jn(this.statsToReport_,o)&&(i[o]=f,l=!0)}),l&&this.server_.reportStats(i),El(this.reportStats_.bind(this),Math.floor(Math.random()*2*qR))}}var $t;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})($t||($t={}));function vE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function zh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Hh(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class Bo{constructor(t,i,l){this.path=t,this.affectedTree=i,this.revert=l,this.type=$t.ACK_USER_WRITE,this.source=vE()}operationForChild(t){if(ie(this.path)){if(this.affectedTree.value!=null)return k(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Ne(t));return new Bo(de(),i,this.revert)}}else return k(le(this.path)===t,"operationForChild called for unrelated child."),new Bo(Oe(this.path),this.affectedTree,this.revert)}}class Ml{constructor(t,i){this.source=t,this.path=i,this.type=$t.LISTEN_COMPLETE}operationForChild(t){return ie(this.path)?new Ml(this.source,de()):new Ml(this.source,Oe(this.path))}}class ls{constructor(t,i,l){this.source=t,this.path=i,this.snap=l,this.type=$t.OVERWRITE}operationForChild(t){return ie(this.path)?new ls(this.source,de(),this.snap.getImmediateChild(t)):new ls(this.source,Oe(this.path),this.snap)}}class xl{constructor(t,i,l){this.source=t,this.path=i,this.children=l,this.type=$t.MERGE}operationForChild(t){if(ie(this.path)){const i=this.children.subtree(new Ne(t));return i.isEmpty()?null:i.value?new ls(this.source,de(),i.value):new xl(this.source,de(),i)}else return k(le(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new xl(this.source,Oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ni{constructor(t,i,l){this.node_=t,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ie(t))return this.isFullyInitialized()&&!this.filtered_;const i=le(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class VR{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function YR(s,t,i,l){const o=[],f=[];return t.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(LR(h.childName,h.snapshotNode))}),pl(s,o,"child_removed",t,l,i),pl(s,o,"child_added",t,l,i),pl(s,o,"child_moved",f,l,i),pl(s,o,"child_changed",t,l,i),pl(s,o,"value",t,l,i),o}function pl(s,t,i,l,o,f){const h=l.filter(m=>m.type===i);h.sort((m,g)=>FR(s,m,g)),h.forEach(m=>{const g=PR(s,m,f);o.forEach(p=>{p.respondsTo(m.type)&&t.push(p.createEvent(g,s.query_))})})}function PR(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function FR(s,t,i){if(t.childName==null||i.childName==null)throw ua("Should only compare child_ events.");const l=new $(t.childName,t.snapshotNode),o=new $(i.childName,i.snapshotNode);return s.index_.compare(l,o)}function Jo(s,t){return{eventCache:s,serverCache:t}}function Sl(s,t,i,l){return Jo(new Ni(t,i,l),s.serverCache)}function EE(s,t,i,l){return Jo(s.eventCache,new Ni(t,i,l))}function Go(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function rs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let jf;const KR=()=>(jf||(jf=new St(MA)),jf);class Me{static fromObject(t){let i=new Me(null);return Ct(t,(l,o)=>{i=i.set(new Ne(l),o)}),i}constructor(t,i=KR()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:de(),value:this.value};if(ie(t))return null;{const l=le(t),o=this.children.get(l);if(o!==null){const f=o.findRootMostMatchingPathAndValue(Oe(t),i);return f!=null?{path:Qe(new Ne(l),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ie(t))return this;{const i=le(t),l=this.children.get(i);return l!==null?l.subtree(Oe(t)):new Me(null)}}set(t,i){if(ie(t))return new Me(i,this.children);{const l=le(t),f=(this.children.get(l)||new Me(null)).set(Oe(t),i),h=this.children.insert(l,f);return new Me(this.value,h)}}remove(t){if(ie(t))return this.children.isEmpty()?new Me(null):new Me(null,this.children);{const i=le(t),l=this.children.get(i);if(l){const o=l.remove(Oe(t));let f;return o.isEmpty()?f=this.children.remove(i):f=this.children.insert(i,o),this.value===null&&f.isEmpty()?new Me(null):new Me(this.value,f)}else return this}}get(t){if(ie(t))return this.value;{const i=le(t),l=this.children.get(i);return l?l.get(Oe(t)):null}}setTree(t,i){if(ie(t))return i;{const l=le(t),f=(this.children.get(l)||new Me(null)).setTree(Oe(t),i);let h;return f.isEmpty()?h=this.children.remove(l):h=this.children.insert(l,f),new Me(this.value,h)}}fold(t){return this.fold_(de(),t)}fold_(t,i){const l={};return this.children.inorderTraversal((o,f)=>{l[o]=f.fold_(Qe(t,o),i)}),i(t,this.value,l)}findOnPath(t,i){return this.findOnPath_(t,de(),i)}findOnPath_(t,i,l){const o=this.value?l(i,this.value):!1;if(o)return o;if(ie(t))return null;{const f=le(t),h=this.children.get(f);return h?h.findOnPath_(Oe(t),Qe(i,f),l):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,de(),i)}foreachOnPath_(t,i,l){if(ie(t))return this;{this.value&&l(i,this.value);const o=le(t),f=this.children.get(o);return f?f.foreachOnPath_(Oe(t),Qe(i,o),l):new Me(null)}}foreach(t){this.foreach_(de(),t)}foreach_(t,i){this.children.inorderTraversal((l,o)=>{o.foreach_(Qe(t,l),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,l)=>{l.value&&t(i,l.value)})}}class tn{constructor(t){this.writeTree_=t}static empty(){return new tn(new Me(null))}}function Tl(s,t,i){if(ie(t))return new tn(new Me(i));{const l=s.writeTree_.findRootMostValueAndPath(t);if(l!=null){const o=l.path;let f=l.value;const h=ct(o,t);return f=f.updateChild(h,i),new tn(s.writeTree_.set(o,f))}else{const o=new Me(i),f=s.writeTree_.setTree(t,o);return new tn(f)}}}function cy(s,t,i){let l=s;return Ct(i,(o,f)=>{l=Tl(l,Qe(t,o),f)}),l}function fy(s,t){if(ie(t))return tn.empty();{const i=s.writeTree_.setTree(t,new Me(null));return new tn(i)}}function sh(s,t){return us(s,t)!=null}function us(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(ct(i.path,t)):null}function hy(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(He,(l,o)=>{t.push(new $(l,o))}):s.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&t.push(new $(l,o.value))}),t}function Ci(s,t){if(ie(t))return s;{const i=us(s,t);return i!=null?new tn(new Me(i)):new tn(s.writeTree_.subtree(t))}}function ah(s){return s.writeTree_.isEmpty()}function oa(s,t){return SE(de(),s.writeTree_,t)}function SE(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let l=null;return t.children.inorderTraversal((o,f)=>{o===".priority"?(k(f.value!==null,"Priority writes must always be leaf nodes"),l=f.value):i=SE(Qe(s,o),f,i)}),!i.getChild(s).isEmpty()&&l!==null&&(i=i.updateChild(Qe(s,".priority"),l)),i}}function $o(s,t){return AE(t,s)}function QR(s,t,i,l,o){k(l>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:l,visible:o}),o&&(s.visibleWrites=Tl(s.visibleWrites,t,i)),s.lastWriteId=l}function XR(s,t){for(let i=0;i<s.allWrites.length;i++){const l=s.allWrites[i];if(l.writeId===t)return l}return null}function ZR(s,t){const i=s.allWrites.findIndex(m=>m.writeId===t);k(i>=0,"removeWrite called with nonexistent writeId.");const l=s.allWrites[i];s.allWrites.splice(i,1);let o=l.visible,f=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const m=s.allWrites[h];m.visible&&(h>=i&&WR(m,l.path)?o=!1:Jt(l.path,m.path)&&(f=!0)),h--}if(o){if(f)return JR(s),!0;if(l.snap)s.visibleWrites=fy(s.visibleWrites,l.path);else{const m=l.children;Ct(m,g=>{s.visibleWrites=fy(s.visibleWrites,Qe(l.path,g))})}return!0}else return!1}function WR(s,t){if(s.snap)return Jt(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&Jt(Qe(s.path,i),t))return!0;return!1}function JR(s){s.visibleWrites=TE(s.allWrites,$R,de()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function $R(s){return s.visible}function TE(s,t,i){let l=tn.empty();for(let o=0;o<s.length;++o){const f=s[o];if(t(f)){const h=f.path;let m;if(f.snap)Jt(i,h)?(m=ct(i,h),l=Tl(l,m,f.snap)):Jt(h,i)&&(m=ct(h,i),l=Tl(l,de(),f.snap.getChild(m)));else if(f.children){if(Jt(i,h))m=ct(i,h),l=cy(l,m,f.children);else if(Jt(h,i))if(m=ct(h,i),ie(m))l=cy(l,de(),f.children);else{const g=ia(f.children,le(m));if(g){const p=g.getChild(Oe(m));l=Tl(l,de(),p)}}}else throw ua("WriteRecord should have .snap or .children")}}return l}function CE(s,t,i,l,o){if(!l&&!o){const f=us(s.visibleWrites,t);if(f!=null)return f;{const h=Ci(s.visibleWrites,t);if(ah(h))return i;if(i==null&&!sh(h,de()))return null;{const m=i||P.EMPTY_NODE;return oa(h,m)}}}else{const f=Ci(s.visibleWrites,t);if(!o&&ah(f))return i;if(!o&&i==null&&!sh(f,de()))return null;{const h=function(p){return(p.visible||o)&&(!l||!~l.indexOf(p.writeId))&&(Jt(p.path,t)||Jt(t,p.path))},m=TE(s.allWrites,h,t),g=i||P.EMPTY_NODE;return oa(m,g)}}}function eN(s,t,i){let l=P.EMPTY_NODE;const o=us(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(He,(f,h)=>{l=l.updateImmediateChild(f,h)}),l;if(i){const f=Ci(s.visibleWrites,t);return i.forEachChild(He,(h,m)=>{const g=oa(Ci(f,new Ne(h)),m);l=l.updateImmediateChild(h,g)}),hy(f).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}else{const f=Ci(s.visibleWrites,t);return hy(f).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}}function tN(s,t,i,l,o){k(l||o,"Either existingEventSnap or existingServerSnap must exist");const f=Qe(t,i);if(sh(s.visibleWrites,f))return null;{const h=Ci(s.visibleWrites,f);return ah(h)?o.getChild(i):oa(h,o.getChild(i))}}function nN(s,t,i,l){const o=Qe(t,i),f=us(s.visibleWrites,o);if(f!=null)return f;if(l.isCompleteForChild(i)){const h=Ci(s.visibleWrites,o);return oa(h,l.getNode().getImmediateChild(i))}else return null}function iN(s,t){return us(s.visibleWrites,t)}function sN(s,t,i,l,o,f,h){let m;const g=Ci(s.visibleWrites,t),p=us(g,de());if(p!=null)m=p;else if(i!=null)m=oa(g,i);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const S=[],y=h.getCompare(),E=f?m.getReverseIteratorFrom(l,h):m.getIteratorFrom(l,h);let M=E.getNext();for(;M&&S.length<o;)y(M,l)!==0&&S.push(M),M=E.getNext();return S}else return[]}function aN(){return{visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1}}function qo(s,t,i,l){return CE(s.writeTree,s.treePath,t,i,l)}function Bh(s,t){return eN(s.writeTree,s.treePath,t)}function dy(s,t,i,l){return tN(s.writeTree,s.treePath,t,i,l)}function jo(s,t){return iN(s.writeTree,Qe(s.treePath,t))}function lN(s,t,i,l,o,f){return sN(s.writeTree,s.treePath,t,i,l,o,f)}function Gh(s,t,i){return nN(s.writeTree,s.treePath,t,i)}function bE(s,t){return AE(Qe(s.treePath,t),s.writeTree)}function AE(s,t){return{treePath:s,writeTree:t}}class rN{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,l=t.childName;k(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),k(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const f=o.type;if(i==="child_added"&&f==="child_removed")this.changeMap.set(l,Il(l,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&f==="child_added")this.changeMap.delete(l);else if(i==="child_removed"&&f==="child_changed")this.changeMap.set(l,Ol(l,o.oldSnap));else if(i==="child_changed"&&f==="child_added")this.changeMap.set(l,ra(l,t.snapshotNode));else if(i==="child_changed"&&f==="child_changed")this.changeMap.set(l,Il(l,t.snapshotNode,o.oldSnap));else throw ua("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(l,t)}getChanges(){return Array.from(this.changeMap.values())}}class oN{getCompleteChild(t){return null}getChildAfterChild(t,i,l){return null}}const RE=new oN;class qh{constructor(t,i,l=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const l=this.optCompleteServerCache_!=null?new Ni(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gh(this.writes_,t,l)}}getChildAfterChild(t,i,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:rs(this.viewCache_),f=lN(this.writes_,o,i,1,l,t);return f.length===0?null:f[0]}}function uN(s){return{filter:s}}function cN(s,t){k(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),k(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function fN(s,t,i,l,o){const f=new rN;let h,m;if(i.type===$t.OVERWRITE){const p=i;p.source.fromUser?h=lh(s,t,p.path,p.snap,l,o,f):(k(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered()&&!ie(p.path),h=Vo(s,t,p.path,p.snap,l,o,m,f))}else if(i.type===$t.MERGE){const p=i;p.source.fromUser?h=dN(s,t,p.path,p.children,l,o,f):(k(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered(),h=rh(s,t,p.path,p.children,l,o,m,f))}else if(i.type===$t.ACK_USER_WRITE){const p=i;p.revert?h=gN(s,t,p.path,l,o,f):h=mN(s,t,p.path,p.affectedTree,l,o,f)}else if(i.type===$t.LISTEN_COMPLETE)h=pN(s,t,i.path,l,f);else throw ua("Unknown operation type: "+i.type);const g=f.getChanges();return hN(t,h,g),{viewCache:h,changes:g}}function hN(s,t,i){const l=t.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),f=Go(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!l.getNode().equals(f)||!l.getNode().getPriority().equals(f.getPriority()))&&i.push(_E(Go(t)))}}function NE(s,t,i,l,o,f){const h=t.eventCache;if(jo(l,i)!=null)return t;{let m,g;if(ie(i))if(k(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=rs(t),S=p instanceof P?p:P.EMPTY_NODE,y=Bh(l,S);m=s.filter.updateFullNode(t.eventCache.getNode(),y,f)}else{const p=qo(l,rs(t));m=s.filter.updateFullNode(t.eventCache.getNode(),p,f)}else{const p=le(i);if(p===".priority"){k(Ri(i)===1,"Can't have a priority with additional path components");const S=h.getNode();g=t.serverCache.getNode();const y=dy(l,i,S,g);y!=null?m=s.filter.updatePriority(S,y):m=h.getNode()}else{const S=Oe(i);let y;if(h.isCompleteForChild(p)){g=t.serverCache.getNode();const E=dy(l,i,h.getNode(),g);E!=null?y=h.getNode().getImmediateChild(p).updateChild(S,E):y=h.getNode().getImmediateChild(p)}else y=Gh(l,p,t.serverCache);y!=null?m=s.filter.updateChild(h.getNode(),p,y,S,o,f):m=h.getNode()}}return Sl(t,m,h.isFullyInitialized()||ie(i),s.filter.filtersNodes())}}function Vo(s,t,i,l,o,f,h,m){const g=t.serverCache;let p;const S=h?s.filter:s.filter.getIndexedFilter();if(ie(i))p=S.updateFullNode(g.getNode(),l,null);else if(S.filtersNodes()&&!g.isFiltered()){const M=g.getNode().updateChild(i,l);p=S.updateFullNode(g.getNode(),M,null)}else{const M=le(i);if(!g.isCompleteForPath(i)&&Ri(i)>1)return t;const U=Oe(i),ue=g.getNode().getImmediateChild(M).updateChild(U,l);M===".priority"?p=S.updatePriority(g.getNode(),ue):p=S.updateChild(g.getNode(),M,ue,U,RE,null)}const y=EE(t,p,g.isFullyInitialized()||ie(i),S.filtersNodes()),E=new qh(o,y,f);return NE(s,y,i,o,E,m)}function lh(s,t,i,l,o,f,h){const m=t.eventCache;let g,p;const S=new qh(o,t,f);if(ie(i))p=s.filter.updateFullNode(t.eventCache.getNode(),l,h),g=Sl(t,p,!0,s.filter.filtersNodes());else{const y=le(i);if(y===".priority")p=s.filter.updatePriority(t.eventCache.getNode(),l),g=Sl(t,p,m.isFullyInitialized(),m.isFiltered());else{const E=Oe(i),M=m.getNode().getImmediateChild(y);let U;if(ie(E))U=l;else{const j=S.getCompleteChild(y);j!=null?rE(E)===".priority"&&j.getChild(uE(E)).isEmpty()?U=j:U=j.updateChild(E,l):U=P.EMPTY_NODE}if(M.equals(U))g=t;else{const j=s.filter.updateChild(m.getNode(),y,U,E,S,h);g=Sl(t,j,m.isFullyInitialized(),s.filter.filtersNodes())}}}return g}function my(s,t){return s.eventCache.isCompleteForChild(t)}function dN(s,t,i,l,o,f,h){let m=t;return l.foreach((g,p)=>{const S=Qe(i,g);my(t,le(S))&&(m=lh(s,m,S,p,o,f,h))}),l.foreach((g,p)=>{const S=Qe(i,g);my(t,le(S))||(m=lh(s,m,S,p,o,f,h))}),m}function py(s,t,i){return i.foreach((l,o)=>{t=t.updateChild(l,o)}),t}function rh(s,t,i,l,o,f,h,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,p;ie(i)?p=l:p=new Me(null).setTree(i,l);const S=t.serverCache.getNode();return p.children.inorderTraversal((y,E)=>{if(S.hasChild(y)){const M=t.serverCache.getNode().getImmediateChild(y),U=py(s,M,E);g=Vo(s,g,new Ne(y),U,o,f,h,m)}}),p.children.inorderTraversal((y,E)=>{const M=!t.serverCache.isCompleteForChild(y)&&E.value===null;if(!S.hasChild(y)&&!M){const U=t.serverCache.getNode().getImmediateChild(y),j=py(s,U,E);g=Vo(s,g,new Ne(y),j,o,f,h,m)}}),g}function mN(s,t,i,l,o,f,h){if(jo(o,i)!=null)return t;const m=t.serverCache.isFiltered(),g=t.serverCache;if(l.value!=null){if(ie(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return Vo(s,t,i,g.getNode().getChild(i),o,f,m,h);if(ie(i)){let p=new Me(null);return g.getNode().forEachChild(na,(S,y)=>{p=p.set(new Ne(S),y)}),rh(s,t,i,p,o,f,m,h)}else return t}else{let p=new Me(null);return l.foreach((S,y)=>{const E=Qe(i,S);g.isCompleteForPath(E)&&(p=p.set(S,g.getNode().getChild(E)))}),rh(s,t,i,p,o,f,m,h)}}function pN(s,t,i,l,o){const f=t.serverCache,h=EE(t,f.getNode(),f.isFullyInitialized()||ie(i),f.isFiltered());return NE(s,h,i,l,RE,o)}function gN(s,t,i,l,o,f){let h;if(jo(l,i)!=null)return t;{const m=new qh(l,t,o),g=t.eventCache.getNode();let p;if(ie(i)||le(i)===".priority"){let S;if(t.serverCache.isFullyInitialized())S=qo(l,rs(t));else{const y=t.serverCache.getNode();k(y instanceof P,"serverChildren would be complete if leaf node"),S=Bh(l,y)}S=S,p=s.filter.updateFullNode(g,S,f)}else{const S=le(i);let y=Gh(l,S,t.serverCache);y==null&&t.serverCache.isCompleteForChild(S)&&(y=g.getImmediateChild(S)),y!=null?p=s.filter.updateChild(g,S,y,Oe(i),m,f):t.eventCache.getNode().hasChild(S)?p=s.filter.updateChild(g,S,P.EMPTY_NODE,Oe(i),m,f):p=g,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=qo(l,rs(t)),h.isLeafNode()&&(p=s.filter.updateFullNode(p,h,f)))}return h=t.serverCache.isFullyInitialized()||jo(l,de())!=null,Sl(t,p,h,s.filter.filtersNodes())}}class _N{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const l=this.query_._queryParams,o=new Uh(l.getIndex()),f=kR(l);this.processor_=uN(f);const h=i.serverCache,m=i.eventCache,g=o.updateFullNode(P.EMPTY_NODE,h.getNode(),null),p=f.updateFullNode(P.EMPTY_NODE,m.getNode(),null),S=new Ni(g,h.isFullyInitialized(),o.filtersNodes()),y=new Ni(p,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=Jo(y,S),this.eventGenerator_=new VR(this.query_)}get query(){return this.query_}}function yN(s){return s.viewCache_.serverCache.getNode()}function vN(s){return Go(s.viewCache_)}function EN(s,t){const i=rs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!ie(t)&&!i.getImmediateChild(le(t)).isEmpty())?i.getChild(t):null}function gy(s){return s.eventRegistrations_.length===0}function SN(s,t){s.eventRegistrations_.push(t)}function _y(s,t,i){const l=[];if(i){k(t==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(i,o);h&&l.push(h)})}if(t){let o=[];for(let f=0;f<s.eventRegistrations_.length;++f){const h=s.eventRegistrations_[f];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(f+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return l}function yy(s,t,i,l){t.type===$t.MERGE&&t.source.queryId!==null&&(k(rs(s.viewCache_),"We should always have a full cache before handling merges"),k(Go(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,f=fN(s.processor_,o,t,i,l);return cN(s.processor_,f.viewCache),k(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=f.viewCache,wE(s,f.changes,f.viewCache.eventCache.getNode(),null)}function TN(s,t){const i=s.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(He,(f,h)=>{l.push(ra(f,h))}),i.isFullyInitialized()&&l.push(_E(i.getNode())),wE(s,l,i.getNode(),t)}function wE(s,t,i,l){const o=l?[l]:s.eventRegistrations_;return YR(s.eventGenerator_,t,i,o)}let Yo;class OE{constructor(){this.views=new Map}}function CN(s){k(!Yo,"__referenceConstructor has already been defined"),Yo=s}function bN(){return k(Yo,"Reference.ts has not been loaded"),Yo}function AN(s){return s.views.size===0}function jh(s,t,i,l){const o=t.source.queryId;if(o!==null){const f=s.views.get(o);return k(f!=null,"SyncTree gave us an op for an invalid query."),yy(f,t,i,l)}else{let f=[];for(const h of s.views.values())f=f.concat(yy(h,t,i,l));return f}}function IE(s,t,i,l,o){const f=t._queryIdentifier,h=s.views.get(f);if(!h){let m=qo(i,o?l:null),g=!1;m?g=!0:l instanceof P?(m=Bh(i,l),g=!1):(m=P.EMPTY_NODE,g=!1);const p=Jo(new Ni(m,g,!1),new Ni(l,o,!1));return new _N(t,p)}return h}function RN(s,t,i,l,o,f){const h=IE(s,t,l,o,f);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,h),SN(h,i),TN(h,i)}function NN(s,t,i,l){const o=t._queryIdentifier,f=[];let h=[];const m=wi(s);if(o==="default")for(const[g,p]of s.views.entries())h=h.concat(_y(p,i,l)),gy(p)&&(s.views.delete(g),p.query._queryParams.loadsAllData()||f.push(p.query));else{const g=s.views.get(o);g&&(h=h.concat(_y(g,i,l)),gy(g)&&(s.views.delete(o),g.query._queryParams.loadsAllData()||f.push(g.query)))}return m&&!wi(s)&&f.push(new(bN())(t._repo,t._path)),{removed:f,events:h}}function DE(s){const t=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function bi(s,t){let i=null;for(const l of s.views.values())i=i||EN(l,t);return i}function ME(s,t){if(t._queryParams.loadsAllData())return eu(s);{const l=t._queryIdentifier;return s.views.get(l)}}function xE(s,t){return ME(s,t)!=null}function wi(s){return eu(s)!=null}function eu(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Po;function wN(s){k(!Po,"__referenceConstructor has already been defined"),Po=s}function ON(){return k(Po,"Reference.ts has not been loaded"),Po}let IN=1;class vy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Me(null),this.pendingWriteTree_=aN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function LE(s,t,i,l,o){return QR(s.pendingWriteTree_,t,i,l,o),o?Fl(s,new ls(vE(),t,i)):[]}function es(s,t,i=!1){const l=XR(s.pendingWriteTree_,t);if(ZR(s.pendingWriteTree_,t)){let f=new Me(null);return l.snap!=null?f=f.set(de(),!0):Ct(l.children,h=>{f=f.set(new Ne(h),!0)}),Fl(s,new Bo(l.path,f,i))}else return[]}function Pl(s,t,i){return Fl(s,new ls(zh(),t,i))}function DN(s,t,i){const l=Me.fromObject(i);return Fl(s,new xl(zh(),t,l))}function MN(s,t){return Fl(s,new Ml(zh(),t))}function xN(s,t,i){const l=Yh(s,i);if(l){const o=Ph(l),f=o.path,h=o.queryId,m=ct(f,t),g=new Ml(Hh(h),m);return Fh(s,f,g)}else return[]}function UE(s,t,i,l,o=!1){const f=t._path,h=s.syncPointTree_.get(f);let m=[];if(h&&(t._queryIdentifier==="default"||xE(h,t))){const g=NN(h,t,i,l);AN(h)&&(s.syncPointTree_=s.syncPointTree_.remove(f));const p=g.removed;if(m=g.events,!o){const S=p.findIndex(E=>E._queryParams.loadsAllData())!==-1,y=s.syncPointTree_.findOnPath(f,(E,M)=>wi(M));if(S&&!y){const E=s.syncPointTree_.subtree(f);if(!E.isEmpty()){const M=zN(E);for(let U=0;U<M.length;++U){const j=M[U],ue=j.query,me=BE(s,j);s.listenProvider_.startListening(Cl(ue),Ll(s,ue),me.hashFn,me.onComplete)}}}!y&&p.length>0&&!l&&(S?s.listenProvider_.stopListening(Cl(t),null):p.forEach(E=>{const M=s.queryToTagMap.get(tu(E));s.listenProvider_.stopListening(Cl(E),M)}))}HN(s,p)}return m}function kE(s,t,i,l){const o=Yh(s,l);if(o!=null){const f=Ph(o),h=f.path,m=f.queryId,g=ct(h,t),p=new ls(Hh(m),g,i);return Fh(s,h,p)}else return[]}function LN(s,t,i,l){const o=Yh(s,l);if(o){const f=Ph(o),h=f.path,m=f.queryId,g=ct(h,t),p=Me.fromObject(i),S=new xl(Hh(m),g,p);return Fh(s,h,S)}else return[]}function UN(s,t,i,l=!1){const o=t._path;let f=null,h=!1;s.syncPointTree_.foreachOnPath(o,(E,M)=>{const U=ct(E,o);f=f||bi(M,U),h=h||wi(M)});let m=s.syncPointTree_.get(o);m?(h=h||wi(m),f=f||bi(m,de())):(m=new OE,s.syncPointTree_=s.syncPointTree_.set(o,m));let g;f!=null?g=!0:(g=!1,f=P.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((M,U)=>{const j=bi(U,de());j&&(f=f.updateImmediateChild(M,j))}));const p=xE(m,t);if(!p&&!t._queryParams.loadsAllData()){const E=tu(t);k(!s.queryToTagMap.has(E),"View does not exist, but we have a tag");const M=BN();s.queryToTagMap.set(E,M),s.tagToQueryMap.set(M,E)}const S=$o(s.pendingWriteTree_,o);let y=RN(m,t,i,S,f,g);if(!p&&!h&&!l){const E=ME(m,t);y=y.concat(GN(s,t,E))}return y}function Vh(s,t,i){const o=s.pendingWriteTree_,f=s.syncPointTree_.findOnPath(t,(h,m)=>{const g=ct(h,t),p=bi(m,g);if(p)return p});return CE(o,t,f,i,!0)}function kN(s,t){const i=t._path;let l=null;s.syncPointTree_.foreachOnPath(i,(p,S)=>{const y=ct(p,i);l=l||bi(S,y)});let o=s.syncPointTree_.get(i);o?l=l||bi(o,de()):(o=new OE,s.syncPointTree_=s.syncPointTree_.set(i,o));const f=l!=null,h=f?new Ni(l,!0,!1):null,m=$o(s.pendingWriteTree_,t._path),g=IE(o,t,m,f?h.getNode():P.EMPTY_NODE,f);return vN(g)}function Fl(s,t){return zE(t,s.syncPointTree_,null,$o(s.pendingWriteTree_,de()))}function zE(s,t,i,l){if(ie(s.path))return HE(s,t,i,l);{const o=t.get(de());i==null&&o!=null&&(i=bi(o,de()));let f=[];const h=le(s.path),m=s.operationForChild(h),g=t.children.get(h);if(g&&m){const p=i?i.getImmediateChild(h):null,S=bE(l,h);f=f.concat(zE(m,g,p,S))}return o&&(f=f.concat(jh(o,s,l,i))),f}}function HE(s,t,i,l){const o=t.get(de());i==null&&o!=null&&(i=bi(o,de()));let f=[];return t.children.inorderTraversal((h,m)=>{const g=i?i.getImmediateChild(h):null,p=bE(l,h),S=s.operationForChild(h);S&&(f=f.concat(HE(S,m,g,p)))}),o&&(f=f.concat(jh(o,s,l,i))),f}function BE(s,t){const i=t.query,l=Ll(s,i);return{hashFn:()=>(yN(t)||P.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return l?xN(s,i._path,l):MN(s,i._path);{const f=UA(o,i);return UE(s,i,null,f)}}}}function Ll(s,t){const i=tu(t);return s.queryToTagMap.get(i)}function tu(s){return s._path.toString()+"$"+s._queryIdentifier}function Yh(s,t){return s.tagToQueryMap.get(t)}function Ph(s){const t=s.indexOf("$");return k(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new Ne(s.substr(0,t))}}function Fh(s,t,i){const l=s.syncPointTree_.get(t);k(l,"Missing sync point for query tag that we're tracking");const o=$o(s.pendingWriteTree_,t);return jh(l,i,o,null)}function zN(s){return s.fold((t,i,l)=>{if(i&&wi(i))return[eu(i)];{let o=[];return i&&(o=DE(i)),Ct(l,(f,h)=>{o=o.concat(h)}),o}})}function Cl(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(ON())(s._repo,s._path):s}function HN(s,t){for(let i=0;i<t.length;++i){const l=t[i];if(!l._queryParams.loadsAllData()){const o=tu(l),f=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(f)}}}function BN(){return IN++}function GN(s,t,i){const l=t._path,o=Ll(s,t),f=BE(s,i),h=s.listenProvider_.startListening(Cl(t),o,f.hashFn,f.onComplete),m=s.syncPointTree_.subtree(l);if(o)k(!wi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const g=m.fold((p,S,y)=>{if(!ie(p)&&S&&wi(S))return[eu(S).query];{let E=[];return S&&(E=E.concat(DE(S).map(M=>M.query))),Ct(y,(M,U)=>{E=E.concat(U)}),E}});for(let p=0;p<g.length;++p){const S=g[p];s.listenProvider_.stopListening(Cl(S),Ll(s,S))}}return h}class Kh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Kh(i)}node(){return this.node_}}class Qh{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Qe(this.path_,t);return new Qh(this.syncTree_,i)}node(){return Vh(this.syncTree_,this.path_)}}const qN=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Ey=function(s,t,i){if(!s||typeof s!="object")return s;if(k(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return jN(s[".sv"],t,i);if(typeof s[".sv"]=="object")return VN(s[".sv"],t);k(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},jN=function(s,t,i){if(s==="timestamp")return i.timestamp;k(!1,"Unexpected server value: "+s)},VN=function(s,t,i){s.hasOwnProperty("increment")||k(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const l=s.increment;typeof l!="number"&&k(!1,"Unexpected increment value: "+l);const o=t.node();if(k(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const h=o.getValue();return typeof h!="number"?l:h+l},YN=function(s,t,i,l){return Xh(t,new Qh(i,s),l)},GE=function(s,t,i){return Xh(s,new Kh(t),i)};function Xh(s,t,i){const l=s.getPriority().val(),o=Ey(l,t.getImmediateChild(".priority"),i);let f;if(s.isLeafNode()){const h=s,m=Ey(h.getValue(),t,i);return m!==h.getValue()||o!==h.getPriority().val()?new We(m,$e(o)):s}else{const h=s;return f=h,o!==h.getPriority().val()&&(f=f.updatePriority(new We(o))),h.forEachChild(He,(m,g)=>{const p=Xh(g,t.getImmediateChild(m),i);p!==g&&(f=f.updateImmediateChild(m,p))}),f}}class Zh{constructor(t="",i=null,l={children:{},childCount:0}){this.name=t,this.parent=i,this.node=l}}function Wh(s,t){let i=t instanceof Ne?t:new Ne(t),l=s,o=le(i);for(;o!==null;){const f=ia(l.node.children,o)||{children:{},childCount:0};l=new Zh(o,l,f),i=Oe(i),o=le(i)}return l}function ga(s){return s.node.value}function qE(s,t){s.node.value=t,oh(s)}function jE(s){return s.node.childCount>0}function PN(s){return ga(s)===void 0&&!jE(s)}function nu(s,t){Ct(s.node.children,(i,l)=>{t(new Zh(i,s,l))})}function VE(s,t,i,l){i&&t(s),nu(s,o=>{VE(o,t,!0)})}function FN(s,t,i){let l=s.parent;for(;l!==null;){if(t(l))return!0;l=l.parent}return!1}function Kl(s){return new Ne(s.parent===null?s.name:Kl(s.parent)+"/"+s.name)}function oh(s){s.parent!==null&&KN(s.parent,s.name,s)}function KN(s,t,i){const l=PN(i),o=jn(s.node.children,t);l&&o?(delete s.node.children[t],s.node.childCount--,oh(s)):!l&&!o&&(s.node.children[t]=i.node,s.node.childCount++,oh(s))}const QN=/[\[\].#$\/\u0000-\u001F\u007F]/,XN=/[\[\].#$\u0000-\u001F\u007F]/,Vf=10*1024*1024,YE=function(s){return typeof s=="string"&&s.length!==0&&!QN.test(s)},PE=function(s){return typeof s=="string"&&s.length!==0&&!XN.test(s)},ZN=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),PE(s)},WN=function(s,t,i,l){Jh(ph(s,"value"),t,i)},Jh=function(s,t,i){const l=i instanceof Ne?new mR(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+Wi(l));if(typeof t=="function")throw new Error(s+"contains a function "+Wi(l)+" with contents = "+t.toString());if(Gv(t))throw new Error(s+"contains "+t.toString()+" "+Wi(l));if(typeof t=="string"&&t.length>Vf/3&&Ko(t)>Vf)throw new Error(s+"contains a string greater than "+Vf+" utf8 bytes "+Wi(l)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,f=!1;if(Ct(t,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!YE(h)))throw new Error(s+" contains an invalid key ("+h+") "+Wi(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);pR(l,h),Jh(s,m,l),gR(l)}),o&&f)throw new Error(s+' contains ".value" child '+Wi(l)+" in addition to actual children.")}},FE=function(s,t,i,l){if(!PE(i))throw new Error(ph(s,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},JN=function(s,t,i,l){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),FE(s,t,i)},$N=function(s,t){if(le(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},ew=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!YE(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!ZN(i))throw new Error(ph(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class tw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function KE(s,t){let i=null;for(let l=0;l<t.length;l++){const o=t[l],f=o.getPath();i!==null&&!cE(f,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:f}),i.events.push(o)}i&&s.eventLists_.push(i)}function hn(s,t,i){KE(s,i),nw(s,l=>Jt(l,t)||Jt(t,l))}function nw(s,t){s.recursionDepth_++;let i=!0;for(let l=0;l<s.eventLists_.length;l++){const o=s.eventLists_[l];if(o){const f=o.path;t(f)?(iw(s.eventLists_[l]),s.eventLists_[l]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function iw(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const l=i.getEventRunner();vl&&lt("event: "+i.toString()),pa(l)}}}const sw="repo_interrupt",aw=25;class lw{constructor(t,i,l,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new tw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ho(),this.transactionQueueTree_=new Zh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rw(s,t,i){if(s.stats_=Dh(s.repoInfo_),s.forceRestClient_||BA())s.server_=new zo(s.repoInfo_,(l,o,f,h)=>{Sy(s,l,o,f,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Ty(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}s.persistentConnection_=new Hn(s.repoInfo_,t,(l,o,f,h)=>{Sy(s,l,o,f,h)},l=>{Ty(s,l)},l=>{uw(s,l)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(l=>{s.server_.refreshAuthToken(l)}),s.appCheckProvider_.addTokenChangeListener(l=>{s.server_.refreshAppCheckToken(l.token)}),s.statsReporter_=YA(s.repoInfo_,()=>new jR(s.stats_,s.server_)),s.infoData_=new zR,s.infoSyncTree_=new vy({startListening:(l,o,f,h)=>{let m=[];const g=s.infoData_.getNode(l._path);return g.isEmpty()||(m=Pl(s.infoSyncTree_,l._path,g),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),ed(s,"connected",!1),s.serverSyncTree_=new vy({startListening:(l,o,f,h)=>(s.server_.listen(l,f,o,(m,g)=>{const p=h(m,g);hn(s.eventQueue_,l._path,p)}),[]),stopListening:(l,o)=>{s.server_.unlisten(l,o)}})}function ow(s){const i=s.infoData_.getNode(new Ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function $h(s){return qN({timestamp:ow(s)})}function Sy(s,t,i,l,o){s.dataUpdateCount++;const f=new Ne(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(l){const g=Ro(i,p=>$e(p));h=LN(s.serverSyncTree_,f,g,o)}else{const g=$e(i);h=kE(s.serverSyncTree_,f,g,o)}else if(l){const g=Ro(i,p=>$e(p));h=DN(s.serverSyncTree_,f,g)}else{const g=$e(i);h=Pl(s.serverSyncTree_,f,g)}let m=f;h.length>0&&(m=su(s,f)),hn(s.eventQueue_,m,h)}function Ty(s,t){ed(s,"connected",t),t===!1&&hw(s)}function uw(s,t){Ct(t,(i,l)=>{ed(s,i,l)})}function ed(s,t,i){const l=new Ne("/.info/"+t),o=$e(i);s.infoData_.updateSnapshot(l,o);const f=Pl(s.infoSyncTree_,l,o);hn(s.eventQueue_,l,f)}function QE(s){return s.nextWriteId_++}function cw(s,t,i){const l=kN(s.serverSyncTree_,t);return l!=null?Promise.resolve(l):s.server_.get(t).then(o=>{const f=$e(o).withIndex(t._queryParams.getIndex());UN(s.serverSyncTree_,t,i,!0);let h;if(t._queryParams.loadsAllData())h=Pl(s.serverSyncTree_,t._path,f);else{const m=Ll(s.serverSyncTree_,t);h=kE(s.serverSyncTree_,t._path,f,m)}return hn(s.eventQueue_,t._path,h),UE(s.serverSyncTree_,t,i,null,!0),f},o=>(iu(s,"get for query "+Ke(t)+" failed: "+o),Promise.reject(new Error(o))))}function fw(s,t,i,l,o){iu(s,"set",{path:t.toString(),value:i,priority:l});const f=$h(s),h=$e(i,l),m=Vh(s.serverSyncTree_,t),g=GE(h,m,f),p=QE(s),S=LE(s.serverSyncTree_,t,g,p,!0);KE(s.eventQueue_,S),s.server_.put(t.toString(),h.val(!0),(E,M)=>{const U=E==="ok";U||Tt("set at "+t+" failed: "+E);const j=es(s.serverSyncTree_,p,!U);hn(s.eventQueue_,t,j),mw(s,o,E,M)});const y=$E(s,t);su(s,y),hn(s.eventQueue_,y,[])}function hw(s){iu(s,"onDisconnectEvents");const t=$h(s),i=Ho();ih(s.onDisconnect_,de(),(o,f)=>{const h=YN(o,f,s.serverSyncTree_,t);yE(i,o,h)});let l=[];ih(i,de(),(o,f)=>{l=l.concat(Pl(s.serverSyncTree_,o,f));const h=$E(s,o);su(s,h)}),s.onDisconnect_=Ho(),hn(s.eventQueue_,de(),l)}function dw(s){s.persistentConnection_&&s.persistentConnection_.interrupt(sw)}function iu(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),lt(i,...t)}function mw(s,t,i,l){t&&pa(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let f=o;l&&(f+=": "+l);const h=new Error(f);h.code=o,t(h)}})}function XE(s,t,i){return Vh(s.serverSyncTree_,t,i)||P.EMPTY_NODE}function td(s,t=s.transactionQueueTree_){if(t||au(s,t),ga(t)){const i=WE(s,t);k(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&pw(s,Kl(t),i)}else jE(t)&&nu(t,i=>{td(s,i)})}function pw(s,t,i){const l=i.map(p=>p.currentWriteId),o=XE(s,t,l);let f=o;const h=o.hash();for(let p=0;p<i.length;p++){const S=i[p];k(S.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const y=ct(t,S.path);f=f.updateChild(y,S.currentOutputSnapshotRaw)}const m=f.val(!0),g=t;s.server_.put(g.toString(),m,p=>{iu(s,"transaction put response",{path:g.toString(),status:p});let S=[];if(p==="ok"){const y=[];for(let E=0;E<i.length;E++)i[E].status=2,S=S.concat(es(s.serverSyncTree_,i[E].currentWriteId)),i[E].onComplete&&y.push(()=>i[E].onComplete(null,!0,i[E].currentOutputSnapshotResolved)),i[E].unwatcher();au(s,Wh(s.transactionQueueTree_,t)),td(s,s.transactionQueueTree_),hn(s.eventQueue_,t,S);for(let E=0;E<y.length;E++)pa(y[E])}else{if(p==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{Tt("transaction at "+g.toString()+" failed: "+p);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=p}su(s,t)}},h)}function su(s,t){const i=ZE(s,t),l=Kl(i),o=WE(s,i);return gw(s,o,l),l}function gw(s,t,i){if(t.length===0)return;const l=[];let o=[];const h=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const g=t[m],p=ct(i,g.path);let S=!1,y;if(k(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)S=!0,y=g.abortReason,o=o.concat(es(s.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=aw)S=!0,y="maxretry",o=o.concat(es(s.serverSyncTree_,g.currentWriteId,!0));else{const E=XE(s,g.path,h);g.currentInputSnapshot=E;const M=t[m].update(E.val());if(M!==void 0){Jh("transaction failed: Data returned ",M,g.path);let U=$e(M);typeof M=="object"&&M!=null&&jn(M,".priority")||(U=U.updatePriority(E.getPriority()));const ue=g.currentWriteId,me=$h(s),Le=GE(U,E,me);g.currentOutputSnapshotRaw=U,g.currentOutputSnapshotResolved=Le,g.currentWriteId=QE(s),h.splice(h.indexOf(ue),1),o=o.concat(LE(s.serverSyncTree_,g.path,Le,g.currentWriteId,g.applyLocally)),o=o.concat(es(s.serverSyncTree_,ue,!0))}else S=!0,y="nodata",o=o.concat(es(s.serverSyncTree_,g.currentWriteId,!0))}hn(s.eventQueue_,i,o),o=[],S&&(t[m].status=2,(function(E){setTimeout(E,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(y==="nodata"?l.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):l.push(()=>t[m].onComplete(new Error(y),!1,null))))}au(s,s.transactionQueueTree_);for(let m=0;m<l.length;m++)pa(l[m]);td(s,s.transactionQueueTree_)}function ZE(s,t){let i,l=s.transactionQueueTree_;for(i=le(t);i!==null&&ga(l)===void 0;)l=Wh(l,i),t=Oe(t),i=le(t);return l}function WE(s,t){const i=[];return JE(s,t,i),i.sort((l,o)=>l.order-o.order),i}function JE(s,t,i){const l=ga(t);if(l)for(let o=0;o<l.length;o++)i.push(l[o]);nu(t,o=>{JE(s,o,i)})}function au(s,t){const i=ga(t);if(i){let l=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[l]=i[o],l++);i.length=l,qE(t,i.length>0?i:void 0)}nu(t,l=>{au(s,l)})}function $E(s,t){const i=Kl(ZE(s,t)),l=Wh(s.transactionQueueTree_,t);return FN(l,o=>{Yf(s,o)}),Yf(s,l),VE(l,o=>{Yf(s,o)}),i}function Yf(s,t){const i=ga(t);if(i){const l=[];let o=[],f=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(k(f===h-1,"All SENT items should be at beginning of queue."),f=h,i[h].status=3,i[h].abortReason="set"):(k(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(es(s.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&l.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?qE(t,void 0):i.length=f+1,hn(s.eventQueue_,Kl(t),o);for(let h=0;h<l.length;h++)pa(l[h])}}function _w(s){let t="";const i=s.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let o=i[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function yw(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const l=i.split("=");l.length===2?t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Tt(`Invalid query segment '${i}' in query '${s}'`)}return t}const Cy=function(s,t){const i=vw(s),l=i.namespace;i.domain==="firebase.com"&&qn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&i.domain!=="localhost"&&qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||IA();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Jv(i.host,i.secure,l,o,t,"",l!==i.subdomain),path:new Ne(i.pathString)}},vw=function(s){let t="",i="",l="",o="",f="",h=!0,m="https",g=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(m=s.substring(0,p-1),s=s.substring(p+2));let S=s.indexOf("/");S===-1&&(S=s.length);let y=s.indexOf("?");y===-1&&(y=s.length),t=s.substring(0,Math.min(S,y)),S<y&&(o=_w(s.substring(S,y)));const E=yw(s.substring(Math.min(s.length,y)));p=t.indexOf(":"),p>=0?(h=m==="https"||m==="wss",g=parseInt(t.substring(p+1),10)):p=t.length;const M=t.slice(0,p);if(M.toLowerCase()==="localhost")i="localhost";else if(M.split(".").length<=2)i=M;else{const U=t.indexOf(".");l=t.substring(0,U).toLowerCase(),i=t.substring(U+1),f=l}"ns"in E&&(f=E.ns)}return{host:t,port:g,domain:i,subdomain:l,secure:h,scheme:m,pathString:o,namespace:f}};class Ew{constructor(t,i,l,o){this.eventType=t,this.eventRegistration=i,this.snapshot=l,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class Sw{constructor(t,i,l){this.eventRegistration=t,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Tw{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return k(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class nd{constructor(t,i,l,o){this._repo=t,this._path=i,this._queryParams=l,this._orderByCalled=o}get key(){return ie(this._path)?null:rE(this._path)}get ref(){return new Vn(this._repo,this._path)}get _queryIdentifier(){const t=oy(this._queryParams),i=Oh(t);return i==="{}"?"default":i}get _queryObject(){return oy(this._queryParams)}isEqual(t){if(t=Lt(t),!(t instanceof nd))return!1;const i=this._repo===t._repo,l=cE(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+dR(this._path)}}class Vn extends nd{constructor(t,i){super(t,i,new kh,!1)}get parent(){const t=uE(this._path);return t===null?null:new Vn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ul{constructor(t,i,l){this._node=t,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Ne(t),l=uh(this.ref,t);return new Ul(this._node.getChild(i),l,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,o)=>t(new Ul(o,uh(this.ref,l),He)))}hasChild(t){const i=new Ne(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Mn(s,t){return s=Lt(s),s._checkNotDeleted("ref"),t!==void 0?uh(s._root,t):s._root}function uh(s,t){return s=Lt(s),le(s._path)===null?JN("child","path",t):FE("child","path",t),new Vn(s._repo,Qe(s._path,t))}function _o(s,t){s=Lt(s),$N("set",s._path),WN("set",t,s._path);const i=new Fo;return fw(s._repo,s._path,t,null,i.wrapCallback(()=>{})),i.promise}function gl(s){s=Lt(s);const t=new Tw(()=>{}),i=new id(t);return cw(s._repo,s,i).then(l=>new Ul(l,new Vn(s._repo,s._path),s._queryParams.getIndex()))}class id{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const l=i._queryParams.getIndex();return new Ew("value",this,new Ul(t.snapshotNode,new Vn(i._repo,i._path),l))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new Sw(this,t,i):null}matches(t){return t instanceof id?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}CN(Vn);wN(Vn);const Cw="FIREBASE_DATABASE_EMULATOR_HOST",ch={};let bw=!1;function Aw(s,t,i,l){const o=t.lastIndexOf(":"),f=t.substring(0,o),h=ca(f);s.repoInfo_=new Jv(t,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),l&&(s.authTokenProvider_=l)}function Rw(s,t,i,l,o){let f=l||s.options.databaseURL;f===void 0&&(s.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lt("Using default host for project ",s.options.projectId),f=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=Cy(f,o),m=h.repoInfo,g;typeof process<"u"&&Y_&&(g=Y_[Cw]),g?(f=`http://${g}?ns=${m.namespace}`,h=Cy(f,o),m=h.repoInfo):h.repoInfo.secure;const p=new qA(s.name,s.options,t);ew("Invalid Firebase Database URL",h),ie(h.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");const S=ww(m,s,p,new GA(s,i));return new Ow(S,s)}function Nw(s,t){const i=ch[t];(!i||i[s.key]!==s)&&qn(`Database ${t}(${s.repoInfo_}) has already been deleted.`),dw(s),delete i[s.key]}function ww(s,t,i,l){let o=ch[t.name];o||(o={},ch[t.name]=o);let f=o[s.toURLString()];return f&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new lw(s,bw,i,l),o[s.toURLString()]=f,f}class Ow{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vn(this._repo,de())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Nw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&qn("Cannot call "+t+" on a deleted database.")}}function Iw(s=sv(),t){const i=yh(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const l=QT("database");l&&Dw(i,...l)}return i}function Dw(s,t,i,l={}){s=Lt(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,f=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&ns(l,f.repoInfo_.emulatorOptions))return;qn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)l.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new To(To.OWNER);else if(l.mockUserToken){const m=typeof l.mockUserToken=="string"?l.mockUserToken:XT(l.mockUserToken,s.app.options.projectId);h=new To(m)}ca(t)&&(Wy(t),Jy("Database",!0)),Aw(f,o,l,h)}function Mw(s){bA(ha),sa(new is("database",(t,{instanceIdentifier:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),f=t.getProvider("app-check-internal");return Rw(l,o,f,i)},"PUBLIC").setMultipleInstances(!0)),Ti(P_,F_,s),Ti(P_,F_,"esm2020")}Hn.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Hn.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};Mw();const xw={apiKey:"AIzaSyAtH_XNN9zq8aQOW72qfC3Ezq_pp6HyxHA",authDomain:"phishingchallenge-411da.firebaseapp.com",databaseURL:"https://phishingchallenge-411da-default-rtdb.firebaseio.com",projectId:"phishingchallenge-411da",storageBucket:"phishingchallenge-411da.firebasestorage.app",messagingSenderId:"197655798552",appId:"1:197655798552:web:d148750e7ed7e3a9a7b46d",measurementId:"G-S8Y0KC5CYV"},eS=iv(xw),by=TA(eS),xn=Iw(eS);var Ay;(function(s){s.STRING="string",s.NUMBER="number",s.INTEGER="integer",s.BOOLEAN="boolean",s.ARRAY="array",s.OBJECT="object"})(Ay||(Ay={}));var Ry;(function(s){s.LANGUAGE_UNSPECIFIED="language_unspecified",s.PYTHON="python"})(Ry||(Ry={}));var Ny;(function(s){s.OUTCOME_UNSPECIFIED="outcome_unspecified",s.OUTCOME_OK="outcome_ok",s.OUTCOME_FAILED="outcome_failed",s.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Ny||(Ny={}));const wy=["user","model","function","system"];var Oy;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Oy||(Oy={}));var Iy;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(Iy||(Iy={}));var Dy;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(Dy||(Dy={}));var My;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER"})(My||(My={}));var bl;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.OTHER="OTHER"})(bl||(bl={}));var xy;(function(s){s.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",s.RETRIEVAL_QUERY="RETRIEVAL_QUERY",s.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",s.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",s.CLASSIFICATION="CLASSIFICATION",s.CLUSTERING="CLUSTERING"})(xy||(xy={}));var Ly;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(Ly||(Ly={}));var Uy;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(Uy||(Uy={}));class rt extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Zs extends rt{constructor(t,i){super(t),this.response=i}}class tS extends rt{constructor(t,i,l,o){super(t),this.status=i,this.statusText=l,this.errorDetails=o}}class Ai extends rt{}class nS extends rt{}const Lw="https://generativelanguage.googleapis.com",Uw="v1beta",kw="0.24.1",zw="genai-js";var os;(function(s){s.GENERATE_CONTENT="generateContent",s.STREAM_GENERATE_CONTENT="streamGenerateContent",s.COUNT_TOKENS="countTokens",s.EMBED_CONTENT="embedContent",s.BATCH_EMBED_CONTENTS="batchEmbedContents"})(os||(os={}));class Hw{constructor(t,i,l,o,f){this.model=t,this.task=i,this.apiKey=l,this.stream=o,this.requestOptions=f}toString(){var t,i;const l=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||Uw;let f=`${((i=this.requestOptions)===null||i===void 0?void 0:i.baseUrl)||Lw}/${l}/${this.model}:${this.task}`;return this.stream&&(f+="?alt=sse"),f}}function Bw(s){const t=[];return s?.apiClient&&t.push(s.apiClient),t.push(`${zw}/${kw}`),t.join(" ")}async function Gw(s){var t;const i=new Headers;i.append("Content-Type","application/json"),i.append("x-goog-api-client",Bw(s.requestOptions)),i.append("x-goog-api-key",s.apiKey);let l=(t=s.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(l){if(!(l instanceof Headers))try{l=new Headers(l)}catch(o){throw new Ai(`unable to convert customHeaders value ${JSON.stringify(l)} to Headers: ${o.message}`)}for(const[o,f]of l.entries()){if(o==="x-goog-api-key")throw new Ai(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new Ai(`Header name ${o} can only be set using the apiClient field`);i.append(o,f)}}return i}async function qw(s,t,i,l,o,f){const h=new Hw(s,t,i,l,f);return{url:h.toString(),fetchOptions:Object.assign(Object.assign({},Pw(f)),{method:"POST",headers:await Gw(h),body:o})}}async function Ql(s,t,i,l,o,f={},h=fetch){const{url:m,fetchOptions:g}=await qw(s,t,i,l,o,f);return jw(m,g,h)}async function jw(s,t,i=fetch){let l;try{l=await i(s,t)}catch(o){Vw(o,s)}return l.ok||await Yw(l,s),l}function Vw(s,t){let i=s;throw i.name==="AbortError"?(i=new nS(`Request aborted when fetching ${t.toString()}: ${s.message}`),i.stack=s.stack):s instanceof tS||s instanceof Ai||(i=new rt(`Error fetching from ${t.toString()}: ${s.message}`),i.stack=s.stack),i}async function Yw(s,t){let i="",l;try{const o=await s.json();i=o.error.message,o.error.details&&(i+=` ${JSON.stringify(o.error.details)}`,l=o.error.details)}catch{}throw new tS(`Error fetching from ${t.toString()}: [${s.status} ${s.statusText}] ${i}`,s.status,s.statusText,l)}function Pw(s){const t={};if(s?.signal!==void 0||s?.timeout>=0){const i=new AbortController;s?.timeout>=0&&setTimeout(()=>i.abort(),s.timeout),s?.signal&&s.signal.addEventListener("abort",()=>{i.abort()}),t.signal=i.signal}return t}function sd(s){return s.text=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Co(s.candidates[0]))throw new Zs(`${gi(s)}`,s);return Fw(s)}else if(s.promptFeedback)throw new Zs(`Text not available. ${gi(s)}`,s);return""},s.functionCall=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Co(s.candidates[0]))throw new Zs(`${gi(s)}`,s);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),ky(s)[0]}else if(s.promptFeedback)throw new Zs(`Function call not available. ${gi(s)}`,s)},s.functionCalls=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Co(s.candidates[0]))throw new Zs(`${gi(s)}`,s);return ky(s)}else if(s.promptFeedback)throw new Zs(`Function call not available. ${gi(s)}`,s)},s}function Fw(s){var t,i,l,o;const f=[];if(!((i=(t=s.candidates)===null||t===void 0?void 0:t[0].content)===null||i===void 0)&&i.parts)for(const h of(o=(l=s.candidates)===null||l===void 0?void 0:l[0].content)===null||o===void 0?void 0:o.parts)h.text&&f.push(h.text),h.executableCode&&f.push("\n```"+h.executableCode.language+`
`+h.executableCode.code+"\n```\n"),h.codeExecutionResult&&f.push("\n```\n"+h.codeExecutionResult.output+"\n```\n");return f.length>0?f.join(""):""}function ky(s){var t,i,l,o;const f=[];if(!((i=(t=s.candidates)===null||t===void 0?void 0:t[0].content)===null||i===void 0)&&i.parts)for(const h of(o=(l=s.candidates)===null||l===void 0?void 0:l[0].content)===null||o===void 0?void 0:o.parts)h.functionCall&&f.push(h.functionCall);if(f.length>0)return f}const Kw=[bl.RECITATION,bl.SAFETY,bl.LANGUAGE];function Co(s){return!!s.finishReason&&Kw.includes(s.finishReason)}function gi(s){var t,i,l;let o="";if((!s.candidates||s.candidates.length===0)&&s.promptFeedback)o+="Response was blocked",!((t=s.promptFeedback)===null||t===void 0)&&t.blockReason&&(o+=` due to ${s.promptFeedback.blockReason}`),!((i=s.promptFeedback)===null||i===void 0)&&i.blockReasonMessage&&(o+=`: ${s.promptFeedback.blockReasonMessage}`);else if(!((l=s.candidates)===null||l===void 0)&&l[0]){const f=s.candidates[0];Co(f)&&(o+=`Candidate was blocked due to ${f.finishReason}`,f.finishMessage&&(o+=`: ${f.finishMessage}`))}return o}function kl(s){return this instanceof kl?(this.v=s,this):new kl(s)}function Qw(s,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(s,t||[]),o,f=[];return o={},h("next"),h("throw"),h("return"),o[Symbol.asyncIterator]=function(){return this},o;function h(E){l[E]&&(o[E]=function(M){return new Promise(function(U,j){f.push([E,M,U,j])>1||m(E,M)})})}function m(E,M){try{g(l[E](M))}catch(U){y(f[0][3],U)}}function g(E){E.value instanceof kl?Promise.resolve(E.value.v).then(p,S):y(f[0][2],E)}function p(E){m("next",E)}function S(E){m("throw",E)}function y(E,M){E(M),f.shift(),f.length&&m(f[0][0],f[0][1])}}const zy=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Xw(s){const t=s.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),i=Jw(t),[l,o]=i.tee();return{stream:Ww(l),response:Zw(o)}}async function Zw(s){const t=[],i=s.getReader();for(;;){const{done:l,value:o}=await i.read();if(l)return sd($w(t));t.push(o)}}function Ww(s){return Qw(this,arguments,function*(){const i=s.getReader();for(;;){const{value:l,done:o}=yield kl(i.read());if(o)break;yield yield kl(sd(l))}})}function Jw(s){const t=s.getReader();return new ReadableStream({start(l){let o="";return f();function f(){return t.read().then(({value:h,done:m})=>{if(m){if(o.trim()){l.error(new rt("Failed to parse stream"));return}l.close();return}o+=h;let g=o.match(zy),p;for(;g;){try{p=JSON.parse(g[1])}catch{l.error(new rt(`Error parsing JSON response: "${g[1]}"`));return}l.enqueue(p),o=o.substring(g[0].length),g=o.match(zy)}return f()}).catch(h=>{let m=h;throw m.stack=h.stack,m.name==="AbortError"?m=new nS("Request aborted when reading from the stream"):m=new rt("Error reading from the stream"),m})}}})}function $w(s){const t=s[s.length-1],i={promptFeedback:t?.promptFeedback};for(const l of s){if(l.candidates){let o=0;for(const f of l.candidates)if(i.candidates||(i.candidates=[]),i.candidates[o]||(i.candidates[o]={index:o}),i.candidates[o].citationMetadata=f.citationMetadata,i.candidates[o].groundingMetadata=f.groundingMetadata,i.candidates[o].finishReason=f.finishReason,i.candidates[o].finishMessage=f.finishMessage,i.candidates[o].safetyRatings=f.safetyRatings,f.content&&f.content.parts){i.candidates[o].content||(i.candidates[o].content={role:f.content.role||"user",parts:[]});const h={};for(const m of f.content.parts)m.text&&(h.text=m.text),m.functionCall&&(h.functionCall=m.functionCall),m.executableCode&&(h.executableCode=m.executableCode),m.codeExecutionResult&&(h.codeExecutionResult=m.codeExecutionResult),Object.keys(h).length===0&&(h.text=""),i.candidates[o].content.parts.push(h)}o++}l.usageMetadata&&(i.usageMetadata=l.usageMetadata)}return i}async function iS(s,t,i,l){const o=await Ql(t,os.STREAM_GENERATE_CONTENT,s,!0,JSON.stringify(i),l);return Xw(o)}async function sS(s,t,i,l){const f=await(await Ql(t,os.GENERATE_CONTENT,s,!1,JSON.stringify(i),l)).json();return{response:sd(f)}}function aS(s){if(s!=null){if(typeof s=="string")return{role:"system",parts:[{text:s}]};if(s.text)return{role:"system",parts:[s]};if(s.parts)return s.role?s:{role:"system",parts:s.parts}}}function zl(s){let t=[];if(typeof s=="string")t=[{text:s}];else for(const i of s)typeof i=="string"?t.push({text:i}):t.push(i);return eO(t)}function eO(s){const t={role:"user",parts:[]},i={role:"function",parts:[]};let l=!1,o=!1;for(const f of s)"functionResponse"in f?(i.parts.push(f),o=!0):(t.parts.push(f),l=!0);if(l&&o)throw new rt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!l&&!o)throw new rt("No content is provided for sending chat message.");return l?t:i}function tO(s,t){var i;let l={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(i=t?.cachedContent)===null||i===void 0?void 0:i.name,contents:[]};const o=s.generateContentRequest!=null;if(s.contents){if(o)throw new Ai("CountTokensRequest must have one of contents or generateContentRequest, not both.");l.contents=s.contents}else if(o)l=Object.assign(Object.assign({},l),s.generateContentRequest);else{const f=zl(s);l.contents=[f]}return{generateContentRequest:l}}function Hy(s){let t;return s.contents?t=s:t={contents:[zl(s)]},s.systemInstruction&&(t.systemInstruction=aS(s.systemInstruction)),t}function nO(s){return typeof s=="string"||Array.isArray(s)?{content:zl(s)}:s}const By=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],iO={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function sO(s){let t=!1;for(const i of s){const{role:l,parts:o}=i;if(!t&&l!=="user")throw new rt(`First content should be with role 'user', got ${l}`);if(!wy.includes(l))throw new rt(`Each item should include role field. Got ${l} but valid roles are: ${JSON.stringify(wy)}`);if(!Array.isArray(o))throw new rt("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new rt("Each Content should have at least one part");const f={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const m of o)for(const g of By)g in m&&(f[g]+=1);const h=iO[l];for(const m of By)if(!h.includes(m)&&f[m]>0)throw new rt(`Content with role '${l}' can't contain '${m}' part`);t=!0}}function Gy(s){var t;if(s.candidates===void 0||s.candidates.length===0)return!1;const i=(t=s.candidates[0])===null||t===void 0?void 0:t.content;if(i===void 0||i.parts===void 0||i.parts.length===0)return!1;for(const l of i.parts)if(l===void 0||Object.keys(l).length===0||l.text!==void 0&&l.text==="")return!1;return!0}const qy="SILENT_ERROR";class aO{constructor(t,i,l,o={}){this.model=i,this.params=l,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,l?.history&&(sO(l.history),this._history=l.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,i={}){var l,o,f,h,m,g;await this._sendPromise;const p=zl(t),S={safetySettings:(l=this.params)===null||l===void 0?void 0:l.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(f=this.params)===null||f===void 0?void 0:f.tools,toolConfig:(h=this.params)===null||h===void 0?void 0:h.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,p]},y=Object.assign(Object.assign({},this._requestOptions),i);let E;return this._sendPromise=this._sendPromise.then(()=>sS(this._apiKey,this.model,S,y)).then(M=>{var U;if(Gy(M.response)){this._history.push(p);const j=Object.assign({parts:[],role:"model"},(U=M.response.candidates)===null||U===void 0?void 0:U[0].content);this._history.push(j)}else{const j=gi(M.response);j&&console.warn(`sendMessage() was unsuccessful. ${j}. Inspect response object for details.`)}E=M}).catch(M=>{throw this._sendPromise=Promise.resolve(),M}),await this._sendPromise,E}async sendMessageStream(t,i={}){var l,o,f,h,m,g;await this._sendPromise;const p=zl(t),S={safetySettings:(l=this.params)===null||l===void 0?void 0:l.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(f=this.params)===null||f===void 0?void 0:f.tools,toolConfig:(h=this.params)===null||h===void 0?void 0:h.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,p]},y=Object.assign(Object.assign({},this._requestOptions),i),E=iS(this._apiKey,this.model,S,y);return this._sendPromise=this._sendPromise.then(()=>E).catch(M=>{throw new Error(qy)}).then(M=>M.response).then(M=>{if(Gy(M)){this._history.push(p);const U=Object.assign({},M.candidates[0].content);U.role||(U.role="model"),this._history.push(U)}else{const U=gi(M);U&&console.warn(`sendMessageStream() was unsuccessful. ${U}. Inspect response object for details.`)}}).catch(M=>{M.message!==qy&&console.error(M)}),E}}async function lO(s,t,i,l){return(await Ql(t,os.COUNT_TOKENS,s,!1,JSON.stringify(i),l)).json()}async function rO(s,t,i,l){return(await Ql(t,os.EMBED_CONTENT,s,!1,JSON.stringify(i),l)).json()}async function oO(s,t,i,l){const o=i.requests.map(h=>Object.assign(Object.assign({},h),{model:t}));return(await Ql(t,os.BATCH_EMBED_CONTENTS,s,!1,JSON.stringify({requests:o}),l)).json()}class jy{constructor(t,i,l={}){this.apiKey=t,this._requestOptions=l,i.model.includes("/")?this.model=i.model:this.model=`models/${i.model}`,this.generationConfig=i.generationConfig||{},this.safetySettings=i.safetySettings||[],this.tools=i.tools,this.toolConfig=i.toolConfig,this.systemInstruction=aS(i.systemInstruction),this.cachedContent=i.cachedContent}async generateContent(t,i={}){var l;const o=Hy(t),f=Object.assign(Object.assign({},this._requestOptions),i);return sS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(l=this.cachedContent)===null||l===void 0?void 0:l.name},o),f)}async generateContentStream(t,i={}){var l;const o=Hy(t),f=Object.assign(Object.assign({},this._requestOptions),i);return iS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(l=this.cachedContent)===null||l===void 0?void 0:l.name},o),f)}startChat(t){var i;return new aO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},t),this._requestOptions)}async countTokens(t,i={}){const l=tO(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),i);return lO(this.apiKey,this.model,l,o)}async embedContent(t,i={}){const l=nO(t),o=Object.assign(Object.assign({},this._requestOptions),i);return rO(this.apiKey,this.model,l,o)}async batchEmbedContents(t,i={}){const l=Object.assign(Object.assign({},this._requestOptions),i);return oO(this.apiKey,this.model,t,l)}}class uO{constructor(t){this.apiKey=t}getGenerativeModel(t,i){if(!t.model)throw new rt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new jy(this.apiKey,t,i)}getGenerativeModelFromCachedContent(t,i,l){if(!t.name)throw new Ai("Cached content must contain a `name` field.");if(!t.model)throw new Ai("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const h of o)if(i?.[h]&&t[h]&&i?.[h]!==t[h]){if(h==="model"){const m=i.model.startsWith("models/")?i.model.replace("models/",""):i.model,g=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(m===g)continue}throw new Ai(`Different value for "${h}" specified in modelParams (${i[h]}) and cachedContent (${t[h]})`)}const f=Object.assign(Object.assign({},i),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new jy(this.apiKey,f,l)}}const cO="AIzaSyD1NBsbEkSDLjsBy5DNQxSNeZ-1hSgg0hw",fO=new uO(cO),Vy=fO.getGenerativeModel({model:"gemini-2.5-flash"});function hO(){const[s,t]=un.useState(null),[i,l]=un.useState(0),[o,f]=un.useState(0),[h,m]=un.useState(!1),[g,p]=un.useState(""),[S,y]=un.useState(!1),[E,M]=un.useState(!1),[U,j]=un.useState(0),ue=async()=>{try{const ge=new Ln,oe=await D1(by,ge);t(oe.user),console.log("User info:",oe.user),(await gl(Mn(xn,"users/"+oe.user.uid))).exists()||await _o(Mn(xn,"users/"+oe.user.uid),{name:oe.user.displayName,email:oe.user.email,score:0})}catch(ge){console.error("Login error:",ge)}};async function me(){m(!0);const ge=Math.random();try{if(ge<.5){y(!0);const oe=await Vy.generateContent(`Generate a professional looking phishing email that attempts to trick the user in some way. The email should be 150 words or less and be formatted like a real email with a subject line, greeting, body, and signature. 
          Use made up names for people and companies. Never use the word phishing. Indent the email using spaces to make it look like a real email.
          Use the following template:
          Subject: [Subject Line]

          From: [Sender Name] <[Sender Email]>
          To: [Recipient Name] <[Recipient Email]>

          [Body of the email]

          [Signature]
          
          Replace [Subject Line], [Sender Name], [Sender Email], [Recipient Name], [Recipient Email], [Body of the email], and [Signature] with appropriate content for an email. The body should contain a call to action that attempts to trick the user in some way, such as asking them to click a link or provide personal information.
          `);p(oe.response.text()),console.log(oe.response.text())}else{y(!1);const oe=await Vy.generateContent(`Generate a professional email. The email should be 150 words or less and be formatted like a real email with a subject line, greeting, body, and signature. 
          Use made up names for people and companies. Indent the email using spaces to make it look like a real email.
          Use the following template:
          Subject: [Subject Line]

          From: [Sender Name] <[Sender Email]>
          To: [Recipient Name] <[Recipient Email]>

          [Body of the email]

          [Signature]
          
          Replace [Subject Line], [Sender Name], [Sender Email], [Recipient Name], [Recipient Email], [Body of the email], and [Signature] with appropriate content for an email. 
          `);console.log("IsPhishing:",S),p(oe.response.text()),console.log(oe.response.text())}}catch(oe){console.error("Gemini error:",oe),p("Error generating email.")}m(!1)}const Le=async()=>{let ge;try{if(console.log("user: ",s),!s)return;const oe=await gl(Mn(xn,"users/"+s.uid));if(console.log("snapshot: ",oe),oe.exists()){const X=oe.val();console.log("data: ",X),ge=X.score}else return console.log("No data found"),null;console.log("score: ",ge),console.log("currentScore: ",i),ge<i&&await _o(Mn(xn,"users/"+s.uid+"/score"),i);const Ue=await gl(Mn(xn,"highscore"));if(Ue.exists()){const X=Ue.val();i>X&&await _o(Mn(xn,"highscore"),i)}else await _o(Mn(xn,"highscore"),i)}catch(oe){console.error("error:",oe)}},we=async()=>{try{await f1(by),t(null)}catch(ge){console.error("Logout error:",ge)}};return un.useEffect(()=>{async function ge(){if(s){const Ue=await gl(Mn(xn,"users/"+s.uid));if(Ue.exists()){const X=Ue.val();f(X.score)}else console.log("No data found")}const oe=await gl(Mn(xn,"highscore"));if(oe.exists()){const Ue=oe.val();j(Ue)}}ge()},[s]),he.jsxs("div",{className:"animBG",children:[he.jsxs("header",{className:"fixed-header",children:[he.jsx("h1",{style:{color:"white",margin:0,justifyContent:"right"},children:"Phishing Fighter!"}),s?he.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[he.jsxs("p",{children:["Highest Score: ",U]}),he.jsxs("p",{children:["Your High Score: ",o]}),he.jsx("button",{className:"button2",onClick:we,children:"Logout"})]}):he.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[he.jsxs("p",{children:["Highest Score: ",U]}),he.jsx("button",{className:"button2",onClick:ue,children:"Login"})]})]}),he.jsx("div",{children:!g&&!h&&!E?he.jsx("div",{children:he.jsxs("div",{className:"card",children:[he.jsx("h2",{children:"Hello!"}),he.jsx("button",{className:"button",onClick:me,children:"Start Fighting"}),he.jsx("h3",{children:"Click here to start the Phishing Fight and test how well you can spot phishing emails."})]})}):h?he.jsxs("div",{className:"card",children:[he.jsxs("h3",{children:["Score: ",i]}),he.jsx("p",{children:"Loading..."})]}):g&&!E?he.jsxs("div",{className:"card2",children:[he.jsxs("h3",{children:["Score: ",i]}),he.jsx("p",{style:{whiteSpace:"pre-wrap"},children:g}),he.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"2rem"},children:[he.jsx("button",{className:"button",onClick:()=>{S?(l(i+1),me()):(Le(),M(!0)),p("")},children:"Phishing"}),he.jsx("button",{className:"button",onClick:()=>{S?(Le(),M(!0)):(l(i+1),me()),p("")},children:"Not Phishing"})]})]}):he.jsxs("div",{className:"card",children:[he.jsxs("h2",{children:["You got Phished! Your score: ",i]}),he.jsx("button",{className:"button",onClick:()=>{M(!1),l(0)},children:"Return Home"})]})}),he.jsx("footer",{className:"fixed-footer",style:{backgroundColor:"black",textAlign:"left",padding:"1rem"},children:he.jsx("h3",{style:{color:"white"},children:"Created by Philip Colborn, Alexander Chambers"})})]})}HT.createRoot(document.getElementById("root")).render(he.jsx(un.StrictMode,{children:he.jsx(hO,{})}));
